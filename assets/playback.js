(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else {
		var a = factory();
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(typeof self !== 'undefined' ? self : this, function() {
return webpackJsonp([0],{

/***/ 140:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__closure_polyfill__ = __webpack_require__(78);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__targetSelector__ = __webpack_require__(391);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__selenium_api__ = __webpack_require__(227);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__selenium_browserbot__ = __webpack_require__(228);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__locatorBuilders__ = __webpack_require__(230);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__region__ = __webpack_require__(394);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__prompt_injector__ = __webpack_require__(395);\n/*\n * Copyright 2017 SideeX committers\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n *\n */const selenium=new __WEBPACK_IMPORTED_MODULE_3__selenium_api__[\"a\" /* default */](__WEBPACK_IMPORTED_MODULE_4__selenium_browserbot__[\"b\" /* default */].createForWindow(window,true));\n/* harmony export (immutable) */ __webpack_exports__[\"selenium\"] = selenium;\nconst locatorBuilders=new __WEBPACK_IMPORTED_MODULE_5__locatorBuilders__[\"a\" /* default */](window);let contentSideexTabId=window.contentSideexTabId;let targetSelector;Object(__WEBPACK_IMPORTED_MODULE_7__prompt_injector__[\"a\" /* attach */])(selenium);function doCommands(request,_sender,sendResponse){if(request.commands){if(request.commands=='waitPreparation'){selenium['doWaitPreparation']('',selenium.preprocessParameter(''));sendResponse({});}else if(request.commands=='prePageWait'){selenium['doPrePageWait']('',selenium.preprocessParameter(''));sendResponse({new_page:window.sideex_new_page});}else if(request.commands=='pageWait'){selenium['doPageWait']('',selenium.preprocessParameter(''));sendResponse({page_done:window.sideex_page_done});}else if(request.commands=='ajaxWait'){selenium['doAjaxWait']('',selenium.preprocessParameter(''));sendResponse({ajax_done:window.sideex_ajax_done});}else if(request.commands=='domWait'){selenium['doDomWait']('',selenium.preprocessParameter(''));sendResponse({dom_time:window.sideex_new_page});}else if(request.commands==='evaluateConditional'){try{let value=selenium['doEvaluateConditional'](request.target);sendResponse({result:'success',value:value});}catch(e){sendResponse({result:e.message});}}else{const upperCase=request.commands.charAt(0).toUpperCase()+request.commands.slice(1);if(selenium['do'+upperCase]!=null){try{document.body.setAttribute('SideeXPlayingFlag',true);let returnValue=selenium['do'+upperCase](selenium.preprocessParameter(request.target),selenium.preprocessParameter(request.value));if(returnValue instanceof Promise){// The command is a asynchronous function\nreturnValue.then(function(){// Asynchronous command completed successfully\ndocument.body.removeAttribute('SideeXPlayingFlag');sendResponse({result:'success'});}).catch(function(reason){// Asynchronous command failed\ndocument.body.removeAttribute('SideeXPlayingFlag');sendResponse({result:reason});});}else{// Synchronous command completed successfully\ndocument.body.removeAttribute('SideeXPlayingFlag');sendResponse({result:'success'});}}catch(e){// Synchronous command failed\ndocument.body.removeAttribute('SideeXPlayingFlag');sendResponse({result:e.message});}}else{sendResponse({result:'Unknown command: '+request.commands});}}//do every command need giving sideex id\nif(contentSideexTabId===-1){contentSideexTabId=request.mySideexTabId;}return true;}if(request.prepareToInteract){sendResponse({result:'success',rect:selenium.prepareToInteract_(request.locator)});}if(request.buildLocators){try{const element=selenium.browserbot.findElement(request.locator);const locators=locatorBuilders.buildAll(element);sendResponse({result:'success',locators});}catch(e){sendResponse({result:e.message});}}if(request.resolveLocator){try{const element=selenium.browserbot.findElement(request.locator);const locator=locatorBuilders.buildAll(element).find(([loc,strat])=>/^xpath/.test(strat))[0];//eslint-disable-line no-unused-vars\nsendResponse({result:'success',locator});}catch(e){sendResponse({result:e.message});}}if(request.selectMode){sendResponse(true);if(request.selecting&&request.element){targetSelector=new __WEBPACK_IMPORTED_MODULE_2__targetSelector__[\"a\" /* default */](function(element,win){if(element&&win){const target=locatorBuilders.buildAll(element);locatorBuilders.detach();if(target!=null&&target instanceof Array){if(target){//self.editor.treeView.updateCurrentCommand('targetCandidates', target);\n__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({selectTarget:true,target:target,selectNext:request.selectNext});}}}targetSelector=null;},function(){__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({cancelSelectTarget:true});});}else if(request.selecting&&request.region){Object(__WEBPACK_IMPORTED_MODULE_6__region__[\"a\" /* editRegion */])(request.rect,target=>{if(target){__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({selectTarget:true,target:[[target]],selectNext:request.selectNext});}else{__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({cancelSelectTarget:true,selectNext:request.selectNext});}});}else{if(targetSelector){targetSelector.cleanup();targetSelector=null;return;}else{Object(__WEBPACK_IMPORTED_MODULE_6__region__[\"b\" /* removeRegion */])();return;}}}}// show element\nfunction startShowElement(message){if(message.showElement){try{const result=selenium['doShowElement'](message.targetValue);return Promise.resolve({result:result});}catch(e){// If we didn't find the element, it means that another frame might have found it,\n// so we don't resolve the promise. If no frame finds it, then the promise will\n// get rejected.\n}}}if(!window._listener){window._listener=doCommands;__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.onMessage.addListener(startShowElement);__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.onMessage.addListener(doCommands);}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9jb21tYW5kcy1hcGkuanM/MDkxZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IDIwMTcgU2lkZWVYIGNvbW1pdHRlcnNcbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovaW1wb3J0IGJyb3dzZXIgZnJvbSd3ZWJleHRlbnNpb24tcG9seWZpbGwnO2ltcG9ydCcuL2Nsb3N1cmUtcG9seWZpbGwnO2ltcG9ydCBUYXJnZXRTZWxlY3RvciBmcm9tJy4vdGFyZ2V0U2VsZWN0b3InO2ltcG9ydCBTZWxlbml1bSBmcm9tJy4vc2VsZW5pdW0tYXBpJztpbXBvcnQgQnJvd3NlckJvdCBmcm9tJy4vc2VsZW5pdW0tYnJvd3NlcmJvdCc7aW1wb3J0IExvY2F0b3JCdWlsZGVycyBmcm9tJy4vbG9jYXRvckJ1aWxkZXJzJztpbXBvcnR7ZWRpdFJlZ2lvbixyZW1vdmVSZWdpb259ZnJvbScuL3JlZ2lvbic7aW1wb3J0e2F0dGFjaH1mcm9tJy4vcHJvbXB0LWluamVjdG9yJztleHBvcnQgY29uc3Qgc2VsZW5pdW09bmV3IFNlbGVuaXVtKEJyb3dzZXJCb3QuY3JlYXRlRm9yV2luZG93KHdpbmRvdyx0cnVlKSk7Y29uc3QgbG9jYXRvckJ1aWxkZXJzPW5ldyBMb2NhdG9yQnVpbGRlcnMod2luZG93KTtsZXQgY29udGVudFNpZGVleFRhYklkPXdpbmRvdy5jb250ZW50U2lkZWV4VGFiSWQ7bGV0IHRhcmdldFNlbGVjdG9yO2F0dGFjaChzZWxlbml1bSk7ZnVuY3Rpb24gZG9Db21tYW5kcyhyZXF1ZXN0LF9zZW5kZXIsc2VuZFJlc3BvbnNlKXtpZihyZXF1ZXN0LmNvbW1hbmRzKXtpZihyZXF1ZXN0LmNvbW1hbmRzPT0nd2FpdFByZXBhcmF0aW9uJyl7c2VsZW5pdW1bJ2RvV2FpdFByZXBhcmF0aW9uJ10oJycsc2VsZW5pdW0ucHJlcHJvY2Vzc1BhcmFtZXRlcignJykpO3NlbmRSZXNwb25zZSh7fSk7fWVsc2UgaWYocmVxdWVzdC5jb21tYW5kcz09J3ByZVBhZ2VXYWl0Jyl7c2VsZW5pdW1bJ2RvUHJlUGFnZVdhaXQnXSgnJyxzZWxlbml1bS5wcmVwcm9jZXNzUGFyYW1ldGVyKCcnKSk7c2VuZFJlc3BvbnNlKHtuZXdfcGFnZTp3aW5kb3cuc2lkZWV4X25ld19wYWdlfSk7fWVsc2UgaWYocmVxdWVzdC5jb21tYW5kcz09J3BhZ2VXYWl0Jyl7c2VsZW5pdW1bJ2RvUGFnZVdhaXQnXSgnJyxzZWxlbml1bS5wcmVwcm9jZXNzUGFyYW1ldGVyKCcnKSk7c2VuZFJlc3BvbnNlKHtwYWdlX2RvbmU6d2luZG93LnNpZGVleF9wYWdlX2RvbmV9KTt9ZWxzZSBpZihyZXF1ZXN0LmNvbW1hbmRzPT0nYWpheFdhaXQnKXtzZWxlbml1bVsnZG9BamF4V2FpdCddKCcnLHNlbGVuaXVtLnByZXByb2Nlc3NQYXJhbWV0ZXIoJycpKTtzZW5kUmVzcG9uc2Uoe2FqYXhfZG9uZTp3aW5kb3cuc2lkZWV4X2FqYXhfZG9uZX0pO31lbHNlIGlmKHJlcXVlc3QuY29tbWFuZHM9PSdkb21XYWl0Jyl7c2VsZW5pdW1bJ2RvRG9tV2FpdCddKCcnLHNlbGVuaXVtLnByZXByb2Nlc3NQYXJhbWV0ZXIoJycpKTtzZW5kUmVzcG9uc2Uoe2RvbV90aW1lOndpbmRvdy5zaWRlZXhfbmV3X3BhZ2V9KTt9ZWxzZSBpZihyZXF1ZXN0LmNvbW1hbmRzPT09J2V2YWx1YXRlQ29uZGl0aW9uYWwnKXt0cnl7bGV0IHZhbHVlPXNlbGVuaXVtWydkb0V2YWx1YXRlQ29uZGl0aW9uYWwnXShyZXF1ZXN0LnRhcmdldCk7c2VuZFJlc3BvbnNlKHtyZXN1bHQ6J3N1Y2Nlc3MnLHZhbHVlOnZhbHVlfSk7fWNhdGNoKGUpe3NlbmRSZXNwb25zZSh7cmVzdWx0OmUubWVzc2FnZX0pO319ZWxzZXtjb25zdCB1cHBlckNhc2U9cmVxdWVzdC5jb21tYW5kcy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStyZXF1ZXN0LmNvbW1hbmRzLnNsaWNlKDEpO2lmKHNlbGVuaXVtWydkbycrdXBwZXJDYXNlXSE9bnVsbCl7dHJ5e2RvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKCdTaWRlZVhQbGF5aW5nRmxhZycsdHJ1ZSk7bGV0IHJldHVyblZhbHVlPXNlbGVuaXVtWydkbycrdXBwZXJDYXNlXShzZWxlbml1bS5wcmVwcm9jZXNzUGFyYW1ldGVyKHJlcXVlc3QudGFyZ2V0KSxzZWxlbml1bS5wcmVwcm9jZXNzUGFyYW1ldGVyKHJlcXVlc3QudmFsdWUpKTtpZihyZXR1cm5WYWx1ZSBpbnN0YW5jZW9mIFByb21pc2Upey8vIFRoZSBjb21tYW5kIGlzIGEgYXN5bmNocm9ub3VzIGZ1bmN0aW9uXG5yZXR1cm5WYWx1ZS50aGVuKGZ1bmN0aW9uKCl7Ly8gQXN5bmNocm9ub3VzIGNvbW1hbmQgY29tcGxldGVkIHN1Y2Nlc3NmdWxseVxuZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ1NpZGVlWFBsYXlpbmdGbGFnJyk7c2VuZFJlc3BvbnNlKHtyZXN1bHQ6J3N1Y2Nlc3MnfSk7fSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXsvLyBBc3luY2hyb25vdXMgY29tbWFuZCBmYWlsZWRcbmRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKCdTaWRlZVhQbGF5aW5nRmxhZycpO3NlbmRSZXNwb25zZSh7cmVzdWx0OnJlYXNvbn0pO30pO31lbHNley8vIFN5bmNocm9ub3VzIGNvbW1hbmQgY29tcGxldGVkIHN1Y2Nlc3NmdWxseVxuZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ1NpZGVlWFBsYXlpbmdGbGFnJyk7c2VuZFJlc3BvbnNlKHtyZXN1bHQ6J3N1Y2Nlc3MnfSk7fX1jYXRjaChlKXsvLyBTeW5jaHJvbm91cyBjb21tYW5kIGZhaWxlZFxuZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ1NpZGVlWFBsYXlpbmdGbGFnJyk7c2VuZFJlc3BvbnNlKHtyZXN1bHQ6ZS5tZXNzYWdlfSk7fX1lbHNle3NlbmRSZXNwb25zZSh7cmVzdWx0OidVbmtub3duIGNvbW1hbmQ6ICcrcmVxdWVzdC5jb21tYW5kc30pO319Ly9kbyBldmVyeSBjb21tYW5kIG5lZWQgZ2l2aW5nIHNpZGVleCBpZFxuaWYoY29udGVudFNpZGVleFRhYklkPT09LTEpe2NvbnRlbnRTaWRlZXhUYWJJZD1yZXF1ZXN0Lm15U2lkZWV4VGFiSWQ7fXJldHVybiB0cnVlO31pZihyZXF1ZXN0LnByZXBhcmVUb0ludGVyYWN0KXtzZW5kUmVzcG9uc2Uoe3Jlc3VsdDonc3VjY2VzcycscmVjdDpzZWxlbml1bS5wcmVwYXJlVG9JbnRlcmFjdF8ocmVxdWVzdC5sb2NhdG9yKX0pO31pZihyZXF1ZXN0LmJ1aWxkTG9jYXRvcnMpe3RyeXtjb25zdCBlbGVtZW50PXNlbGVuaXVtLmJyb3dzZXJib3QuZmluZEVsZW1lbnQocmVxdWVzdC5sb2NhdG9yKTtjb25zdCBsb2NhdG9ycz1sb2NhdG9yQnVpbGRlcnMuYnVpbGRBbGwoZWxlbWVudCk7c2VuZFJlc3BvbnNlKHtyZXN1bHQ6J3N1Y2Nlc3MnLGxvY2F0b3JzfSk7fWNhdGNoKGUpe3NlbmRSZXNwb25zZSh7cmVzdWx0OmUubWVzc2FnZX0pO319aWYocmVxdWVzdC5yZXNvbHZlTG9jYXRvcil7dHJ5e2NvbnN0IGVsZW1lbnQ9c2VsZW5pdW0uYnJvd3NlcmJvdC5maW5kRWxlbWVudChyZXF1ZXN0LmxvY2F0b3IpO2NvbnN0IGxvY2F0b3I9bG9jYXRvckJ1aWxkZXJzLmJ1aWxkQWxsKGVsZW1lbnQpLmZpbmQoKFtsb2Msc3RyYXRdKT0+L154cGF0aC8udGVzdChzdHJhdCkpWzBdOy8vZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuc2VuZFJlc3BvbnNlKHtyZXN1bHQ6J3N1Y2Nlc3MnLGxvY2F0b3J9KTt9Y2F0Y2goZSl7c2VuZFJlc3BvbnNlKHtyZXN1bHQ6ZS5tZXNzYWdlfSk7fX1pZihyZXF1ZXN0LnNlbGVjdE1vZGUpe3NlbmRSZXNwb25zZSh0cnVlKTtpZihyZXF1ZXN0LnNlbGVjdGluZyYmcmVxdWVzdC5lbGVtZW50KXt0YXJnZXRTZWxlY3Rvcj1uZXcgVGFyZ2V0U2VsZWN0b3IoZnVuY3Rpb24oZWxlbWVudCx3aW4pe2lmKGVsZW1lbnQmJndpbil7Y29uc3QgdGFyZ2V0PWxvY2F0b3JCdWlsZGVycy5idWlsZEFsbChlbGVtZW50KTtsb2NhdG9yQnVpbGRlcnMuZGV0YWNoKCk7aWYodGFyZ2V0IT1udWxsJiZ0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSl7aWYodGFyZ2V0KXsvL3NlbGYuZWRpdG9yLnRyZWVWaWV3LnVwZGF0ZUN1cnJlbnRDb21tYW5kKCd0YXJnZXRDYW5kaWRhdGVzJywgdGFyZ2V0KTtcbmJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7c2VsZWN0VGFyZ2V0OnRydWUsdGFyZ2V0OnRhcmdldCxzZWxlY3ROZXh0OnJlcXVlc3Quc2VsZWN0TmV4dH0pO319fXRhcmdldFNlbGVjdG9yPW51bGw7fSxmdW5jdGlvbigpe2Jyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7Y2FuY2VsU2VsZWN0VGFyZ2V0OnRydWV9KTt9KTt9ZWxzZSBpZihyZXF1ZXN0LnNlbGVjdGluZyYmcmVxdWVzdC5yZWdpb24pe2VkaXRSZWdpb24ocmVxdWVzdC5yZWN0LHRhcmdldD0+e2lmKHRhcmdldCl7YnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtzZWxlY3RUYXJnZXQ6dHJ1ZSx0YXJnZXQ6W1t0YXJnZXRdXSxzZWxlY3ROZXh0OnJlcXVlc3Quc2VsZWN0TmV4dH0pO31lbHNle2Jyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7Y2FuY2VsU2VsZWN0VGFyZ2V0OnRydWUsc2VsZWN0TmV4dDpyZXF1ZXN0LnNlbGVjdE5leHR9KTt9fSk7fWVsc2V7aWYodGFyZ2V0U2VsZWN0b3Ipe3RhcmdldFNlbGVjdG9yLmNsZWFudXAoKTt0YXJnZXRTZWxlY3Rvcj1udWxsO3JldHVybjt9ZWxzZXtyZW1vdmVSZWdpb24oKTtyZXR1cm47fX19fS8vIHNob3cgZWxlbWVudFxuZnVuY3Rpb24gc3RhcnRTaG93RWxlbWVudChtZXNzYWdlKXtpZihtZXNzYWdlLnNob3dFbGVtZW50KXt0cnl7Y29uc3QgcmVzdWx0PXNlbGVuaXVtWydkb1Nob3dFbGVtZW50J10obWVzc2FnZS50YXJnZXRWYWx1ZSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh7cmVzdWx0OnJlc3VsdH0pO31jYXRjaChlKXsvLyBJZiB3ZSBkaWRuJ3QgZmluZCB0aGUgZWxlbWVudCwgaXQgbWVhbnMgdGhhdCBhbm90aGVyIGZyYW1lIG1pZ2h0IGhhdmUgZm91bmQgaXQsXG4vLyBzbyB3ZSBkb24ndCByZXNvbHZlIHRoZSBwcm9taXNlLiBJZiBubyBmcmFtZSBmaW5kcyBpdCwgdGhlbiB0aGUgcHJvbWlzZSB3aWxsXG4vLyBnZXQgcmVqZWN0ZWQuXG59fX1pZighd2luZG93Ll9saXN0ZW5lcil7d2luZG93Ll9saXN0ZW5lcj1kb0NvbW1hbmRzO2Jyb3dzZXIucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoc3RhcnRTaG93RWxlbWVudCk7YnJvd3Nlci5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihkb0NvbW1hbmRzKTt9XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb250ZW50L2NvbW1hbmRzLWFwaS5qc1xuLy8gbW9kdWxlIGlkID0gMTQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///140\n");

/***/ }),

/***/ 151:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_compute_scroll_into_view__ = __webpack_require__(152);\n\n\nfunction isOptionsObject(options) {\n  return options === Object(options) && Object.keys(options).length !== 0;\n}\n\nfunction defaultBehavior(actions, behavior) {\n  if (behavior === void 0) {\n    behavior = 'auto';\n  }\n\n  var canSmoothScroll = 'scrollBehavior' in document.body.style;\n  actions.forEach(function (_ref) {\n    var el = _ref.el,\n        top = _ref.top,\n        left = _ref.left;\n\n    if (el.scroll && canSmoothScroll) {\n      el.scroll({\n        top: top,\n        left: left,\n        behavior: behavior\n      });\n    } else {\n      el.scrollTop = top;\n      el.scrollLeft = left;\n    }\n  });\n}\n\nfunction getOptions(options) {\n  if (options === false) {\n    return {\n      block: 'end',\n      inline: 'nearest'\n    };\n  }\n\n  if (isOptionsObject(options)) {\n    return options;\n  }\n\n  return {\n    block: 'start',\n    inline: 'nearest'\n  };\n}\n\nfunction scrollIntoView(target, options) {\n  if (isOptionsObject(options) && typeof options.behavior === 'function') {\n    return options.behavior(Object(__WEBPACK_IMPORTED_MODULE_0_compute_scroll_into_view__[\"a\" /* default */])(target, options));\n  }\n\n  var computeOptions = getOptions(options);\n  return defaultBehavior(Object(__WEBPACK_IMPORTED_MODULE_0_compute_scroll_into_view__[\"a\" /* default */])(target, computeOptions), computeOptions.behavior);\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (scrollIntoView);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9zY3JvbGwtaW50by12aWV3LWlmLW5lZWRlZC9lcy9pbmRleC5qcz9hODc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb21wdXRlIGZyb20gJ2NvbXB1dGUtc2Nyb2xsLWludG8tdmlldyc7XG5cbmZ1bmN0aW9uIGlzT3B0aW9uc09iamVjdChvcHRpb25zKSB7XG4gIHJldHVybiBvcHRpb25zID09PSBPYmplY3Qob3B0aW9ucykgJiYgT2JqZWN0LmtleXMob3B0aW9ucykubGVuZ3RoICE9PSAwO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0QmVoYXZpb3IoYWN0aW9ucywgYmVoYXZpb3IpIHtcbiAgaWYgKGJlaGF2aW9yID09PSB2b2lkIDApIHtcbiAgICBiZWhhdmlvciA9ICdhdXRvJztcbiAgfVxuXG4gIHZhciBjYW5TbW9vdGhTY3JvbGwgPSAnc2Nyb2xsQmVoYXZpb3InIGluIGRvY3VtZW50LmJvZHkuc3R5bGU7XG4gIGFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBlbCA9IF9yZWYuZWwsXG4gICAgICAgIHRvcCA9IF9yZWYudG9wLFxuICAgICAgICBsZWZ0ID0gX3JlZi5sZWZ0O1xuXG4gICAgaWYgKGVsLnNjcm9sbCAmJiBjYW5TbW9vdGhTY3JvbGwpIHtcbiAgICAgIGVsLnNjcm9sbCh7XG4gICAgICAgIHRvcDogdG9wLFxuICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICBiZWhhdmlvcjogYmVoYXZpb3JcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zY3JvbGxUb3AgPSB0b3A7XG4gICAgICBlbC5zY3JvbGxMZWZ0ID0gbGVmdDtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJsb2NrOiAnZW5kJyxcbiAgICAgIGlubGluZTogJ25lYXJlc3QnXG4gICAgfTtcbiAgfVxuXG4gIGlmIChpc09wdGlvbnNPYmplY3Qob3B0aW9ucykpIHtcbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYmxvY2s6ICdzdGFydCcsXG4gICAgaW5saW5lOiAnbmVhcmVzdCdcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcodGFyZ2V0LCBvcHRpb25zKSB7XG4gIGlmIChpc09wdGlvbnNPYmplY3Qob3B0aW9ucykgJiYgdHlwZW9mIG9wdGlvbnMuYmVoYXZpb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5iZWhhdmlvcihjb21wdXRlKHRhcmdldCwgb3B0aW9ucykpO1xuICB9XG5cbiAgdmFyIGNvbXB1dGVPcHRpb25zID0gZ2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgcmV0dXJuIGRlZmF1bHRCZWhhdmlvcihjb21wdXRlKHRhcmdldCwgY29tcHV0ZU9wdGlvbnMpLCBjb21wdXRlT3B0aW9ucy5iZWhhdmlvcik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNjcm9sbEludG9WaWV3O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL25vZGVfbW9kdWxlcy9zY3JvbGwtaW50by12aWV3LWlmLW5lZWRlZC9lcy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTUxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///151\n");

/***/ }),

/***/ 152:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("function isElement(el) {\n  return el != null && typeof el === 'object' && (el.nodeType === 1 || el.nodeType === 11);\n}\n\nfunction canOverflow(overflow, skipOverflowHiddenElements) {\n  if (skipOverflowHiddenElements && overflow === 'hidden') {\n    return false;\n  }\n\n  return overflow !== 'visible' && overflow !== 'clip';\n}\n\nfunction isScrollable(el, skipOverflowHiddenElements) {\n  if (el.clientHeight < el.scrollHeight || el.clientWidth < el.scrollWidth) {\n    var style = getComputedStyle(el, null);\n    return canOverflow(style.overflowY, skipOverflowHiddenElements) || canOverflow(style.overflowX, skipOverflowHiddenElements);\n  }\n\n  return false;\n}\n\nfunction alignNearest(scrollingEdgeStart, scrollingEdgeEnd, scrollingSize, scrollingBorderStart, scrollingBorderEnd, elementEdgeStart, elementEdgeEnd, elementSize) {\n  if (elementEdgeStart < scrollingEdgeStart && elementEdgeEnd > scrollingEdgeEnd || elementEdgeStart > scrollingEdgeStart && elementEdgeEnd < scrollingEdgeEnd) {\n    return 0;\n  }\n\n  if (elementEdgeStart < scrollingEdgeStart && elementSize < scrollingSize || elementEdgeEnd > scrollingEdgeEnd && elementSize > scrollingSize) {\n    return elementEdgeStart - scrollingEdgeStart - scrollingBorderStart;\n  }\n\n  if (elementEdgeEnd > scrollingEdgeEnd && elementSize < scrollingSize || elementEdgeStart < scrollingEdgeStart && elementSize > scrollingSize) {\n    return elementEdgeEnd - scrollingEdgeEnd + scrollingBorderEnd;\n  }\n\n  return 0;\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (target, options) {\n  var scrollMode = options.scrollMode,\n      block = options.block,\n      inline = options.inline,\n      boundary = options.boundary,\n      skipOverflowHiddenElements = options.skipOverflowHiddenElements;\n  var checkBoundary = typeof boundary === 'function' ? boundary : function (node) {\n    return node !== boundary;\n  };\n\n  if (!isElement(target)) {\n    throw new TypeError('Invalid target');\n  }\n\n  var scrollingElement = document.scrollingElement || document.documentElement;\n  var frames = [];\n  var cursor = target;\n\n  while (isElement(cursor) && checkBoundary(cursor)) {\n    cursor = cursor.parentNode || cursor.host;\n\n    if (cursor === scrollingElement) {\n      frames.push(cursor);\n      break;\n    }\n\n    if (cursor === document.body && isScrollable(cursor) && !isScrollable(document.documentElement)) {\n      continue;\n    }\n\n    if (isScrollable(cursor, skipOverflowHiddenElements)) {\n      frames.push(cursor);\n    }\n  }\n\n  var viewportWidth = window.visualViewport ? visualViewport.width : innerWidth;\n  var viewportHeight = window.visualViewport ? visualViewport.height : innerHeight;\n  var viewportX = window.scrollX || pageXOffset;\n  var viewportY = window.scrollY || pageYOffset;\n\n  var _target$getBoundingCl = target.getBoundingClientRect(),\n      targetHeight = _target$getBoundingCl.height,\n      targetWidth = _target$getBoundingCl.width,\n      targetTop = _target$getBoundingCl.top,\n      targetRight = _target$getBoundingCl.right,\n      targetBottom = _target$getBoundingCl.bottom,\n      targetLeft = _target$getBoundingCl.left;\n\n  var targetBlock = block === 'start' || block === 'nearest' ? targetTop : block === 'end' ? targetBottom : targetTop + targetHeight / 2;\n  var targetInline = inline === 'center' ? targetLeft + targetWidth / 2 : inline === 'end' ? targetRight : targetLeft;\n  var computations = [];\n\n  for (var index = 0; index < frames.length; index++) {\n    var frame = frames[index];\n\n    var _frame$getBoundingCli = frame.getBoundingClientRect(),\n        _height = _frame$getBoundingCli.height,\n        _width = _frame$getBoundingCli.width,\n        _top = _frame$getBoundingCli.top,\n        right = _frame$getBoundingCli.right,\n        bottom = _frame$getBoundingCli.bottom,\n        _left = _frame$getBoundingCli.left;\n\n    if (scrollMode === 'if-needed' && targetTop >= 0 && targetLeft >= 0 && targetBottom <= viewportHeight && targetRight <= viewportWidth && targetTop >= _top && targetBottom <= bottom && targetLeft >= _left && targetRight <= right) {\n      return computations;\n    }\n\n    var frameStyle = getComputedStyle(frame);\n    var borderLeft = parseInt(frameStyle.borderLeftWidth, 10);\n    var borderTop = parseInt(frameStyle.borderTopWidth, 10);\n    var borderRight = parseInt(frameStyle.borderRightWidth, 10);\n    var borderBottom = parseInt(frameStyle.borderBottomWidth, 10);\n    var blockScroll = 0;\n    var inlineScroll = 0;\n    var scrollbarWidth = 'offsetWidth' in frame ? frame.offsetWidth - frame.clientWidth - borderLeft - borderRight : 0;\n    var scrollbarHeight = 'offsetHeight' in frame ? frame.offsetHeight - frame.clientHeight - borderTop - borderBottom : 0;\n\n    if (scrollingElement === frame) {\n      if (block === 'start') {\n        blockScroll = targetBlock;\n      } else if (block === 'end') {\n        blockScroll = targetBlock - viewportHeight;\n      } else if (block === 'nearest') {\n        blockScroll = alignNearest(viewportY, viewportY + viewportHeight, viewportHeight, borderTop, borderBottom, viewportY + targetBlock, viewportY + targetBlock + targetHeight, targetHeight);\n      } else {\n        blockScroll = targetBlock - viewportHeight / 2;\n      }\n\n      if (inline === 'start') {\n        inlineScroll = targetInline;\n      } else if (inline === 'center') {\n        inlineScroll = targetInline - viewportWidth / 2;\n      } else if (inline === 'end') {\n        inlineScroll = targetInline - viewportWidth;\n      } else {\n        inlineScroll = alignNearest(viewportX, viewportX + viewportWidth, viewportWidth, borderLeft, borderRight, viewportX + targetInline, viewportX + targetInline + targetWidth, targetWidth);\n      }\n\n      blockScroll = Math.max(0, blockScroll + viewportY);\n      inlineScroll = Math.max(0, inlineScroll + viewportX);\n    } else {\n      if (block === 'start') {\n        blockScroll = targetBlock - _top - borderTop;\n      } else if (block === 'end') {\n        blockScroll = targetBlock - bottom + borderBottom + scrollbarHeight;\n      } else if (block === 'nearest') {\n        blockScroll = alignNearest(_top, bottom, _height, borderTop, borderBottom + scrollbarHeight, targetBlock, targetBlock + targetHeight, targetHeight);\n      } else {\n        blockScroll = targetBlock - (_top + _height / 2) + scrollbarHeight / 2;\n      }\n\n      if (inline === 'start') {\n        inlineScroll = targetInline - _left - borderLeft;\n      } else if (inline === 'center') {\n        inlineScroll = targetInline - (_left + _width / 2) + scrollbarWidth / 2;\n      } else if (inline === 'end') {\n        inlineScroll = targetInline - right + borderRight + scrollbarWidth;\n      } else {\n        inlineScroll = alignNearest(_left, right, _width, borderLeft, borderRight + scrollbarWidth, targetInline, targetInline + targetWidth, targetWidth);\n      }\n\n      var scrollLeft = frame.scrollLeft,\n          scrollTop = frame.scrollTop;\n      blockScroll = Math.max(0, Math.min(scrollTop + blockScroll, frame.scrollHeight - _height + scrollbarHeight));\n      inlineScroll = Math.max(0, Math.min(scrollLeft + inlineScroll, frame.scrollWidth - _width + scrollbarWidth));\n      targetBlock += scrollTop - blockScroll;\n      targetInline += scrollLeft - inlineScroll;\n    }\n\n    computations.push({\n      el: frame,\n      top: blockScroll,\n      left: inlineScroll\n    });\n  }\n\n  return computations;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9jb21wdXRlLXNjcm9sbC1pbnRvLXZpZXcvZXMvaW5kZXguanM/MTRmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBpc0VsZW1lbnQoZWwpIHtcbiAgcmV0dXJuIGVsICE9IG51bGwgJiYgdHlwZW9mIGVsID09PSAnb2JqZWN0JyAmJiAoZWwubm9kZVR5cGUgPT09IDEgfHwgZWwubm9kZVR5cGUgPT09IDExKTtcbn1cblxuZnVuY3Rpb24gY2FuT3ZlcmZsb3cob3ZlcmZsb3csIHNraXBPdmVyZmxvd0hpZGRlbkVsZW1lbnRzKSB7XG4gIGlmIChza2lwT3ZlcmZsb3dIaWRkZW5FbGVtZW50cyAmJiBvdmVyZmxvdyA9PT0gJ2hpZGRlbicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gb3ZlcmZsb3cgIT09ICd2aXNpYmxlJyAmJiBvdmVyZmxvdyAhPT0gJ2NsaXAnO1xufVxuXG5mdW5jdGlvbiBpc1Njcm9sbGFibGUoZWwsIHNraXBPdmVyZmxvd0hpZGRlbkVsZW1lbnRzKSB7XG4gIGlmIChlbC5jbGllbnRIZWlnaHQgPCBlbC5zY3JvbGxIZWlnaHQgfHwgZWwuY2xpZW50V2lkdGggPCBlbC5zY3JvbGxXaWR0aCkge1xuICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpO1xuICAgIHJldHVybiBjYW5PdmVyZmxvdyhzdHlsZS5vdmVyZmxvd1ksIHNraXBPdmVyZmxvd0hpZGRlbkVsZW1lbnRzKSB8fCBjYW5PdmVyZmxvdyhzdHlsZS5vdmVyZmxvd1gsIHNraXBPdmVyZmxvd0hpZGRlbkVsZW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gYWxpZ25OZWFyZXN0KHNjcm9sbGluZ0VkZ2VTdGFydCwgc2Nyb2xsaW5nRWRnZUVuZCwgc2Nyb2xsaW5nU2l6ZSwgc2Nyb2xsaW5nQm9yZGVyU3RhcnQsIHNjcm9sbGluZ0JvcmRlckVuZCwgZWxlbWVudEVkZ2VTdGFydCwgZWxlbWVudEVkZ2VFbmQsIGVsZW1lbnRTaXplKSB7XG4gIGlmIChlbGVtZW50RWRnZVN0YXJ0IDwgc2Nyb2xsaW5nRWRnZVN0YXJ0ICYmIGVsZW1lbnRFZGdlRW5kID4gc2Nyb2xsaW5nRWRnZUVuZCB8fCBlbGVtZW50RWRnZVN0YXJ0ID4gc2Nyb2xsaW5nRWRnZVN0YXJ0ICYmIGVsZW1lbnRFZGdlRW5kIDwgc2Nyb2xsaW5nRWRnZUVuZCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgaWYgKGVsZW1lbnRFZGdlU3RhcnQgPCBzY3JvbGxpbmdFZGdlU3RhcnQgJiYgZWxlbWVudFNpemUgPCBzY3JvbGxpbmdTaXplIHx8IGVsZW1lbnRFZGdlRW5kID4gc2Nyb2xsaW5nRWRnZUVuZCAmJiBlbGVtZW50U2l6ZSA+IHNjcm9sbGluZ1NpemUpIHtcbiAgICByZXR1cm4gZWxlbWVudEVkZ2VTdGFydCAtIHNjcm9sbGluZ0VkZ2VTdGFydCAtIHNjcm9sbGluZ0JvcmRlclN0YXJ0O1xuICB9XG5cbiAgaWYgKGVsZW1lbnRFZGdlRW5kID4gc2Nyb2xsaW5nRWRnZUVuZCAmJiBlbGVtZW50U2l6ZSA8IHNjcm9sbGluZ1NpemUgfHwgZWxlbWVudEVkZ2VTdGFydCA8IHNjcm9sbGluZ0VkZ2VTdGFydCAmJiBlbGVtZW50U2l6ZSA+IHNjcm9sbGluZ1NpemUpIHtcbiAgICByZXR1cm4gZWxlbWVudEVkZ2VFbmQgLSBzY3JvbGxpbmdFZGdlRW5kICsgc2Nyb2xsaW5nQm9yZGVyRW5kO1xuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAodGFyZ2V0LCBvcHRpb25zKSB7XG4gIHZhciBzY3JvbGxNb2RlID0gb3B0aW9ucy5zY3JvbGxNb2RlLFxuICAgICAgYmxvY2sgPSBvcHRpb25zLmJsb2NrLFxuICAgICAgaW5saW5lID0gb3B0aW9ucy5pbmxpbmUsXG4gICAgICBib3VuZGFyeSA9IG9wdGlvbnMuYm91bmRhcnksXG4gICAgICBza2lwT3ZlcmZsb3dIaWRkZW5FbGVtZW50cyA9IG9wdGlvbnMuc2tpcE92ZXJmbG93SGlkZGVuRWxlbWVudHM7XG4gIHZhciBjaGVja0JvdW5kYXJ5ID0gdHlwZW9mIGJvdW5kYXJ5ID09PSAnZnVuY3Rpb24nID8gYm91bmRhcnkgOiBmdW5jdGlvbiAobm9kZSkge1xuICAgIHJldHVybiBub2RlICE9PSBib3VuZGFyeTtcbiAgfTtcblxuICBpZiAoIWlzRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCB0YXJnZXQnKTtcbiAgfVxuXG4gIHZhciBzY3JvbGxpbmdFbGVtZW50ID0gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIHZhciBmcmFtZXMgPSBbXTtcbiAgdmFyIGN1cnNvciA9IHRhcmdldDtcblxuICB3aGlsZSAoaXNFbGVtZW50KGN1cnNvcikgJiYgY2hlY2tCb3VuZGFyeShjdXJzb3IpKSB7XG4gICAgY3Vyc29yID0gY3Vyc29yLnBhcmVudE5vZGUgfHwgY3Vyc29yLmhvc3Q7XG5cbiAgICBpZiAoY3Vyc29yID09PSBzY3JvbGxpbmdFbGVtZW50KSB7XG4gICAgICBmcmFtZXMucHVzaChjdXJzb3IpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKGN1cnNvciA9PT0gZG9jdW1lbnQuYm9keSAmJiBpc1Njcm9sbGFibGUoY3Vyc29yKSAmJiAhaXNTY3JvbGxhYmxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChpc1Njcm9sbGFibGUoY3Vyc29yLCBza2lwT3ZlcmZsb3dIaWRkZW5FbGVtZW50cykpIHtcbiAgICAgIGZyYW1lcy5wdXNoKGN1cnNvcik7XG4gICAgfVxuICB9XG5cbiAgdmFyIHZpZXdwb3J0V2lkdGggPSB3aW5kb3cudmlzdWFsVmlld3BvcnQgPyB2aXN1YWxWaWV3cG9ydC53aWR0aCA6IGlubmVyV2lkdGg7XG4gIHZhciB2aWV3cG9ydEhlaWdodCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydCA/IHZpc3VhbFZpZXdwb3J0LmhlaWdodCA6IGlubmVySGVpZ2h0O1xuICB2YXIgdmlld3BvcnRYID0gd2luZG93LnNjcm9sbFggfHwgcGFnZVhPZmZzZXQ7XG4gIHZhciB2aWV3cG9ydFkgPSB3aW5kb3cuc2Nyb2xsWSB8fCBwYWdlWU9mZnNldDtcblxuICB2YXIgX3RhcmdldCRnZXRCb3VuZGluZ0NsID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgdGFyZ2V0SGVpZ2h0ID0gX3RhcmdldCRnZXRCb3VuZGluZ0NsLmhlaWdodCxcbiAgICAgIHRhcmdldFdpZHRoID0gX3RhcmdldCRnZXRCb3VuZGluZ0NsLndpZHRoLFxuICAgICAgdGFyZ2V0VG9wID0gX3RhcmdldCRnZXRCb3VuZGluZ0NsLnRvcCxcbiAgICAgIHRhcmdldFJpZ2h0ID0gX3RhcmdldCRnZXRCb3VuZGluZ0NsLnJpZ2h0LFxuICAgICAgdGFyZ2V0Qm90dG9tID0gX3RhcmdldCRnZXRCb3VuZGluZ0NsLmJvdHRvbSxcbiAgICAgIHRhcmdldExlZnQgPSBfdGFyZ2V0JGdldEJvdW5kaW5nQ2wubGVmdDtcblxuICB2YXIgdGFyZ2V0QmxvY2sgPSBibG9jayA9PT0gJ3N0YXJ0JyB8fCBibG9jayA9PT0gJ25lYXJlc3QnID8gdGFyZ2V0VG9wIDogYmxvY2sgPT09ICdlbmQnID8gdGFyZ2V0Qm90dG9tIDogdGFyZ2V0VG9wICsgdGFyZ2V0SGVpZ2h0IC8gMjtcbiAgdmFyIHRhcmdldElubGluZSA9IGlubGluZSA9PT0gJ2NlbnRlcicgPyB0YXJnZXRMZWZ0ICsgdGFyZ2V0V2lkdGggLyAyIDogaW5saW5lID09PSAnZW5kJyA/IHRhcmdldFJpZ2h0IDogdGFyZ2V0TGVmdDtcbiAgdmFyIGNvbXB1dGF0aW9ucyA9IFtdO1xuXG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBmcmFtZXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgdmFyIGZyYW1lID0gZnJhbWVzW2luZGV4XTtcblxuICAgIHZhciBfZnJhbWUkZ2V0Qm91bmRpbmdDbGkgPSBmcmFtZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgX2hlaWdodCA9IF9mcmFtZSRnZXRCb3VuZGluZ0NsaS5oZWlnaHQsXG4gICAgICAgIF93aWR0aCA9IF9mcmFtZSRnZXRCb3VuZGluZ0NsaS53aWR0aCxcbiAgICAgICAgX3RvcCA9IF9mcmFtZSRnZXRCb3VuZGluZ0NsaS50b3AsXG4gICAgICAgIHJpZ2h0ID0gX2ZyYW1lJGdldEJvdW5kaW5nQ2xpLnJpZ2h0LFxuICAgICAgICBib3R0b20gPSBfZnJhbWUkZ2V0Qm91bmRpbmdDbGkuYm90dG9tLFxuICAgICAgICBfbGVmdCA9IF9mcmFtZSRnZXRCb3VuZGluZ0NsaS5sZWZ0O1xuXG4gICAgaWYgKHNjcm9sbE1vZGUgPT09ICdpZi1uZWVkZWQnICYmIHRhcmdldFRvcCA+PSAwICYmIHRhcmdldExlZnQgPj0gMCAmJiB0YXJnZXRCb3R0b20gPD0gdmlld3BvcnRIZWlnaHQgJiYgdGFyZ2V0UmlnaHQgPD0gdmlld3BvcnRXaWR0aCAmJiB0YXJnZXRUb3AgPj0gX3RvcCAmJiB0YXJnZXRCb3R0b20gPD0gYm90dG9tICYmIHRhcmdldExlZnQgPj0gX2xlZnQgJiYgdGFyZ2V0UmlnaHQgPD0gcmlnaHQpIHtcbiAgICAgIHJldHVybiBjb21wdXRhdGlvbnM7XG4gICAgfVxuXG4gICAgdmFyIGZyYW1lU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGZyYW1lKTtcbiAgICB2YXIgYm9yZGVyTGVmdCA9IHBhcnNlSW50KGZyYW1lU3R5bGUuYm9yZGVyTGVmdFdpZHRoLCAxMCk7XG4gICAgdmFyIGJvcmRlclRvcCA9IHBhcnNlSW50KGZyYW1lU3R5bGUuYm9yZGVyVG9wV2lkdGgsIDEwKTtcbiAgICB2YXIgYm9yZGVyUmlnaHQgPSBwYXJzZUludChmcmFtZVN0eWxlLmJvcmRlclJpZ2h0V2lkdGgsIDEwKTtcbiAgICB2YXIgYm9yZGVyQm90dG9tID0gcGFyc2VJbnQoZnJhbWVTdHlsZS5ib3JkZXJCb3R0b21XaWR0aCwgMTApO1xuICAgIHZhciBibG9ja1Njcm9sbCA9IDA7XG4gICAgdmFyIGlubGluZVNjcm9sbCA9IDA7XG4gICAgdmFyIHNjcm9sbGJhcldpZHRoID0gJ29mZnNldFdpZHRoJyBpbiBmcmFtZSA/IGZyYW1lLm9mZnNldFdpZHRoIC0gZnJhbWUuY2xpZW50V2lkdGggLSBib3JkZXJMZWZ0IC0gYm9yZGVyUmlnaHQgOiAwO1xuICAgIHZhciBzY3JvbGxiYXJIZWlnaHQgPSAnb2Zmc2V0SGVpZ2h0JyBpbiBmcmFtZSA/IGZyYW1lLm9mZnNldEhlaWdodCAtIGZyYW1lLmNsaWVudEhlaWdodCAtIGJvcmRlclRvcCAtIGJvcmRlckJvdHRvbSA6IDA7XG5cbiAgICBpZiAoc2Nyb2xsaW5nRWxlbWVudCA9PT0gZnJhbWUpIHtcbiAgICAgIGlmIChibG9jayA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICBibG9ja1Njcm9sbCA9IHRhcmdldEJsb2NrO1xuICAgICAgfSBlbHNlIGlmIChibG9jayA9PT0gJ2VuZCcpIHtcbiAgICAgICAgYmxvY2tTY3JvbGwgPSB0YXJnZXRCbG9jayAtIHZpZXdwb3J0SGVpZ2h0O1xuICAgICAgfSBlbHNlIGlmIChibG9jayA9PT0gJ25lYXJlc3QnKSB7XG4gICAgICAgIGJsb2NrU2Nyb2xsID0gYWxpZ25OZWFyZXN0KHZpZXdwb3J0WSwgdmlld3BvcnRZICsgdmlld3BvcnRIZWlnaHQsIHZpZXdwb3J0SGVpZ2h0LCBib3JkZXJUb3AsIGJvcmRlckJvdHRvbSwgdmlld3BvcnRZICsgdGFyZ2V0QmxvY2ssIHZpZXdwb3J0WSArIHRhcmdldEJsb2NrICsgdGFyZ2V0SGVpZ2h0LCB0YXJnZXRIZWlnaHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmxvY2tTY3JvbGwgPSB0YXJnZXRCbG9jayAtIHZpZXdwb3J0SGVpZ2h0IC8gMjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlubGluZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICBpbmxpbmVTY3JvbGwgPSB0YXJnZXRJbmxpbmU7XG4gICAgICB9IGVsc2UgaWYgKGlubGluZSA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgaW5saW5lU2Nyb2xsID0gdGFyZ2V0SW5saW5lIC0gdmlld3BvcnRXaWR0aCAvIDI7XG4gICAgICB9IGVsc2UgaWYgKGlubGluZSA9PT0gJ2VuZCcpIHtcbiAgICAgICAgaW5saW5lU2Nyb2xsID0gdGFyZ2V0SW5saW5lIC0gdmlld3BvcnRXaWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlubGluZVNjcm9sbCA9IGFsaWduTmVhcmVzdCh2aWV3cG9ydFgsIHZpZXdwb3J0WCArIHZpZXdwb3J0V2lkdGgsIHZpZXdwb3J0V2lkdGgsIGJvcmRlckxlZnQsIGJvcmRlclJpZ2h0LCB2aWV3cG9ydFggKyB0YXJnZXRJbmxpbmUsIHZpZXdwb3J0WCArIHRhcmdldElubGluZSArIHRhcmdldFdpZHRoLCB0YXJnZXRXaWR0aCk7XG4gICAgICB9XG5cbiAgICAgIGJsb2NrU2Nyb2xsID0gTWF0aC5tYXgoMCwgYmxvY2tTY3JvbGwgKyB2aWV3cG9ydFkpO1xuICAgICAgaW5saW5lU2Nyb2xsID0gTWF0aC5tYXgoMCwgaW5saW5lU2Nyb2xsICsgdmlld3BvcnRYKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGJsb2NrID09PSAnc3RhcnQnKSB7XG4gICAgICAgIGJsb2NrU2Nyb2xsID0gdGFyZ2V0QmxvY2sgLSBfdG9wIC0gYm9yZGVyVG9wO1xuICAgICAgfSBlbHNlIGlmIChibG9jayA9PT0gJ2VuZCcpIHtcbiAgICAgICAgYmxvY2tTY3JvbGwgPSB0YXJnZXRCbG9jayAtIGJvdHRvbSArIGJvcmRlckJvdHRvbSArIHNjcm9sbGJhckhlaWdodDtcbiAgICAgIH0gZWxzZSBpZiAoYmxvY2sgPT09ICduZWFyZXN0Jykge1xuICAgICAgICBibG9ja1Njcm9sbCA9IGFsaWduTmVhcmVzdChfdG9wLCBib3R0b20sIF9oZWlnaHQsIGJvcmRlclRvcCwgYm9yZGVyQm90dG9tICsgc2Nyb2xsYmFySGVpZ2h0LCB0YXJnZXRCbG9jaywgdGFyZ2V0QmxvY2sgKyB0YXJnZXRIZWlnaHQsIHRhcmdldEhlaWdodCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBibG9ja1Njcm9sbCA9IHRhcmdldEJsb2NrIC0gKF90b3AgKyBfaGVpZ2h0IC8gMikgKyBzY3JvbGxiYXJIZWlnaHQgLyAyO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5saW5lID09PSAnc3RhcnQnKSB7XG4gICAgICAgIGlubGluZVNjcm9sbCA9IHRhcmdldElubGluZSAtIF9sZWZ0IC0gYm9yZGVyTGVmdDtcbiAgICAgIH0gZWxzZSBpZiAoaW5saW5lID09PSAnY2VudGVyJykge1xuICAgICAgICBpbmxpbmVTY3JvbGwgPSB0YXJnZXRJbmxpbmUgLSAoX2xlZnQgKyBfd2lkdGggLyAyKSArIHNjcm9sbGJhcldpZHRoIC8gMjtcbiAgICAgIH0gZWxzZSBpZiAoaW5saW5lID09PSAnZW5kJykge1xuICAgICAgICBpbmxpbmVTY3JvbGwgPSB0YXJnZXRJbmxpbmUgLSByaWdodCArIGJvcmRlclJpZ2h0ICsgc2Nyb2xsYmFyV2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmxpbmVTY3JvbGwgPSBhbGlnbk5lYXJlc3QoX2xlZnQsIHJpZ2h0LCBfd2lkdGgsIGJvcmRlckxlZnQsIGJvcmRlclJpZ2h0ICsgc2Nyb2xsYmFyV2lkdGgsIHRhcmdldElubGluZSwgdGFyZ2V0SW5saW5lICsgdGFyZ2V0V2lkdGgsIHRhcmdldFdpZHRoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNjcm9sbExlZnQgPSBmcmFtZS5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcCA9IGZyYW1lLnNjcm9sbFRvcDtcbiAgICAgIGJsb2NrU2Nyb2xsID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oc2Nyb2xsVG9wICsgYmxvY2tTY3JvbGwsIGZyYW1lLnNjcm9sbEhlaWdodCAtIF9oZWlnaHQgKyBzY3JvbGxiYXJIZWlnaHQpKTtcbiAgICAgIGlubGluZVNjcm9sbCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHNjcm9sbExlZnQgKyBpbmxpbmVTY3JvbGwsIGZyYW1lLnNjcm9sbFdpZHRoIC0gX3dpZHRoICsgc2Nyb2xsYmFyV2lkdGgpKTtcbiAgICAgIHRhcmdldEJsb2NrICs9IHNjcm9sbFRvcCAtIGJsb2NrU2Nyb2xsO1xuICAgICAgdGFyZ2V0SW5saW5lICs9IHNjcm9sbExlZnQgLSBpbmxpbmVTY3JvbGw7XG4gICAgfVxuXG4gICAgY29tcHV0YXRpb25zLnB1c2goe1xuICAgICAgZWw6IGZyYW1lLFxuICAgICAgdG9wOiBibG9ja1Njcm9sbCxcbiAgICAgIGxlZnQ6IGlubGluZVNjcm9sbFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGNvbXB1dGF0aW9ucztcbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL25vZGVfbW9kdWxlcy9jb21wdXRlLXNjcm9sbC1pbnRvLXZpZXcvZXMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDE1MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///152\n");

/***/ }),

/***/ 153:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"unescapeHtml\"] = unescapeHtml;\n/* harmony export (immutable) */ __webpack_exports__[\"escapeHTML\"] = escapeHTML;\n/*\n * Copyright 2017 SideeX committers\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n *\n */ // change HTML entities to sign\nfunction unescapeHtml(str){return str.replace(/&amp;/gi,'&').replace(/&quot;/gi,'\"').replace(/&lt;/gi,'<').replace(/&gt;/gi,'>').replace(/&#39;/gi,\"'\");}function escapeAttr(str){let spaceS=0;let spaceE=-1;let tempStr=str;let tempAttr='';let tempValue='';let processedTag='';let flag=false;let finishedProcessing=false;do{spaceS=str.indexOf(' ');spaceE=str.indexOf(' ',spaceS+1);if(spaceE>=0){while(str.charAt(spaceE-1)!=\"'\"&&str.charAt(spaceE-1)!='\"'){spaceE=str.indexOf(' ',spaceE+1);if(spaceE<0)break;}}//if there is space, then split string\nif(spaceS>=0&&spaceE>=0){tempAttr=str.substring(spaceS+1,spaceE);tempStr=str.substring(0,spaceS+1);str=str.substring(spaceE);}else if(spaceS>=0&&spaceE<0){tempAttr=str.substring(spaceS+1,str.length-1);tempStr=str.substring(0,spaceS+1);str='';}else{//flag is check that has string been processed\nif(flag)processedTag+='>';else processedTag=str;finishedProcessing=true;break;}flag=true;let equal=tempAttr.indexOf('=');if(tempAttr.charAt(equal+1)==\"'\"){//divide the single quote\nif(tempAttr.indexOf(\"'\")!=-1){let quotS=tempAttr.indexOf(\"'\");let quotE=tempAttr.lastIndexOf(\"'\");tempValue=tempAttr.substring(quotS+1,quotE);tempAttr=tempAttr.substring(0,quotS+1);tempValue=replaceChar(tempValue);tempAttr+=tempValue+\"'\";}}if(tempAttr.charAt(equal+1)=='\"'){//divide the double quote\nif(tempAttr.indexOf('\"')!=-1){let dquotS=tempAttr.indexOf('\"');let dquotE=tempAttr.lastIndexOf('\"');tempValue=tempAttr.substring(dquotS+1,dquotE);tempAttr=tempAttr.substring(0,dquotS+1);tempValue=replaceChar(tempValue);tempAttr+=tempValue+'\"';}}//merge the splited string\nprocessedTag+=tempStr+tempAttr;}while(!finishedProcessing);return processedTag;}//escape the character \"<\".\">\".\"&\".\"'\".'\"'\nfunction doEscape(str){return str.replace(/[&\"'<>]/g,m=>({'&':'&amp;','\"':'&quot;',\"'\":'&#39;','<':'&lt;','>':'&gt;'})[m]);}//append\nfunction checkType(cutStr,replaceStr,mode){switch(mode){case 1:return cutStr+=replaceStr+'&amp;';case 2:return cutStr+=replaceStr+'&quot;';case 3:return cutStr+=replaceStr+'&#39;';case 4:return cutStr+=replaceStr+'&lt;';case 5:return cutStr+=replaceStr+'&gt;';default:return cutStr;}}//avoid &amp; to escape &amp;amp;\nfunction replaceChar(str){//escape the character\nlet pos=-1;let cutStr='';let replaceStr='';let doFlag=0;let charType;let ampersandExists=true;while(ampersandExists){pos=str.indexOf('&',pos+1);charType=0;if(pos!=-1){if(str.substring(pos,pos+5)=='&amp;'){charType=1;replaceStr=str.substring(0,pos);str=str.substring(pos+5);}else if(str.substring(pos,pos+6)=='&quot;'){charType=2;replaceStr=str.substring(0,pos);str=str.substring(pos+6);}else if(str.substring(pos,pos+5)=='&#39;'){charType=3;replaceStr=str.substring(0,pos);str=str.substring(pos+5);}else if(str.substring(pos,pos+4)=='&lt;'){charType=4;replaceStr=str.substring(0,pos);str=str.substring(pos+4);}else if(str.substring(pos,pos+4)=='&gt;'){charType=5;replaceStr=str.substring(0,pos);str=str.substring(pos+4);}if(charType!=0){pos=-1;replaceStr=doEscape(replaceStr);cutStr=checkType(cutStr,replaceStr,charType);doFlag=1;}}else{cutStr+=str;ampersandExists=false;}}if(doFlag==0)return doEscape(str);else return cutStr;}//check the HTML value\nfunction escapeHTML(str){let smallIndex=str.indexOf('<');let greatIndex=str.indexOf('>');let tempStr='';let tempTag='';let processed='';let tempSmallIndex=0;let tagsExists=true;while(tagsExists){//find the less target\nif(smallIndex>=0){//find the greater target\nif(greatIndex>=0){do{//split foreward string\nsmallIndex+=tempSmallIndex;tempStr=str.substring(0,smallIndex);//split the tags\ntempTag=str.substring(smallIndex,greatIndex+1);tempSmallIndex=tempTag.lastIndexOf('<');}while(tempSmallIndex!=0);//escape attributes in the tag\ntempTag=escapeAttr(tempTag);str=str.substring(greatIndex+1);//check if the tag is script\n// if(tempTag.toLowerCase().indexOf(\"script\")>=0)\n// tempTag = replaceChar(tempTag);\n//merge them up\nprocessed+=replaceChar(tempStr)+tempTag;}else{replaceChar(str);tagsExists=false;break;}}else{replaceChar(str);tagsExists=false;break;}//going to do next tag\nsmallIndex=str.indexOf('<');greatIndex=0;do{//avoid other >\ngreatIndex=str.indexOf('>',greatIndex+1);}while(greatIndex<smallIndex&&greatIndex!=-1);}if(str!='')processed+=replaceChar(str);return processed;}window.unescapeHtml=unescapeHtml;window.escapeHTML=escapeHTML;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9lc2NhcGUuanM/NzE0NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IDIwMTcgU2lkZWVYIGNvbW1pdHRlcnNcbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovIC8vIGNoYW5nZSBIVE1MIGVudGl0aWVzIHRvIHNpZ25cbmV4cG9ydCBmdW5jdGlvbiB1bmVzY2FwZUh0bWwoc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoLyZhbXA7L2dpLCcmJykucmVwbGFjZSgvJnF1b3Q7L2dpLCdcIicpLnJlcGxhY2UoLyZsdDsvZ2ksJzwnKS5yZXBsYWNlKC8mZ3Q7L2dpLCc+JykucmVwbGFjZSgvJiMzOTsvZ2ksXCInXCIpO31mdW5jdGlvbiBlc2NhcGVBdHRyKHN0cil7bGV0IHNwYWNlUz0wO2xldCBzcGFjZUU9LTE7bGV0IHRlbXBTdHI9c3RyO2xldCB0ZW1wQXR0cj0nJztsZXQgdGVtcFZhbHVlPScnO2xldCBwcm9jZXNzZWRUYWc9Jyc7bGV0IGZsYWc9ZmFsc2U7bGV0IGZpbmlzaGVkUHJvY2Vzc2luZz1mYWxzZTtkb3tzcGFjZVM9c3RyLmluZGV4T2YoJyAnKTtzcGFjZUU9c3RyLmluZGV4T2YoJyAnLHNwYWNlUysxKTtpZihzcGFjZUU+PTApe3doaWxlKHN0ci5jaGFyQXQoc3BhY2VFLTEpIT1cIidcIiYmc3RyLmNoYXJBdChzcGFjZUUtMSkhPSdcIicpe3NwYWNlRT1zdHIuaW5kZXhPZignICcsc3BhY2VFKzEpO2lmKHNwYWNlRTwwKWJyZWFrO319Ly9pZiB0aGVyZSBpcyBzcGFjZSwgdGhlbiBzcGxpdCBzdHJpbmdcbmlmKHNwYWNlUz49MCYmc3BhY2VFPj0wKXt0ZW1wQXR0cj1zdHIuc3Vic3RyaW5nKHNwYWNlUysxLHNwYWNlRSk7dGVtcFN0cj1zdHIuc3Vic3RyaW5nKDAsc3BhY2VTKzEpO3N0cj1zdHIuc3Vic3RyaW5nKHNwYWNlRSk7fWVsc2UgaWYoc3BhY2VTPj0wJiZzcGFjZUU8MCl7dGVtcEF0dHI9c3RyLnN1YnN0cmluZyhzcGFjZVMrMSxzdHIubGVuZ3RoLTEpO3RlbXBTdHI9c3RyLnN1YnN0cmluZygwLHNwYWNlUysxKTtzdHI9Jyc7fWVsc2V7Ly9mbGFnIGlzIGNoZWNrIHRoYXQgaGFzIHN0cmluZyBiZWVuIHByb2Nlc3NlZFxuaWYoZmxhZylwcm9jZXNzZWRUYWcrPSc+JztlbHNlIHByb2Nlc3NlZFRhZz1zdHI7ZmluaXNoZWRQcm9jZXNzaW5nPXRydWU7YnJlYWs7fWZsYWc9dHJ1ZTtsZXQgZXF1YWw9dGVtcEF0dHIuaW5kZXhPZignPScpO2lmKHRlbXBBdHRyLmNoYXJBdChlcXVhbCsxKT09XCInXCIpey8vZGl2aWRlIHRoZSBzaW5nbGUgcXVvdGVcbmlmKHRlbXBBdHRyLmluZGV4T2YoXCInXCIpIT0tMSl7bGV0IHF1b3RTPXRlbXBBdHRyLmluZGV4T2YoXCInXCIpO2xldCBxdW90RT10ZW1wQXR0ci5sYXN0SW5kZXhPZihcIidcIik7dGVtcFZhbHVlPXRlbXBBdHRyLnN1YnN0cmluZyhxdW90UysxLHF1b3RFKTt0ZW1wQXR0cj10ZW1wQXR0ci5zdWJzdHJpbmcoMCxxdW90UysxKTt0ZW1wVmFsdWU9cmVwbGFjZUNoYXIodGVtcFZhbHVlKTt0ZW1wQXR0cis9dGVtcFZhbHVlK1wiJ1wiO319aWYodGVtcEF0dHIuY2hhckF0KGVxdWFsKzEpPT0nXCInKXsvL2RpdmlkZSB0aGUgZG91YmxlIHF1b3RlXG5pZih0ZW1wQXR0ci5pbmRleE9mKCdcIicpIT0tMSl7bGV0IGRxdW90Uz10ZW1wQXR0ci5pbmRleE9mKCdcIicpO2xldCBkcXVvdEU9dGVtcEF0dHIubGFzdEluZGV4T2YoJ1wiJyk7dGVtcFZhbHVlPXRlbXBBdHRyLnN1YnN0cmluZyhkcXVvdFMrMSxkcXVvdEUpO3RlbXBBdHRyPXRlbXBBdHRyLnN1YnN0cmluZygwLGRxdW90UysxKTt0ZW1wVmFsdWU9cmVwbGFjZUNoYXIodGVtcFZhbHVlKTt0ZW1wQXR0cis9dGVtcFZhbHVlKydcIic7fX0vL21lcmdlIHRoZSBzcGxpdGVkIHN0cmluZ1xucHJvY2Vzc2VkVGFnKz10ZW1wU3RyK3RlbXBBdHRyO313aGlsZSghZmluaXNoZWRQcm9jZXNzaW5nKTtyZXR1cm4gcHJvY2Vzc2VkVGFnO30vL2VzY2FwZSB0aGUgY2hhcmFjdGVyIFwiPFwiLlwiPlwiLlwiJlwiLlwiJ1wiLidcIidcbmZ1bmN0aW9uIGRvRXNjYXBlKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC9bJlwiJzw+XS9nLG09Pih7JyYnOicmYW1wOycsJ1wiJzonJnF1b3Q7JyxcIidcIjonJiMzOTsnLCc8JzonJmx0OycsJz4nOicmZ3Q7J30pW21dKTt9Ly9hcHBlbmRcbmZ1bmN0aW9uIGNoZWNrVHlwZShjdXRTdHIscmVwbGFjZVN0cixtb2RlKXtzd2l0Y2gobW9kZSl7Y2FzZSAxOnJldHVybiBjdXRTdHIrPXJlcGxhY2VTdHIrJyZhbXA7JztjYXNlIDI6cmV0dXJuIGN1dFN0cis9cmVwbGFjZVN0cisnJnF1b3Q7JztjYXNlIDM6cmV0dXJuIGN1dFN0cis9cmVwbGFjZVN0cisnJiMzOTsnO2Nhc2UgNDpyZXR1cm4gY3V0U3RyKz1yZXBsYWNlU3RyKycmbHQ7JztjYXNlIDU6cmV0dXJuIGN1dFN0cis9cmVwbGFjZVN0cisnJmd0Oyc7ZGVmYXVsdDpyZXR1cm4gY3V0U3RyO319Ly9hdm9pZCAmYW1wOyB0byBlc2NhcGUgJmFtcDthbXA7XG5mdW5jdGlvbiByZXBsYWNlQ2hhcihzdHIpey8vZXNjYXBlIHRoZSBjaGFyYWN0ZXJcbmxldCBwb3M9LTE7bGV0IGN1dFN0cj0nJztsZXQgcmVwbGFjZVN0cj0nJztsZXQgZG9GbGFnPTA7bGV0IGNoYXJUeXBlO2xldCBhbXBlcnNhbmRFeGlzdHM9dHJ1ZTt3aGlsZShhbXBlcnNhbmRFeGlzdHMpe3Bvcz1zdHIuaW5kZXhPZignJicscG9zKzEpO2NoYXJUeXBlPTA7aWYocG9zIT0tMSl7aWYoc3RyLnN1YnN0cmluZyhwb3MscG9zKzUpPT0nJmFtcDsnKXtjaGFyVHlwZT0xO3JlcGxhY2VTdHI9c3RyLnN1YnN0cmluZygwLHBvcyk7c3RyPXN0ci5zdWJzdHJpbmcocG9zKzUpO31lbHNlIGlmKHN0ci5zdWJzdHJpbmcocG9zLHBvcys2KT09JyZxdW90Oycpe2NoYXJUeXBlPTI7cmVwbGFjZVN0cj1zdHIuc3Vic3RyaW5nKDAscG9zKTtzdHI9c3RyLnN1YnN0cmluZyhwb3MrNik7fWVsc2UgaWYoc3RyLnN1YnN0cmluZyhwb3MscG9zKzUpPT0nJiMzOTsnKXtjaGFyVHlwZT0zO3JlcGxhY2VTdHI9c3RyLnN1YnN0cmluZygwLHBvcyk7c3RyPXN0ci5zdWJzdHJpbmcocG9zKzUpO31lbHNlIGlmKHN0ci5zdWJzdHJpbmcocG9zLHBvcys0KT09JyZsdDsnKXtjaGFyVHlwZT00O3JlcGxhY2VTdHI9c3RyLnN1YnN0cmluZygwLHBvcyk7c3RyPXN0ci5zdWJzdHJpbmcocG9zKzQpO31lbHNlIGlmKHN0ci5zdWJzdHJpbmcocG9zLHBvcys0KT09JyZndDsnKXtjaGFyVHlwZT01O3JlcGxhY2VTdHI9c3RyLnN1YnN0cmluZygwLHBvcyk7c3RyPXN0ci5zdWJzdHJpbmcocG9zKzQpO31pZihjaGFyVHlwZSE9MCl7cG9zPS0xO3JlcGxhY2VTdHI9ZG9Fc2NhcGUocmVwbGFjZVN0cik7Y3V0U3RyPWNoZWNrVHlwZShjdXRTdHIscmVwbGFjZVN0cixjaGFyVHlwZSk7ZG9GbGFnPTE7fX1lbHNle2N1dFN0cis9c3RyO2FtcGVyc2FuZEV4aXN0cz1mYWxzZTt9fWlmKGRvRmxhZz09MClyZXR1cm4gZG9Fc2NhcGUoc3RyKTtlbHNlIHJldHVybiBjdXRTdHI7fS8vY2hlY2sgdGhlIEhUTUwgdmFsdWVcbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVIVE1MKHN0cil7bGV0IHNtYWxsSW5kZXg9c3RyLmluZGV4T2YoJzwnKTtsZXQgZ3JlYXRJbmRleD1zdHIuaW5kZXhPZignPicpO2xldCB0ZW1wU3RyPScnO2xldCB0ZW1wVGFnPScnO2xldCBwcm9jZXNzZWQ9Jyc7bGV0IHRlbXBTbWFsbEluZGV4PTA7bGV0IHRhZ3NFeGlzdHM9dHJ1ZTt3aGlsZSh0YWdzRXhpc3RzKXsvL2ZpbmQgdGhlIGxlc3MgdGFyZ2V0XG5pZihzbWFsbEluZGV4Pj0wKXsvL2ZpbmQgdGhlIGdyZWF0ZXIgdGFyZ2V0XG5pZihncmVhdEluZGV4Pj0wKXtkb3svL3NwbGl0IGZvcmV3YXJkIHN0cmluZ1xuc21hbGxJbmRleCs9dGVtcFNtYWxsSW5kZXg7dGVtcFN0cj1zdHIuc3Vic3RyaW5nKDAsc21hbGxJbmRleCk7Ly9zcGxpdCB0aGUgdGFnc1xudGVtcFRhZz1zdHIuc3Vic3RyaW5nKHNtYWxsSW5kZXgsZ3JlYXRJbmRleCsxKTt0ZW1wU21hbGxJbmRleD10ZW1wVGFnLmxhc3RJbmRleE9mKCc8Jyk7fXdoaWxlKHRlbXBTbWFsbEluZGV4IT0wKTsvL2VzY2FwZSBhdHRyaWJ1dGVzIGluIHRoZSB0YWdcbnRlbXBUYWc9ZXNjYXBlQXR0cih0ZW1wVGFnKTtzdHI9c3RyLnN1YnN0cmluZyhncmVhdEluZGV4KzEpOy8vY2hlY2sgaWYgdGhlIHRhZyBpcyBzY3JpcHRcbi8vIGlmKHRlbXBUYWcudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwic2NyaXB0XCIpPj0wKVxuLy8gdGVtcFRhZyA9IHJlcGxhY2VDaGFyKHRlbXBUYWcpO1xuLy9tZXJnZSB0aGVtIHVwXG5wcm9jZXNzZWQrPXJlcGxhY2VDaGFyKHRlbXBTdHIpK3RlbXBUYWc7fWVsc2V7cmVwbGFjZUNoYXIoc3RyKTt0YWdzRXhpc3RzPWZhbHNlO2JyZWFrO319ZWxzZXtyZXBsYWNlQ2hhcihzdHIpO3RhZ3NFeGlzdHM9ZmFsc2U7YnJlYWs7fS8vZ29pbmcgdG8gZG8gbmV4dCB0YWdcbnNtYWxsSW5kZXg9c3RyLmluZGV4T2YoJzwnKTtncmVhdEluZGV4PTA7ZG97Ly9hdm9pZCBvdGhlciA+XG5ncmVhdEluZGV4PXN0ci5pbmRleE9mKCc+JyxncmVhdEluZGV4KzEpO313aGlsZShncmVhdEluZGV4PHNtYWxsSW5kZXgmJmdyZWF0SW5kZXghPS0xKTt9aWYoc3RyIT0nJylwcm9jZXNzZWQrPXJlcGxhY2VDaGFyKHN0cik7cmV0dXJuIHByb2Nlc3NlZDt9d2luZG93LnVuZXNjYXBlSHRtbD11bmVzY2FwZUh0bWw7d2luZG93LmVzY2FwZUhUTUw9ZXNjYXBlSFRNTDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2NvbnRlbnQvZXNjYXBlLmpzXG4vLyBtb2R1bGUgaWQgPSAxNTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDYiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///153\n");

/***/ }),

/***/ 227:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_scroll_into_view_if_needed__ = __webpack_require__(151);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__SeleniumError__ = __webpack_require__(110);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__commands_api__ = __webpack_require__(140);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__escape__ = __webpack_require__(153);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__selenium_browserbot__ = __webpack_require__(228);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__closure_polyfill__ = __webpack_require__(78);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__PatternMatcher__ = __webpack_require__(229);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils__ = __webpack_require__(111);\n/*\n * Copyright 2011 Software Freedom Conservancy\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n *\n */// TODO: stop navigating this.browserbot.document() ... it breaks encapsulation\nclass Selenium{/**\n   * Defines an object that runs Selenium commands.\n   *\n   * <h3><a name=\"locators\"></a>Element Locators</h3>\n   * <p>\n   * Element Locators tell Selenium which HTML element a command refers to.\n   * The format of a locator is:</p>\n   * <blockquote>\n   * <em>locatorType</em><strong>=</strong><em>argument</em>\n   * </blockquote>\n   *\n   * <p>\n   * We support the following strategies for locating elements:\n   * </p>\n   *\n   * <ul>\n   * <li><strong>identifier</strong>=<em>id</em>:\n   * Select the element with the specified &#064;id attribute. If no match is\n   * found, select the first element whose &#064;name attribute is <em>id</em>.\n   * (This is normally the default; see below.)</li>\n   * <li><strong>id</strong>=<em>id</em>:\n   * Select the element with the specified &#064;id attribute.</li>\n   *\n   * <li><strong>name</strong>=<em>name</em>:\n   * Select the first element with the specified &#064;name attribute.\n   * <ul class=\"first last simple\">\n   * <li>username</li>\n   * <li>name=username</li>\n   * </ul>\n   *\n   * <p>The name may optionally be followed by one or more <em>element-filters</em>, separated from the name by whitespace.  If the <em>filterType</em> is not specified, <strong>value</strong> is assumed.</p>\n   *\n   * <ul class=\"first last simple\">\n   * <li>name=flavour value=chocolate</li>\n   * </ul>\n   * </li>\n   * <li><strong>dom</strong>=<em>javascriptExpression</em>:\n   *\n   * Find an element by evaluating the specified string.  This allows you to traverse the HTML Document Object\n   * Model using JavaScript.  Note that you must not return a value in this string; simply make it the last expression in the block.\n   * <ul class=\"first last simple\">\n   * <li>dom=document.forms['myForm'].myDropdown</li>\n   * <li>dom=document.images[56]</li>\n   * <li>dom=function foo() { return document.links[1]; }; foo();</li>\n   * </ul>\n   *\n   * </li>\n   *\n   * <li><strong>xpath</strong>=<em>xpathExpression</em>:\n   * Locate an element using an XPath expression.\n   * <ul class=\"first last simple\">\n   * <li>xpath=//img[&#064;alt='The image alt text']</li>\n   * <li>xpath=//table[&#064;id='table1']//tr[4]/td[2]</li>\n   * <li>xpath=//a[contains(&#064;href,'#id1')]</li>\n   * <li>xpath=//a[contains(&#064;href,'#id1')]/&#064;class</li>\n   * <li>xpath=(//table[&#064;class='stylee'])//th[text()='theHeaderText']/../td</li>\n   * <li>xpath=//input[&#064;name='name2' and &#064;value='yes']</li>\n   * <li>xpath=//*[text()=\"right\"]</li>\n   *\n   * </ul>\n   * </li>\n   * <li><strong>link</strong>=<em>textPattern</em>:\n   * Select the link (anchor) element which contains text matching the\n   * specified <em>pattern</em>.\n   * <ul class=\"first last simple\">\n   * <li>link=The link text</li>\n   * </ul>\n   *\n   * </li>\n   *\n   * <li><strong>css</strong>=<em>cssSelectorSyntax</em>:\n   * Select the element using css selectors. Please refer to <a href=\"http://www.w3.org/TR/REC-CSS2/selector.html\">CSS2 selectors</a>, <a href=\"http://www.w3.org/TR/2001/CR-css3-selectors-20011113/\">CSS3 selectors</a> for more information. You can also check the TestCssLocators test in the selenium test suite for an example of usage, which is included in the downloaded selenium core package.\n   * <ul class=\"first last simple\">\n   * <li>css=a[href=\"#id3\"]</li>\n   * <li>css=span#firstChild + span</li>\n   * </ul>\n   * <p>Currently the css selector locator supports all css1, css2 and css3 selectors except namespace in css3, some pseudo classes(:nth-of-type, :nth-last-of-type, :first-of-type, :last-of-type, :only-of-type, :visited, :hover, :active, :focus, :indeterminate) and pseudo elements(::first-line, ::first-letter, ::selection, ::before, ::after). </p>\n   * </li>\n   *\n   * <li><strong>ui</strong>=<em>uiSpecifierString</em>:\n   * Locate an element by resolving the UI specifier string to another locator, and evaluating it. See the <a href=\"http://svn.openqa.org/fisheye/browse/~raw,r=trunk/selenium/trunk/src/main/resources/core/scripts/ui-doc.html\">Selenium UI-Element Reference</a> for more details.\n   * <ul class=\"first last simple\">\n   * <li>ui=loginPages::loginButton()</li>\n   * <li>ui=settingsPages::toggle(label=Hide Email)</li>\n   * <li>ui=forumPages::postBody(index=2)//a[2]</li>\n   * </ul>\n   * </li>\n   *\n   * </ul>\n   *\n   * <p>\n   * Without an explicit locator prefix, Selenium uses the following default\n   * strategies:\n   * </p>\n   *\n   * <ul class=\"simple\">\n   * <li><strong>dom</strong>, for locators starting with &quot;document.&quot;</li>\n   * <li><strong>xpath</strong>, for locators starting with &quot;//&quot;</li>\n   * <li><strong>identifier</strong>, otherwise</li>\n   * </ul>\n   *\n   * <h3><a name=\"element-filters\">Element Filters</a></h3>\n   * <blockquote>\n   * <p>Element filters can be used with a locator to refine a list of candidate elements.  They are currently used only in the 'name' element-locator.</p>\n   * <p>Filters look much like locators, ie.</p>\n   * <blockquote>\n   * <em>filterType</em><strong>=</strong><em>argument</em></blockquote>\n   *\n   * <p>Supported element-filters are:</p>\n   * <p><strong>value=</strong><em>valuePattern</em></p>\n   * <blockquote>\n   * Matches elements based on their values.  This is particularly useful for refining a list of similarly-named toggle-buttons.</blockquote>\n   * <p><strong>index=</strong><em>index</em></p>\n   * <blockquote>\n   * Selects a single element based on its position in the list (offset from zero).</blockquote>\n   * </blockquote>\n   *\n   * <h3><a name=\"patterns\"></a>String-match Patterns</h3>\n   *\n   * <p>\n   * Various Pattern syntaxes are available for matching string values:\n   * </p>\n   * <ul>\n   * <li><strong>glob:</strong><em>pattern</em>:\n   * Match a string against a \"glob\" (aka \"wildmat\") pattern. \"Glob\" is a\n   * kind of limited regular-expression syntax typically used in command-line\n   * shells. In a glob pattern, \"*\" represents any sequence of characters, and \"?\"\n   * represents any single character. Glob patterns match against the entire\n   * string.</li>\n   * <li><strong>regexp:</strong><em>regexp</em>:\n   * Match a string using a regular-expression. The full power of JavaScript\n   * regular-expressions is available.</li>\n   * <li><strong>regexpi:</strong><em>regexpi</em>:\n   * Match a string using a case-insensitive regular-expression.</li>\n   * <li><strong>exact:</strong><em>string</em>:\n   *\n   * Match a string exactly, verbatim, without any of that fancy wildcard\n   * stuff.</li>\n   * </ul>\n   * <p>\n   * If no pattern prefix is specified, Selenium assumes that it's a \"glob\"\n   * pattern.\n   * </p>\n   * <p>\n   * For commands that return multiple values (such as verifySelectOptions),\n   * the string being matched is a comma-separated list of the return values,\n   * where both commas and backslashes in the values are backslash-escaped.\n   * When providing a pattern, the optional matching syntax (i.e. glob,\n   * regexp, etc.) is specified once, as usual, at the beginning of the\n   * pattern.\n   * </p>\n   */constructor(browserbot){this.browserbot=browserbot;this.optionLocatorFactory=new OptionLocatorFactory();// DGF for backwards compatibility\nthis.page=function(){return browserbot;};this.defaultTimeout=Selenium.DEFAULT_TIMEOUT;this.mouseSpeed=Selenium.DEFAULT_MOUSE_SPEED;}}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Selenium;\nSelenium.DEFAULT_TIMEOUT=30*1000;Selenium.DEFAULT_MOUSE_SPEED=10;Selenium.RIGHT_MOUSE_CLICK=2;Selenium.decorateFunctionWithTimeout=function(f,timeout,callback){if(f==null){return null;}let timeoutTime=Object(__WEBPACK_IMPORTED_MODULE_8__utils__[\"d\" /* getTimeoutTime */])(timeout);return function(){if(new Date().getTime()>timeoutTime){if(callback!=null){callback();}throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Timed out after '+timeout+'ms');}return f();};};Selenium.createForWindow=function(window,proxyInjectionMode){if(!window.location){throw'error: not a window!';}return Selenium(__WEBPACK_IMPORTED_MODULE_5__selenium_browserbot__[\"b\" /* default */].createForWindow(window,proxyInjectionMode));};Selenium.prototype.reset=function(){this.defaultTimeout=Selenium.DEFAULT_TIMEOUT;// todo: this.browserbot.reset()\nthis.browserbot.selectWindow('null');this.browserbot.resetPopups();};Selenium.prototype.eval=function(script,argv=[],scoped=true,isExpression=false){// we are still stringifying here, but we are not supporting passing HTMLElements anyway :)\n// Single quotes are important! JSON.stringifies uses double quotes, to avoid syntax error we use single quotes!!\nif(isExpression){return window.eval(scoped?`((...arguments) => (${script}))(...JSON.parse('${JSON.stringify(argv)}'))`:script);}else{return window.eval(scoped?`((...arguments) => {${script}})(...JSON.parse('${JSON.stringify(argv)}'))`:script);}};Selenium.prototype.doEvaluateConditional=function(script){return!!this.eval(script.script,script.argv,true,true);};Selenium.prototype.doVerifyChecked=function(locator){let element=this.browserbot.findElement(locator);if(element.type!=='checkbox'&&element.type!=='radio'){throw new Error(`Element with locator ${locator} is not a checkbox nor a radio button`);}else if(!element.checked){throw new Error(`Element with locator ${locator} is not checked`);}};Selenium.prototype.doVerifyNotChecked=function(locator){let element=this.browserbot.findElement(locator);if(element.type!=='checkbox'&&element.type!=='radio'){throw new Error(`Element with locator ${locator} is not a checkbox nor a radio button`);}else if(element.checked){throw new Error(`Element with locator ${locator} is checked`);}};Selenium.prototype.doVerifyEditable=function(locator){if(!this.isEditable(locator)){throw new Error(`Element with locator ${locator} is not editable`);}};Selenium.prototype.doVerifyNotEditable=function(locator){if(this.isEditable(locator)){throw new Error(`Element with locator ${locator} is editable`);}};Selenium.prototype.doVerifySelectedValue=function(locator,value){let element=this.browserbot.findElement(locator);if(element.type!=='select-one'){throw new Error(`Element with locator ${locator} is not a select`);}else if(element.value!==value){throw new Error(\"Actual value '\"+element.value+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doVerifyNotSelectedValue=function(locator,value){let element=this.browserbot.findElement(locator);if(element.type!=='select-one'){throw new Error(`Element with locator ${locator} is not a select`);}else if(element.value===value){throw new Error(\"Actual value '\"+element.value+\"' did match\");}};Selenium.prototype.doVerifyText=function(locator,value){this.doAssertText(locator,value);};Selenium.prototype.doVerifyNotText=function(locator,value){this.doAssertNotText(locator,value);};Selenium.prototype.doVerifyValue=function(locator,value){let element=this.browserbot.findElement(locator);if(element.value!==value){throw new Error(\"Actual value '\"+element.value+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doVerifyTitle=function(value){if(__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"c\" /* default */].string.normalizeSpaces(this.getTitle())!==value){throw new Error(\"Actual value '\"+__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"c\" /* default */].string.normalizeSpaces(this.getTitle())+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doVerifyElementPresent=function(locator){try{this.browserbot.findElement(locator);}catch(error){if(error.message.match(/Element[\\s\\S]*?not found/)){throw new Error(`Element with locator ${locator} could not be found`);}else{throw error;}}};Selenium.prototype.doVerifyElementNotPresent=function(locator){try{this.browserbot.findElement(locator);throw new Error(`Element with locator ${locator} was found`);}catch(error){if(!error.message.match(/Element[\\s\\S]*?not found/)){throw error;}}};Selenium.prototype.doVerify=function(variableName,expected){return this.doAssert(variableName,expected);};Selenium.prototype.doAssert=function(variableName,expected){return new Promise((res,rej)=>{__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({getVar:true,variable:variableName}).then(actual=>{if(`${actual}`!=expected){return rej(\"Actual value '\"+actual+\"' did not match '\"+expected+\"'\");}return res();});});};Selenium.prototype.doAssertChecked=function(locator){let element=this.browserbot.findElement(locator);if(element.type!=='checkbox'&&element.type!=='radio'){throw new Error(`Element with locator ${locator} is not a checkbox nor a radio button`);}else if(!element.checked){throw new Error(`Element with locator ${locator} is not checked`);}};Selenium.prototype.doAssertNotChecked=function(locator){let element=this.browserbot.findElement(locator);if(element.type!=='checkbox'&&element.type!=='radio'){throw new Error(`Element with locator ${locator} is not a checkbox nor a radio button`);}else if(element.checked){throw new Error(`Element with locator ${locator} is checked`);}};Selenium.prototype.doAssertEditable=function(locator){if(!this.isEditable(locator)){throw new Error(`Element with locator ${locator} is not editable`);}};Selenium.prototype.doAssertNotEditable=function(locator){if(this.isEditable(locator)){throw new Error(`Element with locator ${locator} is editable`);}};Selenium.prototype.doAssertSelectedValue=function(locator,value){let element=this.browserbot.findElement(locator);if(element.type!=='select-one'){throw new Error(`Element with locator ${locator} is not a select`);}else if(element.value!==value){throw new Error(\"Actual value '\"+element.value+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doVerifySelectedLabel=function(selectLocator,value){let selectedLabel=this.findSelectedOptionProperty(selectLocator,'text');if(selectedLabel!==value){throw new Error(\"Actual label '\"+selectedLabel+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doAssertSelectedLabel=function(selectLocator,value){let selectedLabel=this.findSelectedOptionProperty(selectLocator,'text');if(selectedLabel!==value){throw new Error(\"Actual label '\"+selectedLabel+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doAssertNotSelectedValue=function(locator,value){let element=this.browserbot.findElement(locator);if(element.type!=='select-one'){throw new Error(`Element with locator ${locator} is not a select`);}else if(element.value===value){throw new Error(\"Actual value '\"+element.value+\"' did match\");}};Selenium.prototype.findElementVisible=function(locator){const element=this.browserbot.findElement(locator);if(!__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].dom.isShown(element))throw new Error(`Element ${locator} not visible`);return element;};Selenium.prototype.doAssertText=function(locator,value){const element=this.findElementVisible(locator);const visibleText=__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].dom.getVisibleText(element).trim();if(visibleText!==value){throw new Error(`Actual value \"${visibleText}\" did not match \"${value}\"`);}};Selenium.prototype.doAssertNotText=function(locator,value){const element=this.findElementVisible(locator);const visibleText=__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].dom.getVisibleText(element).trim();if(visibleText===value){throw new Error(`Actual value \"${visibleText}\" did match \"${value}\"`);}};Selenium.prototype.doAssertValue=function(locator,value){let element=this.browserbot.findElement(locator);if(element.value!==value){throw new Error(\"Actual value '\"+element.value+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doAssertTitle=function(value){if(__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"c\" /* default */].string.normalizeSpaces(this.getTitle())!==value){throw new Error(\"Actual value '\"+__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"c\" /* default */].string.normalizeSpaces(this.getTitle())+\"' did not match '\"+value+\"'\");}};Selenium.prototype.doAssertElementPresent=function(locator){try{this.browserbot.findElement(locator);}catch(error){if(error.message.match(/Element[\\s\\S]*?not found/)){throw new Error(`Element with locator ${locator} could not be found`);}else{throw error;}}};Selenium.prototype.doAssertElementNotPresent=function(locator){try{this.browserbot.findElement(locator);throw new Error(`Element with locator ${locator} was found`);}catch(error){if(!error.message.match(/Element[\\s\\S]*?not found/)){throw error;}}};function throwIfNoVarNameProvided(varName){if(!varName){throw new Error('No variable name provided.');}}Selenium.prototype.doStore=function(value,varName){throwIfNoVarNameProvided(varName);return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:value,storeVar:varName});};Selenium.prototype.doStoreEval=function(){throw new Error('store eval is obsolete please migrate to execute script');};Selenium.prototype.doStoreJson=function(json,varName){throwIfNoVarNameProvided(varName);const result=JSON.parse(json);return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:result,storeVar:varName});};Selenium.prototype.doStoreText=function(locator,varName){throwIfNoVarNameProvided(varName);let text;try{// Try to get the text if the element is visible\nconst element=this.findElementVisible(locator);text=__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].dom.getVisibleText(element).trim();}catch(e){// element is not visible, but it may be due to the fact that it has no text\nconst element=this.browserbot.findElement(locator);if(element.innerHTML===''){// element is empty then return empty string\ntext='';}else{// element has content this is indeed invisible\nthrow e;}}return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:text,storeVar:varName});};Selenium.prototype.doStoreValue=function(locator,varName){throwIfNoVarNameProvided(varName);let element=this.browserbot.findElement(locator);return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:element.value.trim(),storeVar:varName});};Selenium.prototype.doStoreTitle=function(value,varName){throwIfNoVarNameProvided(varName);let doc=__WEBPACK_IMPORTED_MODULE_3__commands_api__[\"selenium\"].browserbot.getDocument();return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:value||doc.title,storeVar:varName});};Selenium.prototype.doStoreXpathCount=function(xpath,varName){throwIfNoVarNameProvided(varName);let count=this.browserbot.evaluateXPathCount(xpath,this.browserbot.getDocument());return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:`${count}`||'0',storeVar:varName});};Selenium.prototype.doStoreAttribute=function(locator,varName){throwIfNoVarNameProvided(varName);let attributeValue=this.browserbot.findAttribute(locator);return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:attributeValue,storeVar:varName});};function waitUntil(condition,target,timeout,failureMessage){if(!timeout){throw new Error('Timeout not specified.');}return new Promise(function(resolve,reject){let count=0;let retryInterval=100;let result;let interval=setInterval(function(){if(count>timeout){clearInterval(interval);reject(failureMessage);}try{result=condition(target);}catch(error){clearInterval(interval);reject(error.message);}if(!result){count+=retryInterval;}else if(result){clearInterval(interval);resolve();}},retryInterval);});}Selenium.prototype.doWaitForElementPresent=function(locator,timeout){return waitUntil(this.isElementPresent.bind(this),locator,timeout,'Unable to find the target element within the timeout specified.');};Selenium.prototype.doWaitForElementNotPresent=function(locator,timeout){return waitUntil(isElementNotPresent.bind(this),locator,timeout,'Element still present on the page within the timeout specified.');};Selenium.prototype.doWaitForElementVisible=function(locator,timeout){return waitUntil(isDisplayed.bind(this),locator,timeout,'Element not visible on the page within the timeout specified.');};Selenium.prototype.doWaitForElementNotVisible=function(locator,timeout){return waitUntil(isNotDisplayed.bind(this),locator,timeout,'Element still visible on the page within the timeout specified.');};Selenium.prototype.doWaitForElementEditable=function(locator,timeout){return waitUntil(isEditable.bind(this),locator,timeout,'Element not editable within the timeout specified.');};Selenium.prototype.doWaitForElementNotEditable=function(locator,timeout){return waitUntil(isNotEditable.bind(this),locator,timeout,'Element still editable within the timeout specified.');};// xian\nSelenium.prototype.doWaitPreparation=function(){// function setNewPageValue(e) {\n//     window.new_page = true;\n// };\n// window.addEventListener(\"beforeunload\", setNewPageValue, false);\n// if (window.XMLHttpRequest) {\n//     // only override XMLHttpRequest once\n//     if (!window.origXMLHttpRequest || !window.ajax_obj) {\n//         // it's new page, so set the new window's XMLHttpRequest, and all of the obj in the ajax_obj\n//         // are last window's instance, so clear it\n//         window.ajax_obj = [];\n//         window.origXMLHttpRequest = window.XMLHttpRequest;\n//         window.XMLHttpRequest = function() {\n//             var xhr = new window.origXMLHttpRequest();\n//             window.ajax_obj.push(xhr);\n//             return xhr;\n//         }\n//     }\n// }\n// function setDOMModifiedTime() {\n//     window.domModifiedTime = Date.now();\n// }\n// var _win = window.document.body;\n// _win.addEventListener(\"DOMNodeInserted\", setDOMModifiedTime, false);\n// _win.addEventListener(\"DOMNodeInsertedIntoDocument\", setDOMModifiedTime, false);\n// _win.addEventListener(\"DOMNodeRemoved\", setDOMModifiedTime, false);\n// _win.addEventListener(\"DOMNodeRemovedFromDocument\", setDOMModifiedTime, false);\n// _win.addEventListener(\"DOMSubtreeModified\", setDOMModifiedTime, false);\nthis.eval('function setNewPageValue(e) {window.new_page = true;};\\\n                window.addEventListener(\"beforeunload\", setNewPageValue, false);\\\n                if (window.XMLHttpRequest) {if (!window.origXMLHttpRequest || !window.ajax_obj) {\\\n                window.ajax_obj = []; window.origXMLHttpRequest = window.XMLHttpRequest;\\\n                window.XMLHttpRequest = function() { var xhr = new window.origXMLHttpRequest();\\\n                window.ajax_obj.push(xhr); return xhr;}}} function setDOMModifiedTime() {\\\n                window.domModifiedTime = Date.now();}var _win = window.document.body;\\\n                _win.addEventListener(\"DOMNodeInserted\", setDOMModifiedTime, false);\\\n                _win.addEventListener(\"DOMNodeInsertedIntoDocument\", setDOMModifiedTime, false);\\\n                _win.addEventListener(\"DOMNodeRemoved\", setDOMModifiedTime, false);\\\n                _win.addEventListener(\"DOMNodeRemovedFromDocument\", setDOMModifiedTime, false);\\\n                _win.addEventListener(\"DOMSubtreeModified\", setDOMModifiedTime, false);',[],false);};Selenium.prototype.doPrePageWait=function(){window.sideex_new_page=this.eval('(function() {return window.new_page;}())',[],false);};Selenium.prototype.doPageWait=function(){// if (window.document.readyState == \"complete\") {\n//     return true;\n// } else {\n//     return false;\n// }\nlet expression='if(window.document.readyState==\"complete\"){return true;}else{return false;}';window.sideex_page_done=this.eval('(function() {'+expression+'}())',[],false);};Selenium.prototype.doAjaxWait=function(){// // check ajax wait\n// if (window.ajax_obj) {\n//     if (window.ajax_obj.length == 0) {\n//         return true;\n//     } else {\n//         for (var index in window.ajax_obj) {\n//         // if readyState is 1~3, then keep waiting\n//             if (window.ajax_obj[index].readyState !== 4 &&\n//                 window.ajax_obj[index].readyState !== undefined &&\n//                 window.ajax_obj[index].readyState !== 0) {\n//                     return false;\n//             }\n//         }\n//         return true;\n//     }\n// } else {\n//     if (window.origXMLHttpRequest) {\n//         window.origXMLHttpRequest = \"\";\n//     }\n//     return true;\n// }\nlet expression='if (window.ajax_obj) { if (window.ajax_obj.length == 0) {return true;} else {\\\n                      for (var index in window.ajax_obj) {\\\n                      if (window.ajax_obj[index].readyState !== 4 &&\\\n                      window.ajax_obj[index].readyState !== undefined &&\\\n                      window.ajax_obj[index].readyState !== 0) {return false;}}return true;}}\\\n                      else {if (window.origXMLHttpRequest) {window.origXMLHttpRequest = \"\";}return true;}';window.sideex_ajax_done=this.eval('(function() {'+expression+'}())',[],false);};Selenium.prototype.doDomWait=function(){window.sideex_dom_time=this.eval('(function() {return window.domModifiedTime;}())',[],false);};Selenium.prototype.doClick=function(locator){/**\n   * Clicks on a link, button, checkbox or radio button. If the click action\n   * causes a new page to load (like a link usually does), call\n   * waitForPageToLoad.\n   *\n   * @param locator an element locator\n   *\n   */let element=this.browserbot.findElement(locator);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.click(element);};Selenium.prototype.doDoubleClick=function(locator){/**\n   * Double clicks on a link, button, checkbox or radio button. If the double click action\n   * causes a new page to load (like a link usually does), call\n   * waitForPageToLoad.\n   *\n   * @param locator an element locator\n   *\n   */let element=this.browserbot.findElement(locator);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.doubleClick(element);};Selenium.prototype.doContextMenu=function(locator){/**\n   * Simulates opening the context menu for the specified element (as might happen if the user \"right-clicked\" on the element).\n   *\n   * @param locator an element locator\n   *\n   */let element=this.browserbot.findElement(locator);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.rightClick(element);};Selenium.prototype.doClickAt=function(locator,coordString){/**\n   * Clicks on a link, button, checkbox or radio button. If the click action\n   * causes a new page to load (like a link usually does), call\n   * waitForPageToLoad.\n   *\n   * @param locator an element locator\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\n   *      event relative to the element returned by the locator.\n   *\n   */let element=this.browserbot.findElement(locator);let coords=getCoords(element,coordString);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.click(element,coords);};Selenium.prototype.doDoubleClickAt=function(locator,coordString){/**\n   * Doubleclicks on a link, button, checkbox or radio button. If the action\n   * causes a new page to load (like a link usually does), call\n   * waitForPageToLoad.\n   *\n   * @param locator an element locator\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\n   *      event relative to the element returned by the locator.\n   *\n   */let element=this.browserbot.findElement(locator);let coords=getCoords(element,coordString);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.doubleClick(element,coords);};Selenium.prototype.doContextMenuAt=function(locator,coordString){/**\n   * Simulates opening the context menu for the specified element (as might happen if the user \"right-clicked\" on the element).\n   *\n   * @param locator an element locator\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\n   *      event relative to the element returned by the locator.\n   *\n   */let element=this.browserbot.findElement(locator);let coords=getCoords(element,coordString);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.rightClick(element,coords);};Selenium.prototype.doFocus=function(locator){/** Move the focus to the specified element; for example, if the element is an input field, move the cursor to that field.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */let element=this.browserbot.findElement(locator);if(element.focus){element.focus();}else{__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);}};Selenium.prototype.doShiftKeyDown=function(){/**\n   * Press the shift key and hold it down until doShiftUp() is called or a new page is loaded.\n   *\n   */this.browserbot.shiftKeyDown=true;__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.shiftKeyDown_=true;};Selenium.prototype.doShiftKeyUp=function(){/**\n   * Release the shift key.\n   *\n   */this.browserbot.shiftKeyDown=false;__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.shiftKeyDown_=false;};Selenium.prototype.doMetaKeyDown=function(){/**\n   * Press the meta key and hold it down until doMetaUp() is called or a new page is loaded.\n   *\n   */this.browserbot.metaKeyDown=true;__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.metaKeyDown_=true;};Selenium.prototype.doMetaKeyUp=function(){/**\n   * Release the meta key.\n   *\n   */this.browserbot.metaKeyDown=false;__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.metaKeyDown_=false;};Selenium.prototype.doAltKeyDown=function(){/**\n   * Press the alt key and hold it down until doAltUp() is called or a new page is loaded.\n   *\n   */this.browserbot.altKeyDown=true;__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.altKeyDown_=true;};Selenium.prototype.doAltKeyUp=function(){/**\n   * Release the alt key.\n   *\n   */this.browserbot.altKeyDown=false;__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.altKeyDown_=false;};Selenium.prototype.doControlKeyDown=function(){/**\n   * Press the control key and hold it down until doControlUp() is called or a new page is loaded.\n   *\n   */this.browserbot.controlKeyDown=true;__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.controlKeyDown_=true;};Selenium.prototype.doControlKeyUp=function(){/**\n   * Release the control key.\n   *\n   */this.browserbot.controlKeyDown=false;__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.controlKeyDown_=false;};function getClientXY(element,coordString){// Parse coordString\nlet coords=null;let x;let y;if(coordString){coords=coordString.split(/,/);x=Number(coords[0]);y=Number(coords[1]);}else{x=y=0;}// Get position of element,\n// Return 2 item array with clientX and clientY\nreturn[Selenium.prototype.getElementPositionLeft(element)+x,Selenium.prototype.getElementPositionTop(element)+y];}function getCoords(_element,coordString){// Parse coordString\nlet coords=null;let x;let y;if(coordString){coords=coordString.split(/,/);x=Number(coords[0]);y=Number(coords[1]);}else{x=y=0;}return new __WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"c\" /* default */].math.Coordinate(x,y);}Selenium.prototype.prepareToInteract_=function(locator){let element=this.browserbot.findElement(locator);let rect=element.getBoundingClientRect();__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.prepareToInteractWith_(element,new __WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"c\" /* default */].math.Coordinate(rect.width/2,rect.height/2));return element.getBoundingClientRect();};Selenium.prototype.doMouseOver=function(locator){/**\n   * Simulates a user hovering a mouse over the specified element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */let element=this.browserbot.findElement(locator);let rect=element.getBoundingClientRect();__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.moveMouse(element,new __WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"c\" /* default */].math.Coordinate(rect.width/2,rect.height/2));};Selenium.prototype.doMouseOut=function(locator){/**\n   * Simulates a user moving the mouse pointer away from the specified element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */let element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mouseout',true);};Selenium.prototype.doMouseDown=function(locator){/**\n   * Simulates a user pressing the left mouse button (without releasing it yet) on\n   * the specified element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */let element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mousedown',true);};Selenium.prototype.doMouseDownRight=function(locator){/**\n   * Simulates a user pressing the right mouse button (without releasing it yet) on\n   * the specified element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */let element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mousedown',true,undefined,undefined,Selenium.RIGHT_MOUSE_CLICK);};Selenium.prototype.doMouseDownAt=function(locator,coordString){/**\n   * Simulates a user pressing the left mouse button (without releasing it yet) at\n   * the specified location.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\n   *      event relative to the element returned by the locator.\n   */let element=this.browserbot.findElement(locator);let clientXY=getClientXY(element,coordString);this.browserbot.triggerMouseEvent(element,'mousedown',true,clientXY[0],clientXY[1]);};Selenium.prototype.doMouseDownRightAt=function(locator,coordString){/**\n   * Simulates a user pressing the right mouse button (without releasing it yet) at\n   * the specified location.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\n   *      event relative to the element returned by the locator.\n   */let element=this.browserbot.findElement(locator);let clientXY=getClientXY(element,coordString);this.browserbot.triggerMouseEvent(element,'mousedown',true,clientXY[0],clientXY[1],Selenium.RIGHT_MOUSE_CLICK);};Selenium.prototype.doMouseUp=function(locator){/**\n   * Simulates the event that occurs when the user releases the mouse button (i.e., stops\n   * holding the button down) on the specified element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */let element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mouseup',true);};Selenium.prototype.doMouseUpRight=function(locator){/**\n   * Simulates the event that occurs when the user releases the right mouse button (i.e., stops\n   * holding the button down) on the specified element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */let element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mouseup',true,undefined,undefined,Selenium.RIGHT_MOUSE_CLICK);};Selenium.prototype.doMouseUpAt=function(locator,coordString){/**\n   * Simulates the event that occurs when the user releases the mouse button (i.e., stops\n   * holding the button down) at the specified location.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\n   *      event relative to the element returned by the locator.\n   */let element=this.browserbot.findElement(locator);let clientXY=getClientXY(element,coordString);this.browserbot.triggerMouseEvent(element,'mouseup',true,clientXY[0],clientXY[1]);};Selenium.prototype.doMouseUpRightAt=function(locator,coordString){/**\n   * Simulates the event that occurs when the user releases the right mouse button (i.e., stops\n   * holding the button down) at the specified location.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\n   *      event relative to the element returned by the locator.\n   */let element=this.browserbot.findElement(locator);let clientXY=getClientXY(element,coordString);this.browserbot.triggerMouseEvent(element,'mouseup',true,clientXY[0],clientXY[1],Selenium.RIGHT_MOUSE_CLICK);};Selenium.prototype.doMouseMove=function(locator){/**\n   * Simulates a user pressing the mouse button (without releasing it yet) on\n   * the specified element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */let element=this.browserbot.findElement(locator);this.browserbot.triggerMouseEvent(element,'mousemove',true);};Selenium.prototype.doMouseMoveAt=function(locator,coordString){/**\n   * Simulates a user pressing the mouse button (without releasing it yet) on\n   * the specified element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @param coordString specifies the x,y position (i.e. - 10,20) of the mouse\n   *      event relative to the element returned by the locator.\n   */let element=this.browserbot.findElement(locator);let clientXY=getClientXY(element,coordString);this.browserbot.triggerMouseEvent(element,'mousemove',true,clientXY[0],clientXY[1]);};Selenium.prototype.doType=function(locator,value){/**\n   * Sets the value of an input field, as though you typed it in.\n   *\n   * <p>Can also be used to set the value of combo boxes, check boxes, etc. In these cases,\n   * value should be the value of the option selected, not the visible text.</p>\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @param value the value to type\n   */if(this.browserbot.controlKeyDown||this.browserbot.altKeyDown||this.browserbot.metaKeyDown){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('type not supported immediately after call to controlKeyDown() or altKeyDown() or metaKeyDown()');}let element=this.browserbot.findElement(locator);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.setValue(element,'');const type=element.type;if(type==='number'||type==='date'){__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.setValue(element,value);}else{__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.type(element,value);if(element.value!==value){__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"b\" /* core */].events.setValue(element,value);}}__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].events.EventType.CHANGE);};Selenium.prototype.doSendKeys=function(locator,value){/**\n   * *Experimental* Simulates keystroke events on the specified element, as though you typed the value key-by-key.\n   *\n   * <p>This simulates a real user typing every character in the specified string; it is also bound by the limitations of a\n   * real user, like not being able to type into a invisible or read only elements. This is useful for dynamic UI widgets\n   * (like auto-completing combo boxes) that require explicit key events.</p>\n   * <p>Unlike the simple \"type\" command, which forces the specified value into the page directly, this command will not\n   * replace the existing content. If you want to replace the existing contents, you need to use the simple \"type\" command to set the value of the\n   * field to empty string to clear the field and then the \"sendKeys\" command to send the keystroke for what you want\n   * to type.</p>\n   * <p>This command is experimental. It may replace the typeKeys command in the future.</p>\n   * <p>For those who are interested in the details, unlike the typeKeys command, which tries to\n   * fire the keyDown, the keyUp and the keyPress events, this command is backed by the atoms from Selenium 2 and provides a\n   * much more robust implementation that will be maintained in the future.</p>\n   *\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @param value the value to type\n   */if(this.browserbot.controlKeyDown||this.browserbot.altKeyDown||this.browserbot.metaKeyDown){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('type not supported immediately after call to controlKeyDown() or altKeyDown() or metaKeyDown()');}let element=this.browserbot.findElement(locator);let keys=this.replaceKeys(value);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.type(element,keys);__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].events.EventType.CHANGE);};Selenium.prototype.doSetSpeed=function(){/**\n   * Set execution speed (i.e., set the millisecond length of a delay which will follow each selenium operation).  By default, there is no such delay, i.e.,\n   * the delay is 0 milliseconds.\n   *\n   * @param value the number of milliseconds to pause after operation\n   */throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('this operation is only implemented in selenium-rc, and should never result in a request making it across the wire');};Selenium.prototype.getSpeed=function(){/**\n   * Get execution speed (i.e., get the millisecond length of the delay following each selenium operation).  By default, there is no such delay, i.e.,\n   * the delay is 0 milliseconds.\n   *\n   * See also setSpeed.\n   *\n   * @return string the execution speed in milliseconds.\n   */throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('this operation is only implemented in selenium-rc, and should never result in a request making it across the wire');};Selenium.prototype.findToggleButton=function(locator){let element=this.browserbot.findElement(locator);if(element.checked==null){throw new Error('Element '+locator+' is not a toggle-button.');// eslint-disable-line no-undef\n}return element;};Selenium.prototype.doCheck=function(locator){/**\n   * Check a toggle-button (checkbox/radio)\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */this.findToggleButton(locator).checked=true;};Selenium.prototype.doUncheck=function(locator){/**\n   * Uncheck a toggle-button (checkbox/radio)\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   */this.findToggleButton(locator).checked=false;};Selenium.prototype.doSelect=function(selectLocator,optionLocator){/**\n   * Select an option from a drop-down using an option locator.\n   *\n   * <p>\n   * Option locators provide different ways of specifying options of an HTML\n   * Select element (e.g. for selecting a specific option, or for asserting\n   * that the selected option satisfies a specification). There are several\n   * forms of Select Option Locator.\n   * </p>\n   * <ul>\n   * <li><strong>label</strong>=<em>labelPattern</em>:\n   * matches options based on their labels, i.e. the visible text. (This\n   * is the default.)\n   * <ul class=\"first last simple\">\n   * <li>label=regexp:^[Oo]ther</li>\n   * </ul>\n   * </li>\n   * <li><strong>value</strong>=<em>valuePattern</em>:\n   * matches options based on their values.\n   * <ul class=\"first last simple\">\n   * <li>value=other</li>\n   * </ul>\n   *\n   *\n   * </li>\n   * <li><strong>id</strong>=<em>id</em>:\n   *\n   * matches options based on their ids.\n   * <ul class=\"first last simple\">\n   * <li>id=option1</li>\n   * </ul>\n   * </li>\n   * <li><strong>index</strong>=<em>index</em>:\n   * matches an option based on its index (offset from zero).\n   * <ul class=\"first last simple\">\n   *\n   * <li>index=2</li>\n   * </ul>\n   * </li>\n   * </ul>\n   * <p>\n   * If no option locator prefix is provided, the default behaviour is to match on <strong>label</strong>.\n   * </p>\n   *\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @param optionLocator an option locator (a label by default)\n   */let element=this.browserbot.findElement(selectLocator);if(!('options'in element)){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Specified element is not a Select (has no options)');}let locator=this.optionLocatorFactory.fromLocatorString(optionLocator);let option=locator.findOption(element);this.browserbot.selectOption(element,option);};Selenium.prototype.doAddSelection=function(locator,optionLocator){/**\n   * Add a selection to the set of selected options in a multi-select element using an option locator.\n   *\n   * @see #doSelect for details of option locators\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> identifying a multi-select box\n   * @param optionLocator an option locator (a label by default)\n   */let element=this.browserbot.findElement(locator);if(!('options'in element)){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Specified element is not a Select (has no options)');}let currLocator=this.optionLocatorFactory.fromLocatorString(optionLocator);let option=currLocator.findOption(element);this.browserbot.addSelection(element,option);};Selenium.prototype.doRemoveSelection=function(locator,optionLocator){/**\n   * Remove a selection from the set of selected options in a multi-select element using an option locator.\n   *\n   * @see #doSelect for details of option locators\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> identifying a multi-select box\n   * @param optionLocator an option locator (a label by default)\n   */let element=this.browserbot.findElement(locator);if(!('options'in element)){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Specified element is not a Select (has no options)');}let currLocator=this.optionLocatorFactory.fromLocatorString(optionLocator);let option=currLocator.findOption(element);this.browserbot.removeSelection(element,option);};Selenium.prototype.doRemoveAllSelections=function(locator){/**\n   * Unselects all of the selected options in a multi-select element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> identifying a multi-select box\n   */let element=this.browserbot.findElement(locator);if(!('options'in element)){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Specified element is not a Select (has no options)');}for(let i=0;i<element.options.length;i++){this.browserbot.removeSelection(element,element.options[i]);}};Selenium.prototype.doSubmit=function(formLocator){/**\n   * Submit the specified form. This is particularly useful for forms without\n   * submit buttons, e.g. single-input \"Search\" forms.\n   *\n   * @param formLocator an <a href=\"#locators\">element locator</a> for the form you want to submit\n   */__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({log:{type:'warn',message:'submit is deprecated and will be removed from later versions of Selenium IDE, please re-record the step.'}});let form=this.browserbot.findElement(formLocator);return __WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].action.submit(form);};Selenium.prototype.makePageLoadCondition=function(timeout){if(timeout==null){timeout=this.defaultTimeout;}// if the timeout is zero, we won't wait for the page to load before returning\nif(timeout==0){// abort XHR request\nthis._abortXhrRequest();return;}return Selenium.decorateFunctionWithTimeout(this._isNewPageLoaded.bind(this),timeout,this._abortXhrRequest.bind(this));};Selenium.prototype.doOpen=function(url,ignoreResponseCode){/**\n   * Opens an URL in the test frame. This accepts both relative and absolute\n   * URLs.\n   *\n   * The &quot;open&quot; command waits for the page to load before proceeding,\n   * ie. the &quot;AndWait&quot; suffix is implicit.\n   *\n   * <em>Note</em>: The URL must be on the same domain as the runner HTML\n   * due to security restrictions in the browser (Same Origin Policy). If you\n   * need to open an URL on another domain, use the Selenium Server to start a\n   * new browser session on that domain.\n   *\n   * @param url the URL to open; may be relative or absolute\n   * @param ignoreResponseCode (optional) turn off ajax head request functionality\n   *\n   */if(ignoreResponseCode==null||ignoreResponseCode.length==0){this.browserbot.ignoreResponseCode=true;}else if(ignoreResponseCode.toLowerCase()=='true'){this.browserbot.ignoreResponseCode=true;}else{this.browserbot.ignoreResponseCode=false;}this.browserbot.openLocation(url);if(window['proxyInjectionMode']==null||!window['proxyInjectionMode']){return this.makePageLoadCondition();}// in PI mode, just return \"OK\"; the server will waitForLoad\n};Selenium.prototype.doOpenWindow=function(url,windowID){/**\n   * Opens a popup window (if a window with that ID isn't already open).\n   * After opening the window, you'll need to select it using the selectWindow\n   * command.\n   *\n   * <p>This command can also be a useful workaround for bug SEL-339.  In some cases, Selenium will be unable to intercept a call to window.open (if the call occurs during or before the \"onLoad\" event, for example).\n   * In those cases, you can force Selenium to notice the open window's name by using the Selenium openWindow command, using\n   * an empty (blank) url, like this: openWindow(\"\", \"myFunnyWindow\").</p>\n   *\n   * @param url the URL to open, which can be blank\n   * @param windowID the JavaScript window ID of the window to select\n   */this.browserbot.openWindow(url,windowID);};Selenium.prototype.doSelectWindow=function(windowID){/**\n   * Selects a popup window using a window locator; once a popup window has been selected, all\n   * commands go to that window. To select the main window again, use null\n   * as the target.\n   *\n   * <p>\n   *\n   * Window locators provide different ways of specifying the window object:\n   * by title, by internal JavaScript \"name,\" or by JavaScript variable.\n   * </p>\n   * <ul>\n   * <li><strong>title</strong>=<em>My Special Window</em>:\n   * Finds the window using the text that appears in the title bar.  Be careful;\n   * two windows can share the same title.  If that happens, this locator will\n   * just pick one.\n   * </li>\n   * <li><strong>name</strong>=<em>myWindow</em>:\n   * Finds the window using its internal JavaScript \"name\" property.  This is the second\n   * parameter \"windowName\" passed to the JavaScript method window.open(url, windowName, windowFeatures, replaceFlag)\n   * (which Selenium intercepts).\n   * </li>\n   * <li><strong>var</strong>=<em>variableName</em>:\n   * Some pop-up windows are unnamed (anonymous), but are associated with a JavaScript variable name in the current\n   * application window, e.g. \"window.foo = window.open(url);\".  In those cases, you can open the window using\n   * \"var=foo\".\n   * </li>\n   * </ul>\n   * <p>\n   * If no window locator prefix is provided, we'll try to guess what you mean like this:</p>\n   * <p>1.) if windowID is null, (or the string \"null\") then it is assumed the user is referring to the original window instantiated by the browser).</p>\n   * <p>2.) if the value of the \"windowID\" parameter is a JavaScript variable name in the current application window, then it is assumed\n   * that this variable contains the return value from a call to the JavaScript window.open() method.</p>\n   * <p>3.) Otherwise, selenium looks in a hash it maintains that maps string names to window \"names\".</p>\n   * <p>4.) If <em>that</em> fails, we'll try looping over all of the known windows to try to find the appropriate \"title\".\n   * Since \"title\" is not necessarily unique, this may have unexpected behavior.</p>\n   *\n   * <p>If you're having trouble figuring out the name of a window that you want to manipulate, look at the Selenium log messages\n   * which identify the names of windows created via window.open (and therefore intercepted by Selenium).  You will see messages\n   * like the following for each window as it is opened:</p>\n   *\n   * <p><code>debug: window.open call intercepted; window ID (which you can use with selectWindow()) is \"myNewWindow\"</code></p>\n   *\n   * <p>In some cases, Selenium will be unable to intercept a call to window.open (if the call occurs during or before the \"onLoad\" event, for example).\n   * (This is bug SEL-339.)  In those cases, you can force Selenium to notice the open window's name by using the Selenium openWindow command, using\n   * an empty (blank) url, like this: openWindow(\"\", \"myFunnyWindow\").</p>\n   *\n   * @param windowID the JavaScript window ID of the window to select\n   */this.browserbot.selectWindow(windowID);};Selenium.prototype.doSelectPopUp=function(windowID){/**\n   * Simplifies the process of selecting a popup window (and does not offer\n   * functionality beyond what <code>selectWindow()</code> already provides).\n   * <ul>\n   * <li>If <code>windowID</code> is either not specified, or specified as\n   * \"null\", the first non-top window is selected. The top window is the one\n   * that would be selected by <code>selectWindow()</code> without providing a\n   * <code>windowID</code> . This should not be used when more than one popup\n   * window is in play.</li>\n   * <li>Otherwise, the window will be looked up considering\n   * <code>windowID</code> as the following in order: 1) the \"name\" of the\n   * window, as specified to <code>window.open()</code>; 2) a javascript\n   * variable which is a reference to a window; and 3) the title of the\n   * window. This is the same ordered lookup performed by\n   * <code>selectWindow</code> .</li>\n   * </ul>\n   *\n   * @param windowID  an identifier for the popup window, which can take on a\n   *                  number of different meanings\n   */this.browserbot.selectPopUp(windowID);};Selenium.prototype.doDeselectPopUp=function(){/**\n   * Selects the main window. Functionally equivalent to using\n   * <code>selectWindow()</code> and specifying no value for\n   * <code>windowID</code>.\n   */this.browserbot.selectWindow();};Selenium.prototype.doSelectFrame=function(locator){/**\n   * Selects a frame within the current window.  (You may invoke this command\n   * multiple times to select nested frames.)  To select the parent frame, use\n   * \"relative=parent\" as a locator; to select the top frame, use \"relative=top\".\n   * You can also select a frame by its 0-based index number; select the first frame with\n   * \"index=0\", or the third frame with \"index=2\".\n   *\n   * <p>You may also use a DOM expression to identify the frame you want directly,\n   * like this: <code>dom=frames[\"main\"].frames[\"subframe\"]</code></p>\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> identifying a frame or iframe\n   */this.browserbot.selectFrame(locator);};Selenium.prototype.getWhetherThisFrameMatchFrameExpression=function(currentFrameString,target){/**\n   * Determine whether current/locator identify the frame containing this running code.\n   *\n   * <p>This is useful in proxy injection mode, where this code runs in every\n   * browser frame and window, and sometimes the selenium server needs to identify\n   * the \"current\" frame.  In this case, when the test calls selectFrame, this\n   * routine is called for each frame to figure out which one has been selected.\n   * The selected frame will return true, while all others will return false.</p>\n   *\n   * @param currentFrameString starting frame\n   * @param target new frame (which might be relative to the current one)\n   * @return boolean true if the new frame is this code's window\n   */return this.browserbot.doesThisFrameMatchFrameExpression(currentFrameString,target);};Selenium.prototype.getWhetherThisWindowMatchWindowExpression=function(_currentWindowString,target){/**\n   * Determine whether currentWindowString plus target identify the window containing this running code.\n   *\n   * <p>This is useful in proxy injection mode, where this code runs in every\n   * browser frame and window, and sometimes the selenium server needs to identify\n   * the \"current\" window.  In this case, when the test calls selectWindow, this\n   * routine is called for each window to figure out which one has been selected.\n   * The selected window will return true, while all others will return false.</p>\n   *\n   * @param currentWindowString starting window\n   * @param target new window (which might be relative to the current one, e.g., \"_parent\")\n   * @return boolean true if the new window is this code's window\n   */if(window.opener!=null&&window.opener[target]!=null&&window.opener[target]==window){return true;}return false;};Selenium.prototype.doWaitForPopUp=function(windowID,timeout){/**\n   * Waits for a popup window to appear and load up.\n   *\n   * @param windowID the JavaScript window \"name\" of the window that will appear (not the text of the title bar)\n   *                 If unspecified, or specified as \"null\", this command will\n   *                 wait for the first non-top window to appear (don't rely\n   *                 on this if you are working with multiple popups\n   *                 simultaneously).\n   * @param timeout a timeout in milliseconds, after which the action will return with an error.\n   *                If this value is not specified, the default Selenium\n   *                timeout will be used. See the setTimeout() command.\n   */if(!timeout){timeout=this.defaultTimeout;}let timeoutTime=Object(__WEBPACK_IMPORTED_MODULE_8__utils__[\"d\" /* getTimeoutTime */])(timeout);let popupLoadedPredicate=function(){let targetWindow;try{if(windowID&&windowID!='null'){targetWindow=__WEBPACK_IMPORTED_MODULE_3__commands_api__[\"selenium\"].browserbot.getWindowByName(windowID,true);}else{let names=__WEBPACK_IMPORTED_MODULE_3__commands_api__[\"selenium\"].browserbot.getNonTopWindowNames();targetWindow=__WEBPACK_IMPORTED_MODULE_3__commands_api__[\"selenium\"].browserbot.getWindowByName(names[0],true);}}catch(e){if(new Date().getTime()>timeoutTime){throw e;}}if(!targetWindow)return false;try{if(!targetWindow.location)return false;if('about:blank'==targetWindow.location)return false;}catch(e){//LOG.debug(\"Location exception (\" + e.message + \")!\");\nreturn false;}if(__WEBPACK_IMPORTED_MODULE_5__selenium_browserbot__[\"a\" /* browserVersion */].isKonqueror){if('/'==targetWindow.location.href){// apparently Konqueror uses this as the temporary location, instead of about:blank\nreturn false;}}if(__WEBPACK_IMPORTED_MODULE_5__selenium_browserbot__[\"a\" /* browserVersion */].isSafari){if(targetWindow.location.href==__WEBPACK_IMPORTED_MODULE_3__commands_api__[\"selenium\"].browserbot.buttonWindow.location.href){// Apparently Safari uses this as the temporary location, instead of about:blank\n// what a world!\n//LOG.debug(\"DGF what a world!\");\nreturn false;}}if(!targetWindow.document)return false;if(!__WEBPACK_IMPORTED_MODULE_3__commands_api__[\"selenium\"].browserbot.getCurrentWindow().document.readyState){// This is Firefox, with no readyState extension\nreturn true;}if('complete'!=targetWindow.document.readyState)return false;return true;};return Selenium.decorateFunctionWithTimeout(popupLoadedPredicate,timeout);};Selenium.prototype.doWaitForPopUp.dontCheckAlertsAndConfirms=true;//Selenium.prototype.doChooseCancelOnNextConfirmation = function() {\n/**\n * <p>\n * By default, Selenium's overridden window.confirm() function will\n * return true, as if the user had manually clicked OK; after running\n * this command, the next call to confirm() will return false, as if\n * the user had clicked Cancel.  Selenium will then resume using the\n * default behavior for future confirmations, automatically returning\n * true (OK) unless/until you explicitly call this command for each\n * confirmation.\n * </p>\n * <p>\n * Take note - every time a confirmation comes up, you must\n * consume it with a corresponding getConfirmation, or else\n * the next selenium operation will fail.\n * </p>\n */ //this.browserbot.cancelNextConfirmation(false);\n//};\n//Selenium.prototype.doChooseOkOnNextConfirmation = function() {\n/**\n * <p>\n * Undo the effect of calling chooseCancelOnNextConfirmation.  Note\n * that Selenium's overridden window.confirm() function will normally automatically\n * return true, as if the user had manually clicked OK, so you shouldn't\n * need to use this command unless for some reason you need to change\n * your mind prior to the next confirmation.  After any confirmation, Selenium will resume using the\n * default behavior for future confirmations, automatically returning\n * true (OK) unless/until you explicitly call chooseCancelOnNextConfirmation for each\n * confirmation.\n * </p>\n * <p>\n * Take note - every time a confirmation comes up, you must\n * consume it with a corresponding getConfirmation, or else\n * the next selenium operation will fail.\n * </p>\n *\n */ //this.browserbot.cancelNextConfirmation(true);\n//};\n//Selenium.prototype.doAnswerOnNextPrompt = function(answer) {\n/**\n * Instructs Selenium to return the specified answer string in response to\n * the next JavaScript prompt [window.prompt()].\n *\n *\n * @param answer the answer to give in response to the prompt pop-up\n */ //this.browserbot.setNextPromptResult(answer);\n//};\nSelenium.prototype.doGoBack=function(){/**\n   * Simulates the user clicking the \"back\" button on their browser.\n   *\n   */this.browserbot.goBack();};Selenium.prototype.doRefresh=function(){/**\n   * Simulates the user clicking the \"Refresh\" button on their browser.\n   *\n   */this.browserbot.refresh();};Selenium.prototype.doClose=function(){/**\n   * Simulates the user clicking the \"close\" button in the titlebar of a popup\n   * window or tab.\n   */this.browserbot.close();};Selenium.prototype.ensureNoUnhandledPopups=function(){if(this.browserbot.hasAlerts()){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('There was an unexpected Alert! ['+this.browserbot.getNextAlert()+']');}if(this.browserbot.hasConfirmations()){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('There was an unexpected Confirmation! ['+this.browserbot.getNextConfirmation()+']');}};Selenium.prototype.isAlertPresent=function(){/**\n   * Has an alert occurred?\n   *\n   * <p>\n   * This function never throws an exception\n   * </p>\n   * @return boolean true if there is an alert\n   */return this.browserbot.hasAlerts();};Selenium.prototype.isPromptPresent=function(){/**\n   * Has a prompt occurred?\n   *\n   * <p>\n   * This function never throws an exception\n   * </p>\n   * @return boolean true if there is a pending prompt\n   */return this.browserbot.hasPrompts();};Selenium.prototype.isConfirmationPresent=function(){/**\n   * Has confirm() been called?\n   *\n   * <p>\n   * This function never throws an exception\n   * </p>\n   * @return boolean true if there is a pending confirmation\n   */return this.browserbot.hasConfirmations();};Selenium.prototype.getAlert=function(){/**\n     * Retrieves the message of a JavaScript alert generated during the previous action, or fail if there were no alerts.\n     *\n     * <p>Getting an alert has the same effect as manually clicking OK. If an\n     * alert is generated but you do not consume it with getAlert, the next Selenium action\n     * will fail.</p>\n     *\n     * <p>Under Selenium, JavaScript alerts will NOT pop up a visible alert\n     * dialog.</p>\n     *\n     * <p>Selenium does NOT support JavaScript alerts that are generated in a\n     * page's onload() event handler. In this case a visible dialog WILL be\n     * generated and Selenium will hang until someone manually clicks OK.</p>\n     * @return string The message of the most recent JavaScript alert\n\n     */if(!this.browserbot.hasAlerts()){Assert.fail('There were no alerts');// eslint-disable-line no-undef\n}return this.browserbot.getNextAlert();};Selenium.prototype.getAlert.dontCheckAlertsAndConfirms=true;Selenium.prototype.getConfirmation=function(){/**\n   * Retrieves the message of a JavaScript confirmation dialog generated during\n   * the previous action.\n   *\n   * <p>\n   * By default, the confirm function will return true, having the same effect\n   * as manually clicking OK. This can be changed by prior execution of the\n   * chooseCancelOnNextConfirmation command.\n   * </p>\n   * <p>\n   * If an confirmation is generated but you do not consume it with getConfirmation,\n   * the next Selenium action will fail.\n   * </p>\n   *\n   * <p>\n   * NOTE: under Selenium, JavaScript confirmations will NOT pop up a visible\n   * dialog.\n   * </p>\n   *\n   * <p>\n   * NOTE: Selenium does NOT support JavaScript confirmations that are\n   * generated in a page's onload() event handler. In this case a visible\n   * dialog WILL be generated and Selenium will hang until you manually click\n   * OK.\n   * </p>\n   *\n   * @return string the message of the most recent JavaScript confirmation dialog\n   */if(!this.browserbot.hasConfirmations()){Assert.fail('There were no confirmations');// eslint-disable-line no-undef\n}return this.browserbot.getNextConfirmation();};Selenium.prototype.getConfirmation.dontCheckAlertsAndConfirms=true;Selenium.prototype.getPrompt=function(){/**\n   * Retrieves the message of a JavaScript question prompt dialog generated during\n   * the previous action.\n   *\n   * <p>Successful handling of the prompt requires prior execution of the\n   * answerOnNextPrompt command. If a prompt is generated but you\n   * do not get/verify it, the next Selenium action will fail.</p>\n   *\n   * <p>NOTE: under Selenium, JavaScript prompts will NOT pop up a visible\n   * dialog.</p>\n   *\n   * <p>NOTE: Selenium does NOT support JavaScript prompts that are generated in a\n   * page's onload() event handler. In this case a visible dialog WILL be\n   * generated and Selenium will hang until someone manually clicks OK.</p>\n   * @return string the message of the most recent JavaScript question prompt\n   */if(!this.browserbot.hasPrompts()){Assert.fail('There were no prompts');// eslint-disable-line no-undef\n}return this.browserbot.getNextPrompt();};Selenium.prototype.getLocation=function(){/** Gets the absolute URL of the current page.\n   *\n   * @return string the absolute URL of the current page\n   */return this.browserbot.getCurrentWindow().location.href;};Selenium.prototype.getTitle=function(){/** Gets the title of the current page.\n   *\n   * @return string the title of the current page\n   */return this.browserbot.getTitle();};Selenium.prototype.getBodyText=function(){/**\n   * Gets the entire text of the page.\n   * @return string the entire text of the page\n   */return this.browserbot.bodyText();};Selenium.prototype.getValue=function(locator){/**\n   * Gets the (whitespace-trimmed) value of an input field (or anything else with a value parameter).\n   * For checkbox/radio elements, the value will be \"on\" or \"off\" depending on\n   * whether the element is checked or not.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @return string the element value, or \"on/off\" for checkbox/radio elements\n   */let element=this.browserbot.findElement(locator);return element.value.trim();};Selenium.prototype.getText=function(locator){/**\n   * Gets the text of an element. This works for any element that contains\n   * text. This command uses either the textContent (Mozilla-like browsers) or\n   * the innerText (IE-like browsers) of the element, which is the rendered\n   * text shown to the user.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @return string the text of the element\n   */let element=this.browserbot.findElement(locator);return __WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].dom.getVisibleText(element).trim();};Selenium.prototype.getEval=function(script){/** Gets the result of evaluating the specified JavaScript snippet.  The snippet may\n   * have multiple lines, but only the result of the last line will be returned.\n   *\n   * <p>Note that, by default, the snippet will run in the context of the \"selenium\"\n   * object itself, so <code>this</code> will refer to the Selenium object.  Use <code>window</code> to\n   * refer to the window of your application, e.g. <code>window.document.getElementById('foo')</code></p>\n   *\n   * <p>If you need to use\n   * a locator to refer to a single element in your application page, you can\n   * use <code>this.browserbot.findElement(\"id=foo\")</code> where \"id=foo\" is your locator.</p>\n   *\n   * @param script the JavaScript snippet to run\n   * @return string the results of evaluating the snippet\n   */try{//LOG.info('script is: ' + script);\nlet result=this.eval(script);// Selenium RC doesn't allow returning null\nif(null==result)return'null';return result;}catch(e){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Threw an exception: '+Object(__WEBPACK_IMPORTED_MODULE_8__utils__[\"b\" /* extractExceptionMessage */])(e));}};Selenium.prototype.isChecked=function(locator){/**\n   * Gets whether a toggle-button (checkbox/radio) is checked.  Fails if the specified element doesn't exist or isn't a toggle-button.\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to a checkbox or radio button\n   * @return boolean true if the checkbox is checked, false otherwise\n   */let element=this.browserbot.findElement(locator);if(element.checked==null){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Element '+locator+' is not a toggle-button.');}return element.checked;};Selenium.prototype.getTable=function(tableCellAddress){/**\n   * Gets the text from a cell of a table. The cellAddress syntax\n   * tableLocator.row.column, where row and column start at 0.\n   *\n   * @param tableCellAddress a cell address, e.g. \"foo.1.4\"\n   * @return string the text from the specified cell\n   */ // This regular expression matches \"tableName.row.column\"\n// For example, \"mytable.3.4\"\nlet pattern=/(.*)\\.(\\d+)\\.(\\d+)/;if(!pattern.test(tableCellAddress)){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Invalid target format. Correct format is tableName.rowNum.columnNum');}let pieces=tableCellAddress.match(pattern);let tableName=pieces[1];let row=pieces[2];let col=pieces[3];let table=this.browserbot.findElement(tableName);if(row>table.rows.length){// eslint-disable-next-line no-undef\nAssert.fail('Cannot access row '+row+' - table has '+table.rows.length+' rows');}else if(col>table.rows[row].cells.length){// eslint-disable-next-line no-undef\nAssert.fail('Cannot access column '+col+' - table row has '+table.rows[row].cells.length+' columns');}else{let actualContent=__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].dom.getVisibleText(table.rows[row].cells[col]);return actualContent.trim();}return null;};Selenium.prototype.getSelectedLabels=function(selectLocator){/** Gets all option labels (visible text) for selected options in the specified select or multi-select element.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string[] an array of all selected option labels in the specified select drop-down\n   */return this.findSelectedOptionProperties(selectLocator,'text');};Selenium.prototype.getSelectedLabel=function(selectLocator){/** Gets option label (visible text) for selected option in the specified select element.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string the selected option label in the specified select drop-down\n   */return this.findSelectedOptionProperty(selectLocator,'text');};Selenium.prototype.getSelectedValues=function(selectLocator){/** Gets all option values (value attributes) for selected options in the specified select or multi-select element.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string[] an array of all selected option values in the specified select drop-down\n   */return this.findSelectedOptionProperties(selectLocator,'value');};Selenium.prototype.getSelectedValue=function(selectLocator){/** Gets option value (value attribute) for selected option in the specified select element.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string the selected option value in the specified select drop-down\n   */return this.findSelectedOptionProperty(selectLocator,'value');};Selenium.prototype.getSelectedIndexes=function(selectLocator){/** Gets all option indexes (option number, starting at 0) for selected options in the specified select or multi-select element.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string[] an array of all selected option indexes in the specified select drop-down\n   */return this.findSelectedOptionProperties(selectLocator,'index');};Selenium.prototype.getSelectedIndex=function(selectLocator){/** Gets option index (option number, starting at 0) for selected option in the specified select element.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string the selected option index in the specified select drop-down\n   */return this.findSelectedOptionProperty(selectLocator,'index');};Selenium.prototype.getSelectedIds=function(selectLocator){/** Gets all option element IDs for selected options in the specified select or multi-select element.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string[] an array of all selected option IDs in the specified select drop-down\n   */return this.findSelectedOptionProperties(selectLocator,'id');};Selenium.prototype.getSelectedId=function(selectLocator){/** Gets option element ID for selected option in the specified select element.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string the selected option ID in the specified select drop-down\n   */return this.findSelectedOptionProperty(selectLocator,'id');};Selenium.prototype.isSomethingSelected=function(selectLocator){/** Determines whether some option in a drop-down menu is selected.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return boolean true if some option has been selected, false otherwise\n   */let element=this.browserbot.findElement(selectLocator);if(!('options'in element)){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Specified element is not a Select (has no options)');}for(let i=0;i<element.options.length;i++){if(element.options[i].selected){return true;}}return false;};Selenium.prototype.findSelectedOptionProperties=function(locator,property){let element=this.browserbot.findElement(locator);if(!('options'in element)){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Specified element is not a Select (has no options)');}let selectedOptions=[];for(let i=0;i<element.options.length;i++){if(element.options[i].selected){let propVal=element.options[i][property];selectedOptions.push(propVal);}}if(selectedOptions.length==0)Assert.fail('No option selected');// eslint-disable-line no-undef\nreturn selectedOptions;};Selenium.prototype.findSelectedOptionProperty=function(locator,property){let selectedOptions=this.findSelectedOptionProperties(locator,property);if(selectedOptions.length>1){Assert.fail('More than one selected option!');// eslint-disable-line no-undef\n}return selectedOptions[0];};Selenium.prototype.getSelectOptions=function(selectLocator){/** Gets all option labels in the specified select drop-down.\n   *\n   * @param selectLocator an <a href=\"#locators\">element locator</a> identifying a drop-down menu\n   * @return string[] an array of all option labels in the specified select drop-down\n   */let element=this.browserbot.findElement(selectLocator);let selectOptions=[];for(let i=0;i<element.options.length;i++){let option=element.options[i].text;selectOptions.push(option);}return selectOptions;};Selenium.prototype.getAttribute=function(attributeLocator){/**\n   * Gets the value of an element attribute. The value of the attribute may\n   * differ across browsers (this is the case for the \"style\" attribute, for\n   * example).\n   *\n   * @param attributeLocator an element locator followed by an &#064; sign and then the name of the attribute, e.g. \"foo&#064;bar\"\n   * @return string the value of the specified attribute\n   */let result=this.browserbot.findAttribute(attributeLocator);if(result==null){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Could not find element attribute: '+attributeLocator);}return result;};Selenium.prototype.isTextPresent=function(pattern){/**\n   * Verifies that the specified text pattern appears somewhere on the rendered page shown to the user.\n   * @param pattern a <a href=\"#patterns\">pattern</a> to match with the text of the page\n   * @return boolean true if the pattern matches the text, false otherwise\n   */let allText=this.browserbot.bodyText();let patternMatcher=new __WEBPACK_IMPORTED_MODULE_7__PatternMatcher__[\"a\" /* default */](pattern);if(patternMatcher.strategy==__WEBPACK_IMPORTED_MODULE_7__PatternMatcher__[\"a\" /* default */].strategies.glob){if(pattern.indexOf('glob:')==0){pattern=pattern.substring('glob:'.length);// strip off \"glob:\"\n}patternMatcher.matcher=new __WEBPACK_IMPORTED_MODULE_7__PatternMatcher__[\"a\" /* default */].strategies.globContains(pattern);}else if(patternMatcher.strategy==__WEBPACK_IMPORTED_MODULE_7__PatternMatcher__[\"a\" /* default */].strategies.exact){pattern=pattern.substring('exact:'.length);// strip off \"exact:\"\nreturn allText.indexOf(pattern)!=-1;}return patternMatcher.matches(allText);};function isElementNotPresent(locator){return!this.isElementPresent(locator);}Selenium.prototype.isElementPresent=function(locator){/**\n   * Verifies that the specified element is somewhere on the page.\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @return boolean true if the element is present, false otherwise\n   */let element=this.browserbot.findElementOrNull(locator);if(element==null){return false;}return true;};function unableToLocateTargetElementError(){throw new Error('Unable to locate target element.');}function isNotDisplayed(locator){try{return!this.isVisible(locator);}catch(error){unableToLocateTargetElementError();}}function isDisplayed(locator){try{return this.isVisible(locator);}catch(error){return false;}}Selenium.prototype.isVisible=function(locator){/**\n   * Determines if the specified element is visible. An\n   * element can be rendered invisible by setting the CSS \"visibility\"\n   * property to \"hidden\", or the \"display\" property to \"none\", either for the\n   * element itself or one if its ancestors.  This method will fail if\n   * the element is not present.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @return boolean true if the specified element is visible, false otherwise\n   */let element;element=this.browserbot.findElement(locator);// DGF if it's an input tag of type \"hidden\" then it's not visible\nif(element.tagName){let tagName=new String(element.tagName).toLowerCase();if(tagName=='input'){if(element.type){let elementType=new String(element.type).toLowerCase();if(elementType=='hidden'){return false;}}}}let visibility=this.findEffectiveStyleProperty(element,'visibility');let _isDisplayed=this._isDisplayed(element);return visibility!='hidden'&&_isDisplayed;};Selenium.prototype.findEffectiveStyleProperty=function(element,property){let effectiveStyle=this.findEffectiveStyle(element);let propertyValue=effectiveStyle[property];if(propertyValue=='inherit'&&element.parentNode.style){return this.findEffectiveStyleProperty(element.parentNode,property);}return propertyValue;};Selenium.prototype._isDisplayed=function(element){let display=this.findEffectiveStyleProperty(element,'display');if(display=='none')return false;if(element.parentNode.style){return this._isDisplayed(element.parentNode);}return true;};Selenium.prototype.findEffectiveStyle=function(element){if(element.style==undefined){return undefined;// not a styled element\n}let window=this.browserbot.getCurrentWindow();if(window.getComputedStyle){// DOM-Level-2-CSS\nreturn window.getComputedStyle(element,null);}if(element.currentStyle){// non-standard IE alternative\nreturn element.currentStyle;// TODO: this won't really work in a general sense, as\n//   currentStyle is not identical to getComputedStyle()\n//   ... but it's good enough for \"visibility\"\n}if(window.document.defaultView&&window.document.defaultView.getComputedStyle){return window.document.defaultView.getComputedStyle(element,null);}throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('cannot determine effective stylesheet in this browser');};function isEditable(locator){try{return this.isEditable(locator);}catch(error){unableToLocateTargetElementError();}}function isNotEditable(locator){try{return!this.isEditable(locator);}catch(error){unableToLocateTargetElementError();}}Selenium.prototype.isEditable=function(locator){/**\n   * Determines whether the specified input element is editable, ie hasn't been disabled.\n   * This method will fail if the specified element isn't an input element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a>\n   * @return boolean true if the input element is editable, false otherwise\n   */let element=this.browserbot.findElement(locator);if(element.value==undefined){Assert.fail('Element '+locator+' is not an input.');// eslint-disable-line no-undef\n}if(element.disabled){return false;}// DGF \"readonly\" is a bit goofy... it doesn't necessarily have a value\n// You can write <input readonly value=\"black\">\nlet readOnlyNode=element.getAttributeNode('readonly');if(readOnlyNode){// DGF on IE, every input element has a readOnly node, but it may be false\nif(typeof readOnlyNode.nodeValue=='boolean'){let readOnly=readOnlyNode.nodeValue;if(readOnly){return false;}}else{return false;}}return true;};Selenium.prototype.getAllButtons=function(){/** Returns the IDs of all buttons on the page.\n   *\n   * <p>If a given button has no ID, it will appear as \"\" in this array.</p>\n   *\n   * @return string[] the IDs of all buttons on the page\n   */return this.browserbot.getAllButtons();};Selenium.prototype.getAllLinks=function(){/** Returns the IDs of all links on the page.\n   *\n   * <p>If a given link has no ID, it will appear as \"\" in this array.</p>\n   *\n   * @return string[] the IDs of all links on the page\n   */return this.browserbot.getAllLinks();};Selenium.prototype.getAllFields=function(){/** Returns the IDs of all input fields on the page.\n   *\n   * <p>If a given field has no ID, it will appear as \"\" in this array.</p>\n   *\n   * @return string[] the IDs of all field on the page\n   */return this.browserbot.getAllFields();};Selenium.prototype.doSetMouseSpeed=function(pixels){/** Configure the number of pixels between \"mousemove\" events during dragAndDrop commands (default=10).\n   * <p>Setting this value to 0 means that we'll send a \"mousemove\" event to every single pixel\n   * in between the start location and the end location; that can be very slow, and may\n   * cause some browsers to force the JavaScript to timeout.</p>\n   *\n   * <p>If the mouse speed is greater than the distance between the two dragged objects, we'll\n   * just send one \"mousemove\" at the start location and then one final one at the end location.</p>\n   * @param pixels the number of pixels between \"mousemove\" events\n   */let intValue=new Number(pixels);if(intValue.constructor!=Number||intValue<0){this.mouseSpeed=Selenium.DEFAULT_MOUSE_SPEED;}else{this.mouseSpeed=pixels;}};Selenium.prototype.getMouseSpeed=function(){/** Returns the number of pixels between \"mousemove\" events during dragAndDrop commands (default=10).\n   *\n   * @return number the number of pixels between \"mousemove\" events during dragAndDrop commands (default=10)\n   */return this.mouseSpeed;};Selenium.prototype.doDragAndDrop=function(locator,movementsString){/** Drags an element a certain distance and then drops it\n   * @param locator an element locator\n   * @param movementsString offset in pixels from the current location to which the element should be moved, e.g., \"+70,-300\"\n   */let element=this.browserbot.findElement(locator);let clientStartXY=getClientXY(element);let clientStartX=clientStartXY[0];let clientStartY=clientStartXY[1];let movements=movementsString.split(/,/);let movementX=Number(movements[0]);let movementY=Number(movements[1]);let clientFinishX=clientStartX+movementX<0?0:clientStartX+movementX;let clientFinishY=clientStartY+movementY<0?0:clientStartY+movementY;let mouseSpeed=this.mouseSpeed;let move=function(current,dest){if(current==dest)return current;if(Math.abs(current-dest)<mouseSpeed)return dest;return current<dest?current+mouseSpeed:current-mouseSpeed;};this.browserbot.triggerMouseEvent(element,'mousedown',true,clientStartX,clientStartY);this.browserbot.triggerMouseEvent(element,'mousemove',true,clientStartX,clientStartY);let clientX=clientStartX;let clientY=clientStartY;while(clientX!=clientFinishX||clientY!=clientFinishY){clientX=move(clientX,clientFinishX);clientY=move(clientY,clientFinishY);this.browserbot.triggerMouseEvent(element,'mousemove',true,clientX,clientY);}this.browserbot.triggerMouseEvent(element,'mousemove',true,clientFinishX,clientFinishY);this.browserbot.triggerMouseEvent(element,'mouseup',true,clientFinishX,clientFinishY);};Selenium.prototype.doDragAndDropToObject=function(locatorOfObjectToBeDragged,locatorOfDragDestinationObject){/** Drags an element and drops it on another element\n   *\n   * @param locatorOfObjectToBeDragged an element to be dragged\n   * @param locatorOfDragDestinationObject an element whose location (i.e., whose center-most pixel) will be the point where locatorOfObjectToBeDragged  is dropped\n   */if(!this.browserbot.findElement(locatorOfObjectToBeDragged).draggable){//origin code\nlet startX=this.getElementPositionLeft(locatorOfObjectToBeDragged);let startY=this.getElementPositionTop(locatorOfObjectToBeDragged);let destinationLeftX=this.getElementPositionLeft(locatorOfDragDestinationObject);let destinationTopY=this.getElementPositionTop(locatorOfDragDestinationObject);let destinationWidth=this.getElementWidth(locatorOfDragDestinationObject);let destinationHeight=this.getElementHeight(locatorOfDragDestinationObject);let endX=Math.round(destinationLeftX+destinationWidth/2);let endY=Math.round(destinationTopY+destinationHeight/2);let deltaX=endX-startX;let deltaY=endY-startY;let movementsString=''+deltaX+','+deltaY;this.doDragAndDrop(locatorOfObjectToBeDragged,movementsString);}else{//DragAndDropExt, Shuo-Heng Shih, SELAB, CSIE, NCKU, 2016/09/29\nlet element=this.browserbot.findElement(locatorOfObjectToBeDragged);let target=this.browserbot.findElement(locatorOfDragDestinationObject);this.browserbot.triggerDragEvent(element,target);}};Selenium.prototype.doWindowFocus=function(){/** Gives focus to the currently selected window\n   *\n   */this.browserbot.getCurrentWindow().focus();};Selenium.prototype.doWindowMaximize=function(){/** Resize currently selected window to take up the entire screen\n   *\n   */let window=this.browserbot.getCurrentWindow();if(window!=null&&window.screen){window.moveTo(0,0);// It appears Firefox on Mac won't move a window to (0,0).  But, you can move it to (0,1), which\n// seems to do basically the same thing.  In my (KJM - 6/20/10) tests, anything less than (0, 22)\n// pushed the browser to (0,0), so it seems it's improperly accounting for something in the browser chrome.\nif(window.screenX!=0){window.moveTo(0,1);}window.resizeTo(screen.availWidth,screen.availHeight);}};Selenium.prototype.getHtmlSource=function(){/** Returns the entire HTML source between the opening and\n   * closing \"html\" tags.\n   *\n   * @return string the entire HTML source\n   */return this.browserbot.getDocument().getElementsByTagName('html')[0].innerHTML;};Selenium.prototype.doSetCursorPosition=function(locator,position){/**\n   * Moves the text cursor to the specified position in the given input element or textarea.\n   * This method will fail if the specified element isn't an input element or textarea.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an input element or textarea\n   * @param position the numerical position of the cursor in the field; position should be 0 to move the position to the beginning of the field.  You can also set the cursor to -1 to move it to the end of the field.\n   */let element=this.browserbot.findElement(locator);if(element.value==undefined){Assert.fail('Element '+locator+' is not an input.');// eslint-disable-line no-undef\n}if(position==-1){position=element.value.length;}if(element.setSelectionRange&&!__WEBPACK_IMPORTED_MODULE_5__selenium_browserbot__[\"a\" /* browserVersion */].isOpera){element.focus();element.setSelectionRange(/*start*/position,/*end*/position);}else if(element.createTextRange){__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);let range=element.createTextRange();range.collapse(true);range.moveEnd('character',position);range.moveStart('character',position);range.select();}};Selenium.prototype.getElementIndex=function(locator){/**\n   * Get the relative index of an element to its parent (starting from 0). The comment node and empty text node\n   * will be ignored.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element\n   * @return number of relative index of the element to its parent (starting from 0)\n   */let element=this.browserbot.findElement(locator);let previousSibling;let index=0;while((previousSibling=element.previousSibling)!=null){if(!this._isCommentOrEmptyTextNode(previousSibling)){index++;}element=previousSibling;}return index;};Selenium.prototype.isOrdered=function(locator1,locator2){/**\n   * Check if these two elements have same parent and are ordered siblings in the DOM. Two same elements will\n   * not be considered ordered.\n   *\n   * @param locator1 an <a href=\"#locators\">element locator</a> pointing to the first element\n   * @param locator2 an <a href=\"#locators\">element locator</a> pointing to the second element\n   * @return boolean true if element1 is the previous sibling of element2, false otherwise\n   */let element1=this.browserbot.findElement(locator1);let element2=this.browserbot.findElement(locator2);if(element1===element2)return false;let previousSibling;while((previousSibling=element2.previousSibling)!=null){if(previousSibling===element1){return true;}element2=previousSibling;}return false;};Selenium.prototype._isCommentOrEmptyTextNode=function(node){return node.nodeType==8||node.nodeType==3&&!/[^\\t\\n\\r ]/.test(node.data);};Selenium.prototype.getElementPositionLeft=function(locator){/**\n   * Retrieves the horizontal position of an element\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element OR an element itself\n   * @return number of pixels from the edge of the frame.\n   */let element;if('string'==typeof locator){element=this.browserbot.findElement(locator);}else{element=locator;}let x=element.offsetLeft;let elementParent=element.offsetParent;while(elementParent!=null){if(document.all){if(elementParent.tagName!='TABLE'&&elementParent.tagName!='BODY'){x+=elementParent.clientLeft;}}// Netscape/DOM\nelse{if(elementParent.tagName=='TABLE'){let parentBorder=parseInt(elementParent.border);if(isNaN(parentBorder)){let parentFrame=elementParent.getAttribute('frame');if(parentFrame!=null){x+=1;}}else if(parentBorder>0){x+=parentBorder;}}}x+=elementParent.offsetLeft;elementParent=elementParent.offsetParent;}return x;};Selenium.prototype.getElementPositionTop=function(locator){/**\n   * Retrieves the vertical position of an element\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element OR an element itself\n   * @return number of pixels from the edge of the frame.\n   */let element;if('string'==typeof locator){element=this.browserbot.findElement(locator);}else{element=locator;}let y=0;while(element!=null){if(document.all){if(element.tagName!='TABLE'&&element.tagName!='BODY'){y+=element.clientTop;}}// Netscape/DOM\nelse{if(element.tagName=='TABLE'){let parentBorder=parseInt(element.border);if(isNaN(parentBorder)){let parentFrame=element.getAttribute('frame');if(parentFrame!=null){y+=1;}}else if(parentBorder>0){y+=parentBorder;}}}y+=element.offsetTop;// Netscape can get confused in some cases, such that the height of the parent is smaller\n// than that of the element (which it shouldn't really be). If this is the case, we need to\n// exclude this element, since it will result in too large a 'top' return value.\nif(element.offsetParent&&element.offsetParent.offsetHeight&&element.offsetParent.offsetHeight<element.offsetHeight){// skip the parent that's too small\nelement=element.offsetParent.offsetParent;}else{// Next up...\nelement=element.offsetParent;}}return y;};Selenium.prototype.getElementWidth=function(locator){/**\n   * Retrieves the width of an element\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element\n   * @return number width of an element in pixels\n   */let element=this.browserbot.findElement(locator);return element.offsetWidth;};Selenium.prototype.getElementHeight=function(locator){/**\n   * Retrieves the height of an element\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element\n   * @return number height of an element in pixels\n   */let element=this.browserbot.findElement(locator);return element.offsetHeight;};Selenium.prototype.getCursorPosition=function(locator){/**\n   * Retrieves the text cursor position in the given input element or textarea; beware, this may not work perfectly on all browsers.\n   *\n   * <p>Specifically, if the cursor/selection has been cleared by JavaScript, this command will tend to\n   * return the position of the last location of the cursor, even though the cursor is now gone from the page.  This is filed as <a href=\"http://jira.openqa.org/browse/SEL-243\">SEL-243</a>.</p>\n   * This method will fail if the specified element isn't an input element or textarea, or there is no cursor in the element.\n   *\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an input element or textarea\n   * @return number the numerical position of the cursor in the field\n   */let element=this.browserbot.findElement(locator);let doc=this.browserbot.getDocument();let win=this.browserbot.getCurrentWindow();let elementRange;if(doc.selection&&!__WEBPACK_IMPORTED_MODULE_5__selenium_browserbot__[\"a\" /* browserVersion */].isOpera){try{let selectRange=doc.selection.createRange().duplicate();elementRange=element.createTextRange();selectRange.move('character',0);elementRange.move('character',0);elementRange.setEndPoint('EndToEnd',selectRange);}catch(e){Assert.fail('There is no cursor on this page!');// eslint-disable-line no-undef\n}let answer=String(elementRange.text).replace(/\\r/g,'').length;return answer;}else{if(typeof element.selectionStart!='undefined'){if(win.getSelection&&typeof win.getSelection().rangeCount!=undefined&&win.getSelection().rangeCount==0){Assert.fail('There is no cursor on this page!');// eslint-disable-line no-undef\n}return element.selectionStart;}}throw new Error(\"Couldn't detect cursor position on this browser!\");};Selenium.prototype.getExpression=function(expression){/**\n   * Returns the specified expression.\n   *\n   * <p>This is useful because of JavaScript preprocessing.\n   * It is used to generate commands like assertExpression and waitForExpression.</p>\n   *\n   * @param expression the value to return\n   * @return string the value passed in\n   */return expression;};Selenium.prototype.getXpathCount=function(xpath){/**\n   * Returns the number of nodes that match the specified xpath, eg. \"//table\" would give\n   * the number of tables.\n   *\n   * @param xpath the xpath expression to evaluate. do NOT wrap this expression in a 'count()' function; we will do that for you.\n   * @return number the number of nodes that match the specified xpath\n   */let result=this.browserbot.evaluateXPathCount(xpath,this.browserbot.getDocument());return result;};Selenium.prototype.getCssCount=function(css){/**\n   * Returns the number of nodes that match the specified css selector, eg. \"css=table\" would give\n   * the number of tables.\n   *\n   * @param css the css selector to evaluate. do NOT wrap this expression in a 'count()' function; we will do that for you.\n   * @return the number of nodes that match the specified selector\n   */let result=this.browserbot.evaluateCssCount(css,this.browserbot.getDocument());return result;};Selenium.prototype.doAssignId=function(locator,identifier){/**\n   * Temporarily sets the \"id\" attribute of the specified element, so you can locate it in the future\n   * using its ID rather than a slow/complicated XPath.  This ID will disappear once the page is\n   * reloaded.\n   * @param locator an <a href=\"#locators\">element locator</a> pointing to an element\n   * @param identifier a string to be used as the ID of the specified element\n   */let element=this.browserbot.findElement(locator);element.id=identifier;};Selenium.prototype.doAllowNativeXpath=function(allow){/**\n   * Specifies whether Selenium should use the native in-browser implementation\n   * of XPath (if any native version is available); if you pass \"false\" to\n   * this function, we will always use our pure-JavaScript xpath library.\n   * Using the pure-JS xpath library can improve the consistency of xpath\n   * element locators between different browser vendors, but the pure-JS\n   * version is much slower than the native implementations.\n   * @param allow boolean, true means we'll prefer to use native XPath; false means we'll only use JS XPath\n   */if('false'==allow||'0'==allow){// The strings \"false\" and \"0\" are true values in JS\nallow=false;}this.browserbot.setAllowNativeXPath(allow);};Selenium.prototype.doIgnoreAttributesWithoutValue=function(ignore){/**\n   * Specifies whether Selenium will ignore xpath attributes that have no\n   * value, i.e. are the empty string, when using the non-native xpath\n   * evaluation engine. You'd want to do this for performance reasons in IE.\n   * However, this could break certain xpaths, for example an xpath that looks\n   * for an attribute whose value is NOT the empty string.\n   *\n   * The hope is that such xpaths are relatively rare, but the user should\n   * have the option of using them. Note that this only influences xpath\n   * evaluation when using the ajaxslt engine (i.e. not \"javascript-xpath\").\n   *\n   * @param ignore boolean, true means we'll ignore attributes without value\n   *                        at the expense of xpath \"correctness\"; false means\n   *                        we'll sacrifice speed for correctness.\n   */if('false'==ignore||'0'==ignore){ignore=false;}this.browserbot.setIgnoreAttributesWithoutValue(ignore);};Selenium.prototype.doWaitForCondition=function(script,timeout){/**\n   * Runs the specified JavaScript snippet repeatedly until it evaluates to \"true\".\n   * The snippet may have multiple lines, but only the result of the last line\n   * will be considered.\n   *\n   * <p>Note that, by default, the snippet will be run in the runner's test window, not in the window\n   * of your application.  To get the window of your application, you can use\n   * the JavaScript snippet <code>selenium.browserbot.getCurrentWindow()</code>, and then\n   * run your JavaScript in there</p>\n   * @param script the JavaScript snippet to run\n   * @param timeout a timeout in milliseconds, after which this command will return with an error\n   */return Selenium.decorateFunctionWithTimeout(function(){return this.eval(script);},timeout);};Selenium.prototype.doWaitForCondition.dontCheckAlertsAndConfirms=true;Selenium.prototype.doSetTimeout=function(timeout){/**\n   * Specifies the amount of time that Selenium will wait for actions to complete.\n   *\n   * <p>Actions that require waiting include \"open\" and the \"waitFor*\" actions.</p>\n   * The default timeout is 30 seconds.\n   * @param timeout a timeout in milliseconds, after which the action will return with an error\n   */if(!timeout){timeout=Selenium.DEFAULT_TIMEOUT;}this.defaultTimeout=timeout;};Selenium.prototype.doWaitForPageToLoad=function(timeout){/**\n   * Waits for a new page to load.\n   *\n   * <p>You can use this command instead of the \"AndWait\" suffixes, \"clickAndWait\", \"selectAndWait\", \"typeAndWait\" etc.\n   * (which are only available in the JS API).</p>\n   *\n   * <p>Selenium constantly keeps track of new pages loading, and sets a \"newPageLoaded\"\n   * flag when it first notices a page load.  Running any other Selenium command after\n   * turns the flag to false.  Hence, if you want to wait for a page to load, you must\n   * wait immediately after a Selenium command that caused a page-load.</p>\n   * @param timeout a timeout in milliseconds, after which this command will return with an error\n   */ // in pi-mode, the test and the harness share the window; thus if we are executing this code, then we have loaded\nif(window['proxyInjectionMode']==null||!window['proxyInjectionMode']){return this.makePageLoadCondition(timeout);}};Selenium.prototype.doWaitForFrameToLoad=function(_frameAddress,timeout){/**\n   * Waits for a new frame to load.\n   *\n   * <p>Selenium constantly keeps track of new pages and frames loading,\n   * and sets a \"newPageLoaded\" flag when it first notices a page load.</p>\n   *\n   * See waitForPageToLoad for more information.\n   *\n   * @param frameAddress FrameAddress from the server side\n   * @param timeout a timeout in milliseconds, after which this command will return with an error\n   */ // in pi-mode, the test and the harness share the window; thus if we are executing this code, then we have loaded\nif(window['proxyInjectionMode']==null||!window['proxyInjectionMode']){return this.makePageLoadCondition(timeout);}};Selenium.prototype._isNewPageLoaded=function(){return this.browserbot.isNewPageLoaded();};Selenium.prototype._abortXhrRequest=function(){return this.browserbot.abortXhrRequest();};Selenium.prototype.doWaitForPageToLoad.dontCheckAlertsAndConfirms=true;/**\n * Evaluate a parameter, performing JavaScript evaluation and variable substitution.\n * If the string matches the pattern \"javascript{ ... }\", evaluate the string between the braces.\n */Selenium.prototype.preprocessParameter=function(value){if(!value.script){// only for non-scripts\nlet match=value.match(/^javascript\\{((.|\\r?\\n)+)\\}$/);if(match&&match[1]){__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({log:{type:'warn',message:'parameter preprocessing using javascript{} tag is deprecated, please use execute script'}});let result=this.eval(match[1]);return result==null?null:result.toString();}}return value;};Selenium.prototype.replaceKeys=function(str){let keys=[];let match=str.match(/\\$\\{\\w+\\}/g);if(!match){keys.push(str);}else{let i=0;while(i<str.length){let currentKey=match.shift(),currentKeyIndex=str.indexOf(currentKey,i);if(currentKeyIndex>i){// push the string before the current key\nkeys.push(str.substr(i,currentKeyIndex-i));i=currentKeyIndex;}if(currentKey){if(/^\\$\\{KEY_\\w+\\}/.test(currentKey)){// is a key\nlet keyName=currentKey.match(/\\$\\{KEY_(\\w+)\\}/)[1];let key=__WEBPACK_IMPORTED_MODULE_6__closure_polyfill__[\"a\" /* bot */].Keyboard.Keys[keyName];if(key){keys.push(key);}else{throw new Error(`Unrecognised key ${keyName}`);}}else{// not a key, and not a stored variable, push it as-is\nkeys.push(currentKey);}i+=currentKey.length;}else if(i<str.length){// push the rest of the string\nkeys.push(str.substr(i,str.length));i=str.length;}}}return keys;};Selenium.prototype.getCookie=function(){/**\n   * Return all cookies of the current page under test.\n   *\n   * @return string all cookies of the current page under test\n   */let doc=this.browserbot.getDocument();return doc.cookie;};Selenium.prototype.getCookieByName=function(name){/**\n   * Returns the value of the cookie with the specified name, or throws an error if the cookie is not present.\n   * @param name the name of the cookie\n   * @return string the value of the cookie\n   */let v=this.browserbot.getCookieByName(name);if(v===null){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */](\"Cookie '\"+name+\"' was not found\");}return v;};Selenium.prototype.isCookiePresent=function(name){/**\n   * Returns true if a cookie with the specified name is present, or false otherwise.\n   * @param name the name of the cookie\n   * @return boolean true if a cookie with the specified name is present, or false otherwise.\n   */let v=this.browserbot.getCookieByName(name);let absent=v===null;return!absent;};Selenium.prototype.doCreateCookie=function(nameValuePair,optionsString){/**\n   * Create a new cookie whose path and domain are same with those of current page\n   * under test, unless you specified a path for this cookie explicitly.\n   *\n   * @param nameValuePair name and value of the cookie in a format \"name=value\"\n   * @param optionsString options for the cookie. Currently supported options include 'path', 'max_age' and 'domain'.\n   *      the optionsString's format is \"path=/path/, max_age=60, domain=.foo.com\". The order of options are irrelevant, the unit\n   *      of the value of 'max_age' is second.  Note that specifying a domain that isn't a subset of the current domain will\n   *      usually fail.\n   */ // eslint-disable-next-line no-useless-escape\nlet results=/[^\\s=\\[\\]\\(\\),\"\\/\\?@:;]+=[^\\s=\\[\\]\\(\\),\"\\/\\?@:;]*/.test(nameValuePair);if(!results){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Invalid parameter.');}let cookie=nameValuePair.trim();results=/max_age=(\\d+)/.exec(optionsString);if(results){let expireDateInMilliseconds=new Date().getTime()+results[1]*1000;cookie+='; expires='+new Date(expireDateInMilliseconds).toGMTString();}results=/path=([^\\s,]+)[,]?/.exec(optionsString);if(results){let path=results[1];if(__WEBPACK_IMPORTED_MODULE_5__selenium_browserbot__[\"a\" /* browserVersion */].khtml){// Safari and conquerer don't like paths with / at the end\nif('/'!=path){path=path.replace(/\\/$/,'');}}cookie+='; path='+path;}results=/domain=([^\\s,]+)[,]?/.exec(optionsString);if(results){let domain=results[1];cookie+='; domain='+domain;}//LOG.debug(\"Setting cookie to: \" + cookie);\nthis.browserbot.getDocument().cookie=cookie;};Selenium.prototype.doDeleteCookie=function(name,optionsString){/**\n   * Delete a named cookie with specified path and domain.  Be careful; to delete a cookie, you\n   * need to delete it using the exact same path and domain that were used to create the cookie.\n   * If the path is wrong, or the domain is wrong, the cookie simply won't be deleted.  Also\n   * note that specifying a domain that isn't a subset of the current domain will usually fail.\n   *\n   * Since there's no way to discover at runtime the original path and domain of a given cookie,\n   * we've added an option called 'recurse' to try all sub-domains of the current domain with\n   * all paths that are a subset of the current path.  Beware; this option can be slow.  In\n   * big-O notation, it operates in O(n*m) time, where n is the number of dots in the domain\n   * name and m is the number of slashes in the path.\n   *\n   * @param name the name of the cookie to be deleted\n   * @param optionsString options for the cookie. Currently supported options include 'path', 'domain'\n   *      and 'recurse.' The optionsString's format is \"path=/path/, domain=.foo.com, recurse=true\".\n   *      The order of options are irrelevant. Note that specifying a domain that isn't a subset of\n   *      the current domain will usually fail.\n   */ // set the expire time of the cookie to be deleted to one minute before now.\nlet path='';let domain='';let recurse=false;let matched=false;let results=/path=([^\\s,]+)[,]?/.exec(optionsString);if(results){matched=true;path=results[1];}results=/domain=([^\\s,]+)[,]?/.exec(optionsString);if(results){matched=true;domain=results[1];}results=/recurse=([^\\s,]+)[,]?/.exec(optionsString);if(results){matched=true;recurse=results[1];if('false'==recurse){recurse=false;}}// Treat the entire optionsString as a path (for backwards compatibility)\nif(optionsString&&!matched){//LOG.warn(\"Using entire optionsString as a path; please change the argument to deleteCookie to use path=\" + optionsString);\npath=optionsString;}if(__WEBPACK_IMPORTED_MODULE_5__selenium_browserbot__[\"a\" /* browserVersion */].khtml){// Safari and conquerer don't like paths with / at the end\nif('/'!=path){path=path.replace(/\\/$/,'');}}path=path.trim();domain=domain.trim();let cookieName=name.trim();if(recurse){this.browserbot.recursivelyDeleteCookie(cookieName,domain,path);}else{this.browserbot.deleteCookie(cookieName,domain,path);}};Selenium.prototype.doDeleteAllVisibleCookies=function(){/** Calls deleteCookie with recurse=true on all cookies visible to the current page.\n   * As noted on the documentation for deleteCookie, recurse=true can be much slower\n   * than simply deleting the cookies using a known domain/path.\n   */let win=this.browserbot.getCurrentWindow();let doc=win.document;let cookieNames=this.browserbot.getAllCookieNames(doc);let domain=doc.domain;let path=win.location.pathname;for(let i=0;i<cookieNames.length;i++){this.browserbot.recursivelyDeleteCookie(cookieNames[i],domain,path,win);}};//Selenium.prototype.doSetBrowserLogLevel = function(logLevel) {\n/**\n * Sets the threshold for browser-side logging messages; log messages beneath this threshold will be discarded.\n * Valid logLevel strings are: \"debug\", \"info\", \"warn\", \"error\" or \"off\".\n * To see the browser logs, you need to\n * either show the log window in GUI mode, or enable browser-side logging in Selenium RC.\n *\n * @param logLevel one of the following: \"debug\", \"info\", \"warn\", \"error\" or \"off\"\n */ /*    if (logLevel == null || logLevel == \"\") {\n        throw new SeleniumError(\"You must specify a log level\");\n    }\n    logLevel = logLevel.toLowerCase();\n    if (//LOG.logLevels[logLevel] == null) {\n        throw new SeleniumError(\"Invalid log level: \" + logLevel);\n    }\n    //LOG.setLogLevelThreshold(logLevel);\n}*/Selenium.prototype.doExecuteScript=function(script,varName){const value=this.eval(script.script,script.argv);if(value&&value.constructor.name==='Promise'){throw new Error('Expected sync operation, instead received Promise');}if(varName){return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:value,storeVar:varName});}};Selenium.prototype.doExecuteAsyncScript=function(script,varName){const value=this.eval(script.script,script.argv);if(value&&value.constructor.name!=='Promise'){throw new Error(`Expected async operation, instead received ${value?value.constructor.name:value}`);}return Promise.resolve(value).then(v=>{if(varName){return __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.sendMessage({storeStr:v,storeVar:varName});}});};Selenium.prototype.doRunScript=function(script){/**\n   * Creates a new \"script\" tag in the body of the current test window, and\n   * adds the specified text into the body of the command.  Scripts run in\n   * this way can often be debugged more easily than scripts executed using\n   * Selenium's \"getEval\" command.  Beware that JS exceptions thrown in these script\n   * tags aren't managed by Selenium, so you should probably wrap your script\n   * in try/catch blocks if there is any chance that the script will throw\n   * an exception.\n   * @param script the JavaScript snippet to run\n   */this.eval(script.script,script.argv);};Selenium.prototype.doRollup=function(rollupName,kwargs){/**\n   * Executes a command rollup, which is a series of commands with a unique\n   * name, and optionally arguments that control the generation of the set of\n   * commands. If any one of the rolled-up commands fails, the rollup is\n   * considered to have failed. Rollups may also contain nested rollups.\n   *\n   * @param rollupName  the name of the rollup command\n   * @param kwargs      keyword arguments string that influences how the\n   *                    rollup expands into commands\n   */ // we have to temporarily hijack the commandStarted, nextCommand(),\n// commandComplete(), and commandError() methods of the TestLoop object.\n// When the expanded rollup commands are done executing (or an error has\n// occurred), we'll restore them to their original values.\nlet loop=currentTest||htmlTestRunner.currentTest;// eslint-disable-line no-undef\nlet backupManager={backup:function(){for(let item in this.data){this.data[item]=loop[item];}},restore:function(){for(let item in this.data){loop[item]=this.data[item];}},data:{requiresCallBack:null,commandStarted:null,nextCommand:null,commandComplete:null,commandError:null,pendingRollupCommands:null,rollupFailed:null,rollupFailedMessage:null}// eslint-disable-next-line no-undef\n};let rule=RollupManager.getInstance().getRollupRule(rollupName);let expandedCommands=rule.getExpandedCommands(kwargs);// hold your breath ...\ntry{backupManager.backup();loop.requiresCallBack=false;loop.commandStarted=function(){};loop.nextCommand=function(){if(this.pendingRollupCommands.length==0){return null;}let command=this.pendingRollupCommands.shift();return command;};loop.commandComplete=function(result){if(result.failed){this.rollupFailed=true;this.rollupFailureMessages.push(result.failureMessage);}if(this.pendingRollupCommands.length==0){result={failed:this.rollupFailed,failureMessage:this.rollupFailureMessages.join('; ')//LOG.info('Rollup execution complete: ' + (result.failed ? 'failed! (see error messages below)' : 'ok'));\n};backupManager.restore();this.commandComplete(result);}};loop.commandError=function(errorMessage){//LOG.info('Rollup execution complete: bombed!');\nbackupManager.restore();this.commandError(errorMessage);};loop.pendingRollupCommands=expandedCommands;loop.rollupFailed=false;loop.rollupFailureMessages=[];}catch(e){//LOG.error('Rollup error: ' + e);\nbackupManager.restore();}};Selenium.prototype.doAddScript=function(scriptContent,scriptTagId){/**\n   * Loads script content into a new script tag in the Selenium document. This\n   * differs from the runScript command in that runScript adds the script tag\n   * to the document of the AUT, not the Selenium document. The following\n   * entities in the script content are replaced by the characters they\n   * represent:\n   *\n   *     &lt;\n   *     &gt;\n   *     &amp;\n   *\n   * The corresponding remove command is removeScript.\n   *\n   * @param scriptContent  the Javascript content of the script to add\n   * @param scriptTagId    (optional) the id of the new script tag. If\n   *                       specified, and an element with this id already\n   *                       exists, this operation will fail.\n   */if(scriptTagId&&document.getElementById(scriptTagId)){let msg=\"Element with id '\"+scriptTagId+\"' already exists!\";throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */](msg);}let head=document.getElementsByTagName('head')[0];let script=document.createElement('script');script.type='text/javascript';if(scriptTagId){script.id=scriptTagId;}// replace some entities\nscriptContent=scriptContent.replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&amp;/g,'&');script.text=scriptContent;head.appendChild(script);};Selenium.prototype.doRemoveScript=function(scriptTagId){/**\n   * Removes a script tag from the Selenium document identified by the given\n   * id. Does nothing if the referenced tag doesn't exist.\n   *\n   * @param scriptTagId  the id of the script element to remove.\n   */let script=document.getElementById(scriptTagId);if(script&&Object(__WEBPACK_IMPORTED_MODULE_8__utils__[\"c\" /* getTagName */])(script)=='script'){script.parentNode.removeChild(script);}};Selenium.prototype.doUseXpathLibrary=function(libraryName){/**\n   * Allows choice of one of the available libraries.\n   * @param libraryName name of the desired library\n   * Only the following can be chosen:\n   * <ul>\n   *   <li>\"ajaxslt\" - Google's library</li>\n   *   <li>\"javascript-xpath\" - Cybozu Labs' faster library</li>\n   *   <li>\"rpc-optimizing-ajaxslt\" - the RPC optimizing strategy, delegating to ajaxslt</li>\n   *   <li>\"rpc-optimizing-jsxpath\" - the RPC optimizing strategy, delegating to javascript-xpath</li>\n   *   <li>\"default\" - The default library.  Currently the default library is \"ajaxslt\" .</li>\n   * </ul>\n   * If libraryName isn't one of these, it may be the name of another engine\n   * registered to the browserbot's XPathEvaluator, for example by overriding\n   * XPathEvaluator.prototype.init() . If it is not a registered engine\n   * either, then no change will be made.\n   */if(!this.browserbot.getXPathEngine(libraryName)){return;}this.browserbot.setXPathEngine(libraryName);};/**\n *  Factory for creating \"Option Locators\".\n *  An OptionLocator is an object for dealing with Select options (e.g. for\n *  finding a specified option, or asserting that the selected option of\n *  Select element matches some condition.\n *  The type of locator returned by the factory depends on the locator string:\n *     label=<exp>  (OptionLocatorByLabel)\n *     value=<exp>  (OptionLocatorByValue)\n *     index=<exp>  (OptionLocatorByIndex)\n *     id=<exp>     (OptionLocatorById)\n *     <exp> (default is OptionLocatorByLabel).\n */function OptionLocatorFactory(){}OptionLocatorFactory.prototype.fromLocatorString=function(locatorString){let locatorType='label';let locatorValue=locatorString;// If there is a locator prefix, use the specified strategy\nlet result=locatorString.match(/^([a-zA-Z]+)=(.*)/);if(result){locatorType=result[1];locatorValue=result[2];}if(this.optionLocators==undefined){this.registerOptionLocators();}if(this.optionLocators[locatorType]){return new this.optionLocators[locatorType](locatorValue);}throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Unknown option locator type: '+locatorType);};/**\n * To allow for easy extension, all of the option locators are found by\n * searching for all methods of OptionLocatorFactory.prototype that start\n * with \"OptionLocatorBy\".\n * TODO: Consider using the term \"Option Specifier\" instead of \"Option Locator\".\n */OptionLocatorFactory.prototype.registerOptionLocators=function(){this.optionLocators={};for(let functionName in this){let result=/OptionLocatorBy([A-Z].+)$/.exec(functionName);if(result!=null){let locatorName=Object(__WEBPACK_IMPORTED_MODULE_8__utils__[\"e\" /* lowerFirstChar */])(result[1]);this.optionLocators[locatorName]=this[functionName];}}};/**\n *  OptionLocator for options identified by their labels.\n */OptionLocatorFactory.prototype.OptionLocatorByLabel=function(label){this.label=label;this.labelMatcher=new __WEBPACK_IMPORTED_MODULE_7__PatternMatcher__[\"a\" /* default */](this.label);this.findOption=function(element){for(let i=0;i<element.options.length;i++){if(this.labelMatcher.matches(element.options[i].text)){return element.options[i];}}throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */](\"Option with label '\"+this.label+\"' not found\");};this.assertSelected=function(element){let selectedLabel=element.options[element.selectedIndex].text;Assert.matches(this.label,selectedLabel);// eslint-disable-line no-undef\n};};/**\n *  OptionLocator for options identified by their values.\n */OptionLocatorFactory.prototype.OptionLocatorByValue=function(value){this.value=value;this.valueMatcher=new __WEBPACK_IMPORTED_MODULE_7__PatternMatcher__[\"a\" /* default */](this.value);this.findOption=function(element){for(let i=0;i<element.options.length;i++){if(this.valueMatcher.matches(element.options[i].value)){return element.options[i];}}throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */](\"Option with value '\"+this.value+\"' not found\");};this.assertSelected=function(element){let selectedValue=element.options[element.selectedIndex].value;Assert.matches(this.value,selectedValue);// eslint-disable-line no-undef\n};};/**\n *  OptionLocator for options identified by their index.\n */OptionLocatorFactory.prototype.OptionLocatorByIndex=function(index){this.index=Number(index);if(isNaN(this.index)||this.index<0){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Illegal Index: '+index);}this.findOption=function(element){if(element.options.length<=this.index){throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('Index out of range.  Only '+element.options.length+' options available');}return element.options[this.index];};this.assertSelected=function(element){Assert.equals(this.index,element.selectedIndex);// eslint-disable-line no-undef\n};};/**\n *  OptionLocator for options identified by their id.\n */OptionLocatorFactory.prototype.OptionLocatorById=function(id){this.id=id;this.idMatcher=new __WEBPACK_IMPORTED_MODULE_7__PatternMatcher__[\"a\" /* default */](this.id);this.findOption=function(element){for(let i=0;i<element.options.length;i++){if(this.idMatcher.matches(element.options[i].id)){return element.options[i];}}throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */](\"Option with id '\"+this.id+\"' not found\");};this.assertSelected=function(element){let selectedId=element.options[element.selectedIndex].id;Assert.matches(this.id,selectedId);// eslint-disable-line no-undef\n};};//EditContentExt, Lin Yun Wen, SELAB, CSIE, NCKU, 2016/11/17\nSelenium.prototype.doEditContent=function(locator,value){/**\n   *to set text in the element which's conentEditable attribute is true\n   *@param locator an element locator\n   *@param value the context of the element in html\n   */let element=this.browserbot.findElement(locator);let editable=element.contentEditable;if(editable=='true'){element.innerHTML=Object(__WEBPACK_IMPORTED_MODULE_4__escape__[\"escapeHTML\"])(value);}else{throw new __WEBPACK_IMPORTED_MODULE_2__SeleniumError__[\"a\" /* default */]('The value of contentEditable attribute of this element is not true.');}};// Modified prompt by SideeX comitters (Copyright 2017)\nSelenium.prototype.doChooseCancelOnNextPrompt=function(){return this.browserbot.cancelNextPrompt();};Selenium.prototype.doAnswerOnNextPrompt=function(answer){return this.browserbot.setNextPromptResult(answer);};Selenium.prototype.doAssertPrompt=function(message){return this.browserbot.getPromptMessage().then(function(actualMessage){if(message!=actualMessage)return Promise.reject(\"Prompt message doesn't match actual message\");else return Promise.resolve(true);});};// Modified alert by SideeX comitters (Copyright 2017)\nSelenium.prototype.doAssertAlert=function(message){return this.browserbot.getAlertMessage().then(function(actualMessage){if(message!=actualMessage)return Promise.reject(\"Alert message doesn't match actual message\");else return Promise.resolve(true);});};// Modified confirm by SideeX comitters (Copyright 2017)\nSelenium.prototype.doChooseCancelOnNextConfirmation=function(){return this.browserbot.setNextConfirmationResult(false);};Selenium.prototype.doChooseOkOnNextConfirmation=function(){return this.browserbot.setNextConfirmationResult(true);};Selenium.prototype.doAssertConfirmation=function(value){return this.browserbot.getConfirmationMessage().then(function(actualMessage){if(value!=actualMessage)return Promise.reject(\"Confirmation message doesn't match actual message\");else return Promise.resolve(true);});};Selenium.prototype.doShowElement=function(locator){const elementForInjectingStyle=document.createElement('link');elementForInjectingStyle.rel='stylesheet';elementForInjectingStyle.href=__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.getURL('/assets/highlight.css');(document.head||document.documentElement).appendChild(elementForInjectingStyle);const highlightElement=document.createElement('div');highlightElement.id='selenium-highlight';document.body.appendChild(highlightElement);if(locator.x){highlightElement.style.left=parseInt(locator.x)+'px';highlightElement.style.top=parseInt(locator.y)+'px';highlightElement.style.width=parseInt(locator.width)+'px';highlightElement.style.height=parseInt(locator.height)+'px';}else{const bodyRects=document.documentElement.getBoundingClientRect();const element=this.browserbot.findElement(locator);const elementRects=element.getBoundingClientRect();highlightElement.style.left=parseInt(elementRects.left-bodyRects.left)+'px';highlightElement.style.top=parseInt(elementRects.top-bodyRects.top)+'px';highlightElement.style.width=parseInt(elementRects.width)+'px';highlightElement.style.height=parseInt(elementRects.height)+'px';}highlightElement.style.position='absolute';highlightElement.style.zIndex='100';highlightElement.style.display='block';highlightElement.style.pointerEvents='none';Object(__WEBPACK_IMPORTED_MODULE_1_scroll_into_view_if_needed__[\"a\" /* default */])(highlightElement,{centerIfNeeded:true});highlightElement.className='active-selenium-highlight';setTimeout(()=>{document.body.removeChild(highlightElement);elementForInjectingStyle.parentNode.removeChild(elementForInjectingStyle);},500);return'element found';};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9zZWxlbml1bS1hcGkuanM/NzdhYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IDIwMTEgU29mdHdhcmUgRnJlZWRvbSBDb25zZXJ2YW5jeVxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9pbXBvcnQgYnJvd3NlciBmcm9tJ3dlYmV4dGVuc2lvbi1wb2x5ZmlsbCc7aW1wb3J0IHNjcm9sbEludG9WaWV3SWZOZWVkZWQgZnJvbSdzY3JvbGwtaW50by12aWV3LWlmLW5lZWRlZCc7aW1wb3J0IFNlbGVuaXVtRXJyb3IgZnJvbScuL1NlbGVuaXVtRXJyb3InO2ltcG9ydHtzZWxlbml1bX1mcm9tJy4vY29tbWFuZHMtYXBpJztpbXBvcnR7ZXNjYXBlSFRNTH1mcm9tJy4vZXNjYXBlJztpbXBvcnQgQnJvd3NlckJvdCx7YnJvd3NlclZlcnNpb259ZnJvbScuL3NlbGVuaXVtLWJyb3dzZXJib3QnO2ltcG9ydCBnb29nLHtib3QsY29yZX1mcm9tJy4vY2xvc3VyZS1wb2x5ZmlsbCc7aW1wb3J0IFBhdHRlcm5NYXRjaGVyIGZyb20nLi9QYXR0ZXJuTWF0Y2hlcic7aW1wb3J0e2dldFRhZ05hbWUsZ2V0VGltZW91dFRpbWUsZXh0cmFjdEV4Y2VwdGlvbk1lc3NhZ2UsbG93ZXJGaXJzdENoYXJ9ZnJvbScuL3V0aWxzJzsvLyBUT0RPOiBzdG9wIG5hdmlnYXRpbmcgdGhpcy5icm93c2VyYm90LmRvY3VtZW50KCkgLi4uIGl0IGJyZWFrcyBlbmNhcHN1bGF0aW9uXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWxlbml1bXsvKipcbiAgICogRGVmaW5lcyBhbiBvYmplY3QgdGhhdCBydW5zIFNlbGVuaXVtIGNvbW1hbmRzLlxuICAgKlxuICAgKiA8aDM+PGEgbmFtZT1cImxvY2F0b3JzXCI+PC9hPkVsZW1lbnQgTG9jYXRvcnM8L2gzPlxuICAgKiA8cD5cbiAgICogRWxlbWVudCBMb2NhdG9ycyB0ZWxsIFNlbGVuaXVtIHdoaWNoIEhUTUwgZWxlbWVudCBhIGNvbW1hbmQgcmVmZXJzIHRvLlxuICAgKiBUaGUgZm9ybWF0IG9mIGEgbG9jYXRvciBpczo8L3A+XG4gICAqIDxibG9ja3F1b3RlPlxuICAgKiA8ZW0+bG9jYXRvclR5cGU8L2VtPjxzdHJvbmc+PTwvc3Ryb25nPjxlbT5hcmd1bWVudDwvZW0+XG4gICAqIDwvYmxvY2txdW90ZT5cbiAgICpcbiAgICogPHA+XG4gICAqIFdlIHN1cHBvcnQgdGhlIGZvbGxvd2luZyBzdHJhdGVnaWVzIGZvciBsb2NhdGluZyBlbGVtZW50czpcbiAgICogPC9wPlxuICAgKlxuICAgKiA8dWw+XG4gICAqIDxsaT48c3Ryb25nPmlkZW50aWZpZXI8L3N0cm9uZz49PGVtPmlkPC9lbT46XG4gICAqIFNlbGVjdCB0aGUgZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgJiMwNjQ7aWQgYXR0cmlidXRlLiBJZiBubyBtYXRjaCBpc1xuICAgKiBmb3VuZCwgc2VsZWN0IHRoZSBmaXJzdCBlbGVtZW50IHdob3NlICYjMDY0O25hbWUgYXR0cmlidXRlIGlzIDxlbT5pZDwvZW0+LlxuICAgKiAoVGhpcyBpcyBub3JtYWxseSB0aGUgZGVmYXVsdDsgc2VlIGJlbG93Lik8L2xpPlxuICAgKiA8bGk+PHN0cm9uZz5pZDwvc3Ryb25nPj08ZW0+aWQ8L2VtPjpcbiAgICogU2VsZWN0IHRoZSBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCAmIzA2NDtpZCBhdHRyaWJ1dGUuPC9saT5cbiAgICpcbiAgICogPGxpPjxzdHJvbmc+bmFtZTwvc3Ryb25nPj08ZW0+bmFtZTwvZW0+OlxuICAgKiBTZWxlY3QgdGhlIGZpcnN0IGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkICYjMDY0O25hbWUgYXR0cmlidXRlLlxuICAgKiA8dWwgY2xhc3M9XCJmaXJzdCBsYXN0IHNpbXBsZVwiPlxuICAgKiA8bGk+dXNlcm5hbWU8L2xpPlxuICAgKiA8bGk+bmFtZT11c2VybmFtZTwvbGk+XG4gICAqIDwvdWw+XG4gICAqXG4gICAqIDxwPlRoZSBuYW1lIG1heSBvcHRpb25hbGx5IGJlIGZvbGxvd2VkIGJ5IG9uZSBvciBtb3JlIDxlbT5lbGVtZW50LWZpbHRlcnM8L2VtPiwgc2VwYXJhdGVkIGZyb20gdGhlIG5hbWUgYnkgd2hpdGVzcGFjZS4gIElmIHRoZSA8ZW0+ZmlsdGVyVHlwZTwvZW0+IGlzIG5vdCBzcGVjaWZpZWQsIDxzdHJvbmc+dmFsdWU8L3N0cm9uZz4gaXMgYXNzdW1lZC48L3A+XG4gICAqXG4gICAqIDx1bCBjbGFzcz1cImZpcnN0IGxhc3Qgc2ltcGxlXCI+XG4gICAqIDxsaT5uYW1lPWZsYXZvdXIgdmFsdWU9Y2hvY29sYXRlPC9saT5cbiAgICogPC91bD5cbiAgICogPC9saT5cbiAgICogPGxpPjxzdHJvbmc+ZG9tPC9zdHJvbmc+PTxlbT5qYXZhc2NyaXB0RXhwcmVzc2lvbjwvZW0+OlxuICAgKlxuICAgKiBGaW5kIGFuIGVsZW1lbnQgYnkgZXZhbHVhdGluZyB0aGUgc3BlY2lmaWVkIHN0cmluZy4gIFRoaXMgYWxsb3dzIHlvdSB0byB0cmF2ZXJzZSB0aGUgSFRNTCBEb2N1bWVudCBPYmplY3RcbiAgICogTW9kZWwgdXNpbmcgSmF2YVNjcmlwdC4gIE5vdGUgdGhhdCB5b3UgbXVzdCBub3QgcmV0dXJuIGEgdmFsdWUgaW4gdGhpcyBzdHJpbmc7IHNpbXBseSBtYWtlIGl0IHRoZSBsYXN0IGV4cHJlc3Npb24gaW4gdGhlIGJsb2NrLlxuICAgKiA8dWwgY2xhc3M9XCJmaXJzdCBsYXN0IHNpbXBsZVwiPlxuICAgKiA8bGk+ZG9tPWRvY3VtZW50LmZvcm1zWydteUZvcm0nXS5teURyb3Bkb3duPC9saT5cbiAgICogPGxpPmRvbT1kb2N1bWVudC5pbWFnZXNbNTZdPC9saT5cbiAgICogPGxpPmRvbT1mdW5jdGlvbiBmb28oKSB7IHJldHVybiBkb2N1bWVudC5saW5rc1sxXTsgfTsgZm9vKCk7PC9saT5cbiAgICogPC91bD5cbiAgICpcbiAgICogPC9saT5cbiAgICpcbiAgICogPGxpPjxzdHJvbmc+eHBhdGg8L3N0cm9uZz49PGVtPnhwYXRoRXhwcmVzc2lvbjwvZW0+OlxuICAgKiBMb2NhdGUgYW4gZWxlbWVudCB1c2luZyBhbiBYUGF0aCBleHByZXNzaW9uLlxuICAgKiA8dWwgY2xhc3M9XCJmaXJzdCBsYXN0IHNpbXBsZVwiPlxuICAgKiA8bGk+eHBhdGg9Ly9pbWdbJiMwNjQ7YWx0PSdUaGUgaW1hZ2UgYWx0IHRleHQnXTwvbGk+XG4gICAqIDxsaT54cGF0aD0vL3RhYmxlWyYjMDY0O2lkPSd0YWJsZTEnXS8vdHJbNF0vdGRbMl08L2xpPlxuICAgKiA8bGk+eHBhdGg9Ly9hW2NvbnRhaW5zKCYjMDY0O2hyZWYsJyNpZDEnKV08L2xpPlxuICAgKiA8bGk+eHBhdGg9Ly9hW2NvbnRhaW5zKCYjMDY0O2hyZWYsJyNpZDEnKV0vJiMwNjQ7Y2xhc3M8L2xpPlxuICAgKiA8bGk+eHBhdGg9KC8vdGFibGVbJiMwNjQ7Y2xhc3M9J3N0eWxlZSddKS8vdGhbdGV4dCgpPSd0aGVIZWFkZXJUZXh0J10vLi4vdGQ8L2xpPlxuICAgKiA8bGk+eHBhdGg9Ly9pbnB1dFsmIzA2NDtuYW1lPSduYW1lMicgYW5kICYjMDY0O3ZhbHVlPSd5ZXMnXTwvbGk+XG4gICAqIDxsaT54cGF0aD0vLypbdGV4dCgpPVwicmlnaHRcIl08L2xpPlxuICAgKlxuICAgKiA8L3VsPlxuICAgKiA8L2xpPlxuICAgKiA8bGk+PHN0cm9uZz5saW5rPC9zdHJvbmc+PTxlbT50ZXh0UGF0dGVybjwvZW0+OlxuICAgKiBTZWxlY3QgdGhlIGxpbmsgKGFuY2hvcikgZWxlbWVudCB3aGljaCBjb250YWlucyB0ZXh0IG1hdGNoaW5nIHRoZVxuICAgKiBzcGVjaWZpZWQgPGVtPnBhdHRlcm48L2VtPi5cbiAgICogPHVsIGNsYXNzPVwiZmlyc3QgbGFzdCBzaW1wbGVcIj5cbiAgICogPGxpPmxpbms9VGhlIGxpbmsgdGV4dDwvbGk+XG4gICAqIDwvdWw+XG4gICAqXG4gICAqIDwvbGk+XG4gICAqXG4gICAqIDxsaT48c3Ryb25nPmNzczwvc3Ryb25nPj08ZW0+Y3NzU2VsZWN0b3JTeW50YXg8L2VtPjpcbiAgICogU2VsZWN0IHRoZSBlbGVtZW50IHVzaW5nIGNzcyBzZWxlY3RvcnMuIFBsZWFzZSByZWZlciB0byA8YSBocmVmPVwiaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLUNTUzIvc2VsZWN0b3IuaHRtbFwiPkNTUzIgc2VsZWN0b3JzPC9hPiwgPGEgaHJlZj1cImh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDEvQ1ItY3NzMy1zZWxlY3RvcnMtMjAwMTExMTMvXCI+Q1NTMyBzZWxlY3RvcnM8L2E+IGZvciBtb3JlIGluZm9ybWF0aW9uLiBZb3UgY2FuIGFsc28gY2hlY2sgdGhlIFRlc3RDc3NMb2NhdG9ycyB0ZXN0IGluIHRoZSBzZWxlbml1bSB0ZXN0IHN1aXRlIGZvciBhbiBleGFtcGxlIG9mIHVzYWdlLCB3aGljaCBpcyBpbmNsdWRlZCBpbiB0aGUgZG93bmxvYWRlZCBzZWxlbml1bSBjb3JlIHBhY2thZ2UuXG4gICAqIDx1bCBjbGFzcz1cImZpcnN0IGxhc3Qgc2ltcGxlXCI+XG4gICAqIDxsaT5jc3M9YVtocmVmPVwiI2lkM1wiXTwvbGk+XG4gICAqIDxsaT5jc3M9c3BhbiNmaXJzdENoaWxkICsgc3BhbjwvbGk+XG4gICAqIDwvdWw+XG4gICAqIDxwPkN1cnJlbnRseSB0aGUgY3NzIHNlbGVjdG9yIGxvY2F0b3Igc3VwcG9ydHMgYWxsIGNzczEsIGNzczIgYW5kIGNzczMgc2VsZWN0b3JzIGV4Y2VwdCBuYW1lc3BhY2UgaW4gY3NzMywgc29tZSBwc2V1ZG8gY2xhc3Nlcyg6bnRoLW9mLXR5cGUsIDpudGgtbGFzdC1vZi10eXBlLCA6Zmlyc3Qtb2YtdHlwZSwgOmxhc3Qtb2YtdHlwZSwgOm9ubHktb2YtdHlwZSwgOnZpc2l0ZWQsIDpob3ZlciwgOmFjdGl2ZSwgOmZvY3VzLCA6aW5kZXRlcm1pbmF0ZSkgYW5kIHBzZXVkbyBlbGVtZW50cyg6OmZpcnN0LWxpbmUsIDo6Zmlyc3QtbGV0dGVyLCA6OnNlbGVjdGlvbiwgOjpiZWZvcmUsIDo6YWZ0ZXIpLiA8L3A+XG4gICAqIDwvbGk+XG4gICAqXG4gICAqIDxsaT48c3Ryb25nPnVpPC9zdHJvbmc+PTxlbT51aVNwZWNpZmllclN0cmluZzwvZW0+OlxuICAgKiBMb2NhdGUgYW4gZWxlbWVudCBieSByZXNvbHZpbmcgdGhlIFVJIHNwZWNpZmllciBzdHJpbmcgdG8gYW5vdGhlciBsb2NhdG9yLCBhbmQgZXZhbHVhdGluZyBpdC4gU2VlIHRoZSA8YSBocmVmPVwiaHR0cDovL3N2bi5vcGVucWEub3JnL2Zpc2hleWUvYnJvd3NlL35yYXcscj10cnVuay9zZWxlbml1bS90cnVuay9zcmMvbWFpbi9yZXNvdXJjZXMvY29yZS9zY3JpcHRzL3VpLWRvYy5odG1sXCI+U2VsZW5pdW0gVUktRWxlbWVudCBSZWZlcmVuY2U8L2E+IGZvciBtb3JlIGRldGFpbHMuXG4gICAqIDx1bCBjbGFzcz1cImZpcnN0IGxhc3Qgc2ltcGxlXCI+XG4gICAqIDxsaT51aT1sb2dpblBhZ2VzOjpsb2dpbkJ1dHRvbigpPC9saT5cbiAgICogPGxpPnVpPXNldHRpbmdzUGFnZXM6OnRvZ2dsZShsYWJlbD1IaWRlIEVtYWlsKTwvbGk+XG4gICAqIDxsaT51aT1mb3J1bVBhZ2VzOjpwb3N0Qm9keShpbmRleD0yKS8vYVsyXTwvbGk+XG4gICAqIDwvdWw+XG4gICAqIDwvbGk+XG4gICAqXG4gICAqIDwvdWw+XG4gICAqXG4gICAqIDxwPlxuICAgKiBXaXRob3V0IGFuIGV4cGxpY2l0IGxvY2F0b3IgcHJlZml4LCBTZWxlbml1bSB1c2VzIHRoZSBmb2xsb3dpbmcgZGVmYXVsdFxuICAgKiBzdHJhdGVnaWVzOlxuICAgKiA8L3A+XG4gICAqXG4gICAqIDx1bCBjbGFzcz1cInNpbXBsZVwiPlxuICAgKiA8bGk+PHN0cm9uZz5kb208L3N0cm9uZz4sIGZvciBsb2NhdG9ycyBzdGFydGluZyB3aXRoICZxdW90O2RvY3VtZW50LiZxdW90OzwvbGk+XG4gICAqIDxsaT48c3Ryb25nPnhwYXRoPC9zdHJvbmc+LCBmb3IgbG9jYXRvcnMgc3RhcnRpbmcgd2l0aCAmcXVvdDsvLyZxdW90OzwvbGk+XG4gICAqIDxsaT48c3Ryb25nPmlkZW50aWZpZXI8L3N0cm9uZz4sIG90aGVyd2lzZTwvbGk+XG4gICAqIDwvdWw+XG4gICAqXG4gICAqIDxoMz48YSBuYW1lPVwiZWxlbWVudC1maWx0ZXJzXCI+RWxlbWVudCBGaWx0ZXJzPC9hPjwvaDM+XG4gICAqIDxibG9ja3F1b3RlPlxuICAgKiA8cD5FbGVtZW50IGZpbHRlcnMgY2FuIGJlIHVzZWQgd2l0aCBhIGxvY2F0b3IgdG8gcmVmaW5lIGEgbGlzdCBvZiBjYW5kaWRhdGUgZWxlbWVudHMuICBUaGV5IGFyZSBjdXJyZW50bHkgdXNlZCBvbmx5IGluIHRoZSAnbmFtZScgZWxlbWVudC1sb2NhdG9yLjwvcD5cbiAgICogPHA+RmlsdGVycyBsb29rIG11Y2ggbGlrZSBsb2NhdG9ycywgaWUuPC9wPlxuICAgKiA8YmxvY2txdW90ZT5cbiAgICogPGVtPmZpbHRlclR5cGU8L2VtPjxzdHJvbmc+PTwvc3Ryb25nPjxlbT5hcmd1bWVudDwvZW0+PC9ibG9ja3F1b3RlPlxuICAgKlxuICAgKiA8cD5TdXBwb3J0ZWQgZWxlbWVudC1maWx0ZXJzIGFyZTo8L3A+XG4gICAqIDxwPjxzdHJvbmc+dmFsdWU9PC9zdHJvbmc+PGVtPnZhbHVlUGF0dGVybjwvZW0+PC9wPlxuICAgKiA8YmxvY2txdW90ZT5cbiAgICogTWF0Y2hlcyBlbGVtZW50cyBiYXNlZCBvbiB0aGVpciB2YWx1ZXMuICBUaGlzIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIHJlZmluaW5nIGEgbGlzdCBvZiBzaW1pbGFybHktbmFtZWQgdG9nZ2xlLWJ1dHRvbnMuPC9ibG9ja3F1b3RlPlxuICAgKiA8cD48c3Ryb25nPmluZGV4PTwvc3Ryb25nPjxlbT5pbmRleDwvZW0+PC9wPlxuICAgKiA8YmxvY2txdW90ZT5cbiAgICogU2VsZWN0cyBhIHNpbmdsZSBlbGVtZW50IGJhc2VkIG9uIGl0cyBwb3NpdGlvbiBpbiB0aGUgbGlzdCAob2Zmc2V0IGZyb20gemVybykuPC9ibG9ja3F1b3RlPlxuICAgKiA8L2Jsb2NrcXVvdGU+XG4gICAqXG4gICAqIDxoMz48YSBuYW1lPVwicGF0dGVybnNcIj48L2E+U3RyaW5nLW1hdGNoIFBhdHRlcm5zPC9oMz5cbiAgICpcbiAgICogPHA+XG4gICAqIFZhcmlvdXMgUGF0dGVybiBzeW50YXhlcyBhcmUgYXZhaWxhYmxlIGZvciBtYXRjaGluZyBzdHJpbmcgdmFsdWVzOlxuICAgKiA8L3A+XG4gICAqIDx1bD5cbiAgICogPGxpPjxzdHJvbmc+Z2xvYjo8L3N0cm9uZz48ZW0+cGF0dGVybjwvZW0+OlxuICAgKiBNYXRjaCBhIHN0cmluZyBhZ2FpbnN0IGEgXCJnbG9iXCIgKGFrYSBcIndpbGRtYXRcIikgcGF0dGVybi4gXCJHbG9iXCIgaXMgYVxuICAgKiBraW5kIG9mIGxpbWl0ZWQgcmVndWxhci1leHByZXNzaW9uIHN5bnRheCB0eXBpY2FsbHkgdXNlZCBpbiBjb21tYW5kLWxpbmVcbiAgICogc2hlbGxzLiBJbiBhIGdsb2IgcGF0dGVybiwgXCIqXCIgcmVwcmVzZW50cyBhbnkgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycywgYW5kIFwiP1wiXG4gICAqIHJlcHJlc2VudHMgYW55IHNpbmdsZSBjaGFyYWN0ZXIuIEdsb2IgcGF0dGVybnMgbWF0Y2ggYWdhaW5zdCB0aGUgZW50aXJlXG4gICAqIHN0cmluZy48L2xpPlxuICAgKiA8bGk+PHN0cm9uZz5yZWdleHA6PC9zdHJvbmc+PGVtPnJlZ2V4cDwvZW0+OlxuICAgKiBNYXRjaCBhIHN0cmluZyB1c2luZyBhIHJlZ3VsYXItZXhwcmVzc2lvbi4gVGhlIGZ1bGwgcG93ZXIgb2YgSmF2YVNjcmlwdFxuICAgKiByZWd1bGFyLWV4cHJlc3Npb25zIGlzIGF2YWlsYWJsZS48L2xpPlxuICAgKiA8bGk+PHN0cm9uZz5yZWdleHBpOjwvc3Ryb25nPjxlbT5yZWdleHBpPC9lbT46XG4gICAqIE1hdGNoIGEgc3RyaW5nIHVzaW5nIGEgY2FzZS1pbnNlbnNpdGl2ZSByZWd1bGFyLWV4cHJlc3Npb24uPC9saT5cbiAgICogPGxpPjxzdHJvbmc+ZXhhY3Q6PC9zdHJvbmc+PGVtPnN0cmluZzwvZW0+OlxuICAgKlxuICAgKiBNYXRjaCBhIHN0cmluZyBleGFjdGx5LCB2ZXJiYXRpbSwgd2l0aG91dCBhbnkgb2YgdGhhdCBmYW5jeSB3aWxkY2FyZFxuICAgKiBzdHVmZi48L2xpPlxuICAgKiA8L3VsPlxuICAgKiA8cD5cbiAgICogSWYgbm8gcGF0dGVybiBwcmVmaXggaXMgc3BlY2lmaWVkLCBTZWxlbml1bSBhc3N1bWVzIHRoYXQgaXQncyBhIFwiZ2xvYlwiXG4gICAqIHBhdHRlcm4uXG4gICAqIDwvcD5cbiAgICogPHA+XG4gICAqIEZvciBjb21tYW5kcyB0aGF0IHJldHVybiBtdWx0aXBsZSB2YWx1ZXMgKHN1Y2ggYXMgdmVyaWZ5U2VsZWN0T3B0aW9ucyksXG4gICAqIHRoZSBzdHJpbmcgYmVpbmcgbWF0Y2hlZCBpcyBhIGNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIHRoZSByZXR1cm4gdmFsdWVzLFxuICAgKiB3aGVyZSBib3RoIGNvbW1hcyBhbmQgYmFja3NsYXNoZXMgaW4gdGhlIHZhbHVlcyBhcmUgYmFja3NsYXNoLWVzY2FwZWQuXG4gICAqIFdoZW4gcHJvdmlkaW5nIGEgcGF0dGVybiwgdGhlIG9wdGlvbmFsIG1hdGNoaW5nIHN5bnRheCAoaS5lLiBnbG9iLFxuICAgKiByZWdleHAsIGV0Yy4pIGlzIHNwZWNpZmllZCBvbmNlLCBhcyB1c3VhbCwgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGVcbiAgICogcGF0dGVybi5cbiAgICogPC9wPlxuICAgKi9jb25zdHJ1Y3Rvcihicm93c2VyYm90KXt0aGlzLmJyb3dzZXJib3Q9YnJvd3NlcmJvdDt0aGlzLm9wdGlvbkxvY2F0b3JGYWN0b3J5PW5ldyBPcHRpb25Mb2NhdG9yRmFjdG9yeSgpOy8vIERHRiBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbnRoaXMucGFnZT1mdW5jdGlvbigpe3JldHVybiBicm93c2VyYm90O307dGhpcy5kZWZhdWx0VGltZW91dD1TZWxlbml1bS5ERUZBVUxUX1RJTUVPVVQ7dGhpcy5tb3VzZVNwZWVkPVNlbGVuaXVtLkRFRkFVTFRfTU9VU0VfU1BFRUQ7fX1TZWxlbml1bS5ERUZBVUxUX1RJTUVPVVQ9MzAqMTAwMDtTZWxlbml1bS5ERUZBVUxUX01PVVNFX1NQRUVEPTEwO1NlbGVuaXVtLlJJR0hUX01PVVNFX0NMSUNLPTI7U2VsZW5pdW0uZGVjb3JhdGVGdW5jdGlvbldpdGhUaW1lb3V0PWZ1bmN0aW9uKGYsdGltZW91dCxjYWxsYmFjayl7aWYoZj09bnVsbCl7cmV0dXJuIG51bGw7fWxldCB0aW1lb3V0VGltZT1nZXRUaW1lb3V0VGltZSh0aW1lb3V0KTtyZXR1cm4gZnVuY3Rpb24oKXtpZihuZXcgRGF0ZSgpLmdldFRpbWUoKT50aW1lb3V0VGltZSl7aWYoY2FsbGJhY2shPW51bGwpe2NhbGxiYWNrKCk7fXRocm93IG5ldyBTZWxlbml1bUVycm9yKCdUaW1lZCBvdXQgYWZ0ZXIgJyt0aW1lb3V0KydtcycpO31yZXR1cm4gZigpO307fTtTZWxlbml1bS5jcmVhdGVGb3JXaW5kb3c9ZnVuY3Rpb24od2luZG93LHByb3h5SW5qZWN0aW9uTW9kZSl7aWYoIXdpbmRvdy5sb2NhdGlvbil7dGhyb3cnZXJyb3I6IG5vdCBhIHdpbmRvdyEnO31yZXR1cm4gU2VsZW5pdW0oQnJvd3NlckJvdC5jcmVhdGVGb3JXaW5kb3cod2luZG93LHByb3h5SW5qZWN0aW9uTW9kZSkpO307U2VsZW5pdW0ucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0VGltZW91dD1TZWxlbml1bS5ERUZBVUxUX1RJTUVPVVQ7Ly8gdG9kbzogdGhpcy5icm93c2VyYm90LnJlc2V0KClcbnRoaXMuYnJvd3NlcmJvdC5zZWxlY3RXaW5kb3coJ251bGwnKTt0aGlzLmJyb3dzZXJib3QucmVzZXRQb3B1cHMoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5ldmFsPWZ1bmN0aW9uKHNjcmlwdCxhcmd2PVtdLHNjb3BlZD10cnVlLGlzRXhwcmVzc2lvbj1mYWxzZSl7Ly8gd2UgYXJlIHN0aWxsIHN0cmluZ2lmeWluZyBoZXJlLCBidXQgd2UgYXJlIG5vdCBzdXBwb3J0aW5nIHBhc3NpbmcgSFRNTEVsZW1lbnRzIGFueXdheSA6KVxuLy8gU2luZ2xlIHF1b3RlcyBhcmUgaW1wb3J0YW50ISBKU09OLnN0cmluZ2lmaWVzIHVzZXMgZG91YmxlIHF1b3RlcywgdG8gYXZvaWQgc3ludGF4IGVycm9yIHdlIHVzZSBzaW5nbGUgcXVvdGVzISFcbmlmKGlzRXhwcmVzc2lvbil7cmV0dXJuIHdpbmRvdy5ldmFsKHNjb3BlZD9gKCguLi5hcmd1bWVudHMpID0+ICgke3NjcmlwdH0pKSguLi5KU09OLnBhcnNlKCcke0pTT04uc3RyaW5naWZ5KGFyZ3YpfScpKWA6c2NyaXB0KTt9ZWxzZXtyZXR1cm4gd2luZG93LmV2YWwoc2NvcGVkP2AoKC4uLmFyZ3VtZW50cykgPT4geyR7c2NyaXB0fX0pKC4uLkpTT04ucGFyc2UoJyR7SlNPTi5zdHJpbmdpZnkoYXJndil9JykpYDpzY3JpcHQpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb0V2YWx1YXRlQ29uZGl0aW9uYWw9ZnVuY3Rpb24oc2NyaXB0KXtyZXR1cm4hIXRoaXMuZXZhbChzY3JpcHQuc2NyaXB0LHNjcmlwdC5hcmd2LHRydWUsdHJ1ZSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9WZXJpZnlDaGVja2VkPWZ1bmN0aW9uKGxvY2F0b3Ipe2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZihlbGVtZW50LnR5cGUhPT0nY2hlY2tib3gnJiZlbGVtZW50LnR5cGUhPT0ncmFkaW8nKXt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gaXMgbm90IGEgY2hlY2tib3ggbm9yIGEgcmFkaW8gYnV0dG9uYCk7fWVsc2UgaWYoIWVsZW1lbnQuY2hlY2tlZCl7dGhyb3cgbmV3IEVycm9yKGBFbGVtZW50IHdpdGggbG9jYXRvciAke2xvY2F0b3J9IGlzIG5vdCBjaGVja2VkYCk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvVmVyaWZ5Tm90Q2hlY2tlZD1mdW5jdGlvbihsb2NhdG9yKXtsZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoZWxlbWVudC50eXBlIT09J2NoZWNrYm94JyYmZWxlbWVudC50eXBlIT09J3JhZGlvJyl7dGhyb3cgbmV3IEVycm9yKGBFbGVtZW50IHdpdGggbG9jYXRvciAke2xvY2F0b3J9IGlzIG5vdCBhIGNoZWNrYm94IG5vciBhIHJhZGlvIGJ1dHRvbmApO31lbHNlIGlmKGVsZW1lbnQuY2hlY2tlZCl7dGhyb3cgbmV3IEVycm9yKGBFbGVtZW50IHdpdGggbG9jYXRvciAke2xvY2F0b3J9IGlzIGNoZWNrZWRgKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9WZXJpZnlFZGl0YWJsZT1mdW5jdGlvbihsb2NhdG9yKXtpZighdGhpcy5pc0VkaXRhYmxlKGxvY2F0b3IpKXt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gaXMgbm90IGVkaXRhYmxlYCk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvVmVyaWZ5Tm90RWRpdGFibGU9ZnVuY3Rpb24obG9jYXRvcil7aWYodGhpcy5pc0VkaXRhYmxlKGxvY2F0b3IpKXt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gaXMgZWRpdGFibGVgKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9WZXJpZnlTZWxlY3RlZFZhbHVlPWZ1bmN0aW9uKGxvY2F0b3IsdmFsdWUpe2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZihlbGVtZW50LnR5cGUhPT0nc2VsZWN0LW9uZScpe3Rocm93IG5ldyBFcnJvcihgRWxlbWVudCB3aXRoIGxvY2F0b3IgJHtsb2NhdG9yfSBpcyBub3QgYSBzZWxlY3RgKTt9ZWxzZSBpZihlbGVtZW50LnZhbHVlIT09dmFsdWUpe3Rocm93IG5ldyBFcnJvcihcIkFjdHVhbCB2YWx1ZSAnXCIrZWxlbWVudC52YWx1ZStcIicgZGlkIG5vdCBtYXRjaCAnXCIrdmFsdWUrXCInXCIpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeU5vdFNlbGVjdGVkVmFsdWU9ZnVuY3Rpb24obG9jYXRvcix2YWx1ZSl7bGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQudHlwZSE9PSdzZWxlY3Qtb25lJyl7dGhyb3cgbmV3IEVycm9yKGBFbGVtZW50IHdpdGggbG9jYXRvciAke2xvY2F0b3J9IGlzIG5vdCBhIHNlbGVjdGApO31lbHNlIGlmKGVsZW1lbnQudmFsdWU9PT12YWx1ZSl7dGhyb3cgbmV3IEVycm9yKFwiQWN0dWFsIHZhbHVlICdcIitlbGVtZW50LnZhbHVlK1wiJyBkaWQgbWF0Y2hcIik7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvVmVyaWZ5VGV4dD1mdW5jdGlvbihsb2NhdG9yLHZhbHVlKXt0aGlzLmRvQXNzZXJ0VGV4dChsb2NhdG9yLHZhbHVlKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeU5vdFRleHQ9ZnVuY3Rpb24obG9jYXRvcix2YWx1ZSl7dGhpcy5kb0Fzc2VydE5vdFRleHQobG9jYXRvcix2YWx1ZSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9WZXJpZnlWYWx1ZT1mdW5jdGlvbihsb2NhdG9yLHZhbHVlKXtsZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoZWxlbWVudC52YWx1ZSE9PXZhbHVlKXt0aHJvdyBuZXcgRXJyb3IoXCJBY3R1YWwgdmFsdWUgJ1wiK2VsZW1lbnQudmFsdWUrXCInIGRpZCBub3QgbWF0Y2ggJ1wiK3ZhbHVlK1wiJ1wiKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9WZXJpZnlUaXRsZT1mdW5jdGlvbih2YWx1ZSl7aWYoZ29vZy5zdHJpbmcubm9ybWFsaXplU3BhY2VzKHRoaXMuZ2V0VGl0bGUoKSkhPT12YWx1ZSl7dGhyb3cgbmV3IEVycm9yKFwiQWN0dWFsIHZhbHVlICdcIitnb29nLnN0cmluZy5ub3JtYWxpemVTcGFjZXModGhpcy5nZXRUaXRsZSgpKStcIicgZGlkIG5vdCBtYXRjaCAnXCIrdmFsdWUrXCInXCIpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeUVsZW1lbnRQcmVzZW50PWZ1bmN0aW9uKGxvY2F0b3Ipe3RyeXt0aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7fWNhdGNoKGVycm9yKXtpZihlcnJvci5tZXNzYWdlLm1hdGNoKC9FbGVtZW50W1xcc1xcU10qP25vdCBmb3VuZC8pKXt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gY291bGQgbm90IGJlIGZvdW5kYCk7fWVsc2V7dGhyb3cgZXJyb3I7fX19O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeUVsZW1lbnROb3RQcmVzZW50PWZ1bmN0aW9uKGxvY2F0b3Ipe3RyeXt0aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7dGhyb3cgbmV3IEVycm9yKGBFbGVtZW50IHdpdGggbG9jYXRvciAke2xvY2F0b3J9IHdhcyBmb3VuZGApO31jYXRjaChlcnJvcil7aWYoIWVycm9yLm1lc3NhZ2UubWF0Y2goL0VsZW1lbnRbXFxzXFxTXSo/bm90IGZvdW5kLykpe3Rocm93IGVycm9yO319fTtTZWxlbml1bS5wcm90b3R5cGUuZG9WZXJpZnk9ZnVuY3Rpb24odmFyaWFibGVOYW1lLGV4cGVjdGVkKXtyZXR1cm4gdGhpcy5kb0Fzc2VydCh2YXJpYWJsZU5hbWUsZXhwZWN0ZWQpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQXNzZXJ0PWZ1bmN0aW9uKHZhcmlhYmxlTmFtZSxleHBlY3RlZCl7cmV0dXJuIG5ldyBQcm9taXNlKChyZXMscmVqKT0+e2Jyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7Z2V0VmFyOnRydWUsdmFyaWFibGU6dmFyaWFibGVOYW1lfSkudGhlbihhY3R1YWw9PntpZihgJHthY3R1YWx9YCE9ZXhwZWN0ZWQpe3JldHVybiByZWooXCJBY3R1YWwgdmFsdWUgJ1wiK2FjdHVhbCtcIicgZGlkIG5vdCBtYXRjaCAnXCIrZXhwZWN0ZWQrXCInXCIpO31yZXR1cm4gcmVzKCk7fSk7fSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnRDaGVja2VkPWZ1bmN0aW9uKGxvY2F0b3Ipe2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZihlbGVtZW50LnR5cGUhPT0nY2hlY2tib3gnJiZlbGVtZW50LnR5cGUhPT0ncmFkaW8nKXt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gaXMgbm90IGEgY2hlY2tib3ggbm9yIGEgcmFkaW8gYnV0dG9uYCk7fWVsc2UgaWYoIWVsZW1lbnQuY2hlY2tlZCl7dGhyb3cgbmV3IEVycm9yKGBFbGVtZW50IHdpdGggbG9jYXRvciAke2xvY2F0b3J9IGlzIG5vdCBjaGVja2VkYCk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvQXNzZXJ0Tm90Q2hlY2tlZD1mdW5jdGlvbihsb2NhdG9yKXtsZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoZWxlbWVudC50eXBlIT09J2NoZWNrYm94JyYmZWxlbWVudC50eXBlIT09J3JhZGlvJyl7dGhyb3cgbmV3IEVycm9yKGBFbGVtZW50IHdpdGggbG9jYXRvciAke2xvY2F0b3J9IGlzIG5vdCBhIGNoZWNrYm94IG5vciBhIHJhZGlvIGJ1dHRvbmApO31lbHNlIGlmKGVsZW1lbnQuY2hlY2tlZCl7dGhyb3cgbmV3IEVycm9yKGBFbGVtZW50IHdpdGggbG9jYXRvciAke2xvY2F0b3J9IGlzIGNoZWNrZWRgKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnRFZGl0YWJsZT1mdW5jdGlvbihsb2NhdG9yKXtpZighdGhpcy5pc0VkaXRhYmxlKGxvY2F0b3IpKXt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gaXMgbm90IGVkaXRhYmxlYCk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvQXNzZXJ0Tm90RWRpdGFibGU9ZnVuY3Rpb24obG9jYXRvcil7aWYodGhpcy5pc0VkaXRhYmxlKGxvY2F0b3IpKXt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gaXMgZWRpdGFibGVgKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnRTZWxlY3RlZFZhbHVlPWZ1bmN0aW9uKGxvY2F0b3IsdmFsdWUpe2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZihlbGVtZW50LnR5cGUhPT0nc2VsZWN0LW9uZScpe3Rocm93IG5ldyBFcnJvcihgRWxlbWVudCB3aXRoIGxvY2F0b3IgJHtsb2NhdG9yfSBpcyBub3QgYSBzZWxlY3RgKTt9ZWxzZSBpZihlbGVtZW50LnZhbHVlIT09dmFsdWUpe3Rocm93IG5ldyBFcnJvcihcIkFjdHVhbCB2YWx1ZSAnXCIrZWxlbWVudC52YWx1ZStcIicgZGlkIG5vdCBtYXRjaCAnXCIrdmFsdWUrXCInXCIpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb1ZlcmlmeVNlbGVjdGVkTGFiZWw9ZnVuY3Rpb24oc2VsZWN0TG9jYXRvcix2YWx1ZSl7bGV0IHNlbGVjdGVkTGFiZWw9dGhpcy5maW5kU2VsZWN0ZWRPcHRpb25Qcm9wZXJ0eShzZWxlY3RMb2NhdG9yLCd0ZXh0Jyk7aWYoc2VsZWN0ZWRMYWJlbCE9PXZhbHVlKXt0aHJvdyBuZXcgRXJyb3IoXCJBY3R1YWwgbGFiZWwgJ1wiK3NlbGVjdGVkTGFiZWwrXCInIGRpZCBub3QgbWF0Y2ggJ1wiK3ZhbHVlK1wiJ1wiKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnRTZWxlY3RlZExhYmVsPWZ1bmN0aW9uKHNlbGVjdExvY2F0b3IsdmFsdWUpe2xldCBzZWxlY3RlZExhYmVsPXRoaXMuZmluZFNlbGVjdGVkT3B0aW9uUHJvcGVydHkoc2VsZWN0TG9jYXRvciwndGV4dCcpO2lmKHNlbGVjdGVkTGFiZWwhPT12YWx1ZSl7dGhyb3cgbmV3IEVycm9yKFwiQWN0dWFsIGxhYmVsICdcIitzZWxlY3RlZExhYmVsK1wiJyBkaWQgbm90IG1hdGNoICdcIit2YWx1ZStcIidcIik7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvQXNzZXJ0Tm90U2VsZWN0ZWRWYWx1ZT1mdW5jdGlvbihsb2NhdG9yLHZhbHVlKXtsZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoZWxlbWVudC50eXBlIT09J3NlbGVjdC1vbmUnKXt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gaXMgbm90IGEgc2VsZWN0YCk7fWVsc2UgaWYoZWxlbWVudC52YWx1ZT09PXZhbHVlKXt0aHJvdyBuZXcgRXJyb3IoXCJBY3R1YWwgdmFsdWUgJ1wiK2VsZW1lbnQudmFsdWUrXCInIGRpZCBtYXRjaFwiKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZmluZEVsZW1lbnRWaXNpYmxlPWZ1bmN0aW9uKGxvY2F0b3Ipe2NvbnN0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKCFib3QuZG9tLmlzU2hvd24oZWxlbWVudCkpdGhyb3cgbmV3IEVycm9yKGBFbGVtZW50ICR7bG9jYXRvcn0gbm90IHZpc2libGVgKTtyZXR1cm4gZWxlbWVudDt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2VydFRleHQ9ZnVuY3Rpb24obG9jYXRvcix2YWx1ZSl7Y29uc3QgZWxlbWVudD10aGlzLmZpbmRFbGVtZW50VmlzaWJsZShsb2NhdG9yKTtjb25zdCB2aXNpYmxlVGV4dD1ib3QuZG9tLmdldFZpc2libGVUZXh0KGVsZW1lbnQpLnRyaW0oKTtpZih2aXNpYmxlVGV4dCE9PXZhbHVlKXt0aHJvdyBuZXcgRXJyb3IoYEFjdHVhbCB2YWx1ZSBcIiR7dmlzaWJsZVRleHR9XCIgZGlkIG5vdCBtYXRjaCBcIiR7dmFsdWV9XCJgKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnROb3RUZXh0PWZ1bmN0aW9uKGxvY2F0b3IsdmFsdWUpe2NvbnN0IGVsZW1lbnQ9dGhpcy5maW5kRWxlbWVudFZpc2libGUobG9jYXRvcik7Y29uc3QgdmlzaWJsZVRleHQ9Ym90LmRvbS5nZXRWaXNpYmxlVGV4dChlbGVtZW50KS50cmltKCk7aWYodmlzaWJsZVRleHQ9PT12YWx1ZSl7dGhyb3cgbmV3IEVycm9yKGBBY3R1YWwgdmFsdWUgXCIke3Zpc2libGVUZXh0fVwiIGRpZCBtYXRjaCBcIiR7dmFsdWV9XCJgKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnRWYWx1ZT1mdW5jdGlvbihsb2NhdG9yLHZhbHVlKXtsZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoZWxlbWVudC52YWx1ZSE9PXZhbHVlKXt0aHJvdyBuZXcgRXJyb3IoXCJBY3R1YWwgdmFsdWUgJ1wiK2VsZW1lbnQudmFsdWUrXCInIGRpZCBub3QgbWF0Y2ggJ1wiK3ZhbHVlK1wiJ1wiKTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnRUaXRsZT1mdW5jdGlvbih2YWx1ZSl7aWYoZ29vZy5zdHJpbmcubm9ybWFsaXplU3BhY2VzKHRoaXMuZ2V0VGl0bGUoKSkhPT12YWx1ZSl7dGhyb3cgbmV3IEVycm9yKFwiQWN0dWFsIHZhbHVlICdcIitnb29nLnN0cmluZy5ub3JtYWxpemVTcGFjZXModGhpcy5nZXRUaXRsZSgpKStcIicgZGlkIG5vdCBtYXRjaCAnXCIrdmFsdWUrXCInXCIpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2VydEVsZW1lbnRQcmVzZW50PWZ1bmN0aW9uKGxvY2F0b3Ipe3RyeXt0aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7fWNhdGNoKGVycm9yKXtpZihlcnJvci5tZXNzYWdlLm1hdGNoKC9FbGVtZW50W1xcc1xcU10qP25vdCBmb3VuZC8pKXt0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgd2l0aCBsb2NhdG9yICR7bG9jYXRvcn0gY291bGQgbm90IGJlIGZvdW5kYCk7fWVsc2V7dGhyb3cgZXJyb3I7fX19O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2VydEVsZW1lbnROb3RQcmVzZW50PWZ1bmN0aW9uKGxvY2F0b3Ipe3RyeXt0aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7dGhyb3cgbmV3IEVycm9yKGBFbGVtZW50IHdpdGggbG9jYXRvciAke2xvY2F0b3J9IHdhcyBmb3VuZGApO31jYXRjaChlcnJvcil7aWYoIWVycm9yLm1lc3NhZ2UubWF0Y2goL0VsZW1lbnRbXFxzXFxTXSo/bm90IGZvdW5kLykpe3Rocm93IGVycm9yO319fTtmdW5jdGlvbiB0aHJvd0lmTm9WYXJOYW1lUHJvdmlkZWQodmFyTmFtZSl7aWYoIXZhck5hbWUpe3Rocm93IG5ldyBFcnJvcignTm8gdmFyaWFibGUgbmFtZSBwcm92aWRlZC4nKTt9fVNlbGVuaXVtLnByb3RvdHlwZS5kb1N0b3JlPWZ1bmN0aW9uKHZhbHVlLHZhck5hbWUpe3Rocm93SWZOb1Zhck5hbWVQcm92aWRlZCh2YXJOYW1lKTtyZXR1cm4gYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtzdG9yZVN0cjp2YWx1ZSxzdG9yZVZhcjp2YXJOYW1lfSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9TdG9yZUV2YWw9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoJ3N0b3JlIGV2YWwgaXMgb2Jzb2xldGUgcGxlYXNlIG1pZ3JhdGUgdG8gZXhlY3V0ZSBzY3JpcHQnKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1N0b3JlSnNvbj1mdW5jdGlvbihqc29uLHZhck5hbWUpe3Rocm93SWZOb1Zhck5hbWVQcm92aWRlZCh2YXJOYW1lKTtjb25zdCByZXN1bHQ9SlNPTi5wYXJzZShqc29uKTtyZXR1cm4gYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtzdG9yZVN0cjpyZXN1bHQsc3RvcmVWYXI6dmFyTmFtZX0pO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU3RvcmVUZXh0PWZ1bmN0aW9uKGxvY2F0b3IsdmFyTmFtZSl7dGhyb3dJZk5vVmFyTmFtZVByb3ZpZGVkKHZhck5hbWUpO2xldCB0ZXh0O3RyeXsvLyBUcnkgdG8gZ2V0IHRoZSB0ZXh0IGlmIHRoZSBlbGVtZW50IGlzIHZpc2libGVcbmNvbnN0IGVsZW1lbnQ9dGhpcy5maW5kRWxlbWVudFZpc2libGUobG9jYXRvcik7dGV4dD1ib3QuZG9tLmdldFZpc2libGVUZXh0KGVsZW1lbnQpLnRyaW0oKTt9Y2F0Y2goZSl7Ly8gZWxlbWVudCBpcyBub3QgdmlzaWJsZSwgYnV0IGl0IG1heSBiZSBkdWUgdG8gdGhlIGZhY3QgdGhhdCBpdCBoYXMgbm8gdGV4dFxuY29uc3QgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoZWxlbWVudC5pbm5lckhUTUw9PT0nJyl7Ly8gZWxlbWVudCBpcyBlbXB0eSB0aGVuIHJldHVybiBlbXB0eSBzdHJpbmdcbnRleHQ9Jyc7fWVsc2V7Ly8gZWxlbWVudCBoYXMgY29udGVudCB0aGlzIGlzIGluZGVlZCBpbnZpc2libGVcbnRocm93IGU7fX1yZXR1cm4gYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtzdG9yZVN0cjp0ZXh0LHN0b3JlVmFyOnZhck5hbWV9KTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1N0b3JlVmFsdWU9ZnVuY3Rpb24obG9jYXRvcix2YXJOYW1lKXt0aHJvd0lmTm9WYXJOYW1lUHJvdmlkZWQodmFyTmFtZSk7bGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3JldHVybiBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe3N0b3JlU3RyOmVsZW1lbnQudmFsdWUudHJpbSgpLHN0b3JlVmFyOnZhck5hbWV9KTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1N0b3JlVGl0bGU9ZnVuY3Rpb24odmFsdWUsdmFyTmFtZSl7dGhyb3dJZk5vVmFyTmFtZVByb3ZpZGVkKHZhck5hbWUpO2xldCBkb2M9c2VsZW5pdW0uYnJvd3NlcmJvdC5nZXREb2N1bWVudCgpO3JldHVybiBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe3N0b3JlU3RyOnZhbHVlfHxkb2MudGl0bGUsc3RvcmVWYXI6dmFyTmFtZX0pO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU3RvcmVYcGF0aENvdW50PWZ1bmN0aW9uKHhwYXRoLHZhck5hbWUpe3Rocm93SWZOb1Zhck5hbWVQcm92aWRlZCh2YXJOYW1lKTtsZXQgY291bnQ9dGhpcy5icm93c2VyYm90LmV2YWx1YXRlWFBhdGhDb3VudCh4cGF0aCx0aGlzLmJyb3dzZXJib3QuZ2V0RG9jdW1lbnQoKSk7cmV0dXJuIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7c3RvcmVTdHI6YCR7Y291bnR9YHx8JzAnLHN0b3JlVmFyOnZhck5hbWV9KTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1N0b3JlQXR0cmlidXRlPWZ1bmN0aW9uKGxvY2F0b3IsdmFyTmFtZSl7dGhyb3dJZk5vVmFyTmFtZVByb3ZpZGVkKHZhck5hbWUpO2xldCBhdHRyaWJ1dGVWYWx1ZT10aGlzLmJyb3dzZXJib3QuZmluZEF0dHJpYnV0ZShsb2NhdG9yKTtyZXR1cm4gYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtzdG9yZVN0cjphdHRyaWJ1dGVWYWx1ZSxzdG9yZVZhcjp2YXJOYW1lfSk7fTtmdW5jdGlvbiB3YWl0VW50aWwoY29uZGl0aW9uLHRhcmdldCx0aW1lb3V0LGZhaWx1cmVNZXNzYWdlKXtpZighdGltZW91dCl7dGhyb3cgbmV3IEVycm9yKCdUaW1lb3V0IG5vdCBzcGVjaWZpZWQuJyk7fXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7bGV0IGNvdW50PTA7bGV0IHJldHJ5SW50ZXJ2YWw9MTAwO2xldCByZXN1bHQ7bGV0IGludGVydmFsPXNldEludGVydmFsKGZ1bmN0aW9uKCl7aWYoY291bnQ+dGltZW91dCl7Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7cmVqZWN0KGZhaWx1cmVNZXNzYWdlKTt9dHJ5e3Jlc3VsdD1jb25kaXRpb24odGFyZ2V0KTt9Y2F0Y2goZXJyb3Ipe2NsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO3JlamVjdChlcnJvci5tZXNzYWdlKTt9aWYoIXJlc3VsdCl7Y291bnQrPXJldHJ5SW50ZXJ2YWw7fWVsc2UgaWYocmVzdWx0KXtjbGVhckludGVydmFsKGludGVydmFsKTtyZXNvbHZlKCk7fX0scmV0cnlJbnRlcnZhbCk7fSk7fVNlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRGb3JFbGVtZW50UHJlc2VudD1mdW5jdGlvbihsb2NhdG9yLHRpbWVvdXQpe3JldHVybiB3YWl0VW50aWwodGhpcy5pc0VsZW1lbnRQcmVzZW50LmJpbmQodGhpcyksbG9jYXRvcix0aW1lb3V0LCdVbmFibGUgdG8gZmluZCB0aGUgdGFyZ2V0IGVsZW1lbnQgd2l0aGluIHRoZSB0aW1lb3V0IHNwZWNpZmllZC4nKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRGb3JFbGVtZW50Tm90UHJlc2VudD1mdW5jdGlvbihsb2NhdG9yLHRpbWVvdXQpe3JldHVybiB3YWl0VW50aWwoaXNFbGVtZW50Tm90UHJlc2VudC5iaW5kKHRoaXMpLGxvY2F0b3IsdGltZW91dCwnRWxlbWVudCBzdGlsbCBwcmVzZW50IG9uIHRoZSBwYWdlIHdpdGhpbiB0aGUgdGltZW91dCBzcGVjaWZpZWQuJyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9XYWl0Rm9yRWxlbWVudFZpc2libGU9ZnVuY3Rpb24obG9jYXRvcix0aW1lb3V0KXtyZXR1cm4gd2FpdFVudGlsKGlzRGlzcGxheWVkLmJpbmQodGhpcyksbG9jYXRvcix0aW1lb3V0LCdFbGVtZW50IG5vdCB2aXNpYmxlIG9uIHRoZSBwYWdlIHdpdGhpbiB0aGUgdGltZW91dCBzcGVjaWZpZWQuJyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9XYWl0Rm9yRWxlbWVudE5vdFZpc2libGU9ZnVuY3Rpb24obG9jYXRvcix0aW1lb3V0KXtyZXR1cm4gd2FpdFVudGlsKGlzTm90RGlzcGxheWVkLmJpbmQodGhpcyksbG9jYXRvcix0aW1lb3V0LCdFbGVtZW50IHN0aWxsIHZpc2libGUgb24gdGhlIHBhZ2Ugd2l0aGluIHRoZSB0aW1lb3V0IHNwZWNpZmllZC4nKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRGb3JFbGVtZW50RWRpdGFibGU9ZnVuY3Rpb24obG9jYXRvcix0aW1lb3V0KXtyZXR1cm4gd2FpdFVudGlsKGlzRWRpdGFibGUuYmluZCh0aGlzKSxsb2NhdG9yLHRpbWVvdXQsJ0VsZW1lbnQgbm90IGVkaXRhYmxlIHdpdGhpbiB0aGUgdGltZW91dCBzcGVjaWZpZWQuJyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9XYWl0Rm9yRWxlbWVudE5vdEVkaXRhYmxlPWZ1bmN0aW9uKGxvY2F0b3IsdGltZW91dCl7cmV0dXJuIHdhaXRVbnRpbChpc05vdEVkaXRhYmxlLmJpbmQodGhpcyksbG9jYXRvcix0aW1lb3V0LCdFbGVtZW50IHN0aWxsIGVkaXRhYmxlIHdpdGhpbiB0aGUgdGltZW91dCBzcGVjaWZpZWQuJyk7fTsvLyB4aWFuXG5TZWxlbml1bS5wcm90b3R5cGUuZG9XYWl0UHJlcGFyYXRpb249ZnVuY3Rpb24oKXsvLyBmdW5jdGlvbiBzZXROZXdQYWdlVmFsdWUoZSkge1xuLy8gICAgIHdpbmRvdy5uZXdfcGFnZSA9IHRydWU7XG4vLyB9O1xuLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgc2V0TmV3UGFnZVZhbHVlLCBmYWxzZSk7XG4vLyBpZiAod2luZG93LlhNTEh0dHBSZXF1ZXN0KSB7XG4vLyAgICAgLy8gb25seSBvdmVycmlkZSBYTUxIdHRwUmVxdWVzdCBvbmNlXG4vLyAgICAgaWYgKCF3aW5kb3cub3JpZ1hNTEh0dHBSZXF1ZXN0IHx8ICF3aW5kb3cuYWpheF9vYmopIHtcbi8vICAgICAgICAgLy8gaXQncyBuZXcgcGFnZSwgc28gc2V0IHRoZSBuZXcgd2luZG93J3MgWE1MSHR0cFJlcXVlc3QsIGFuZCBhbGwgb2YgdGhlIG9iaiBpbiB0aGUgYWpheF9vYmpcbi8vICAgICAgICAgLy8gYXJlIGxhc3Qgd2luZG93J3MgaW5zdGFuY2UsIHNvIGNsZWFyIGl0XG4vLyAgICAgICAgIHdpbmRvdy5hamF4X29iaiA9IFtdO1xuLy8gICAgICAgICB3aW5kb3cub3JpZ1hNTEh0dHBSZXF1ZXN0ID0gd2luZG93LlhNTEh0dHBSZXF1ZXN0O1xuLy8gICAgICAgICB3aW5kb3cuWE1MSHR0cFJlcXVlc3QgPSBmdW5jdGlvbigpIHtcbi8vICAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgd2luZG93Lm9yaWdYTUxIdHRwUmVxdWVzdCgpO1xuLy8gICAgICAgICAgICAgd2luZG93LmFqYXhfb2JqLnB1c2goeGhyKTtcbi8vICAgICAgICAgICAgIHJldHVybiB4aHI7XG4vLyAgICAgICAgIH1cbi8vICAgICB9XG4vLyB9XG4vLyBmdW5jdGlvbiBzZXRET01Nb2RpZmllZFRpbWUoKSB7XG4vLyAgICAgd2luZG93LmRvbU1vZGlmaWVkVGltZSA9IERhdGUubm93KCk7XG4vLyB9XG4vLyB2YXIgX3dpbiA9IHdpbmRvdy5kb2N1bWVudC5ib2R5O1xuLy8gX3dpbi5hZGRFdmVudExpc3RlbmVyKFwiRE9NTm9kZUluc2VydGVkXCIsIHNldERPTU1vZGlmaWVkVGltZSwgZmFsc2UpO1xuLy8gX3dpbi5hZGRFdmVudExpc3RlbmVyKFwiRE9NTm9kZUluc2VydGVkSW50b0RvY3VtZW50XCIsIHNldERPTU1vZGlmaWVkVGltZSwgZmFsc2UpO1xuLy8gX3dpbi5hZGRFdmVudExpc3RlbmVyKFwiRE9NTm9kZVJlbW92ZWRcIiwgc2V0RE9NTW9kaWZpZWRUaW1lLCBmYWxzZSk7XG4vLyBfd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudFwiLCBzZXRET01Nb2RpZmllZFRpbWUsIGZhbHNlKTtcbi8vIF93aW4uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTVN1YnRyZWVNb2RpZmllZFwiLCBzZXRET01Nb2RpZmllZFRpbWUsIGZhbHNlKTtcbnRoaXMuZXZhbCgnZnVuY3Rpb24gc2V0TmV3UGFnZVZhbHVlKGUpIHt3aW5kb3cubmV3X3BhZ2UgPSB0cnVlO307XFxcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBzZXROZXdQYWdlVmFsdWUsIGZhbHNlKTtcXFxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuWE1MSHR0cFJlcXVlc3QpIHtpZiAoIXdpbmRvdy5vcmlnWE1MSHR0cFJlcXVlc3QgfHwgIXdpbmRvdy5hamF4X29iaikge1xcXG4gICAgICAgICAgICAgICAgd2luZG93LmFqYXhfb2JqID0gW107IHdpbmRvdy5vcmlnWE1MSHR0cFJlcXVlc3QgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3Q7XFxcbiAgICAgICAgICAgICAgICB3aW5kb3cuWE1MSHR0cFJlcXVlc3QgPSBmdW5jdGlvbigpIHsgdmFyIHhociA9IG5ldyB3aW5kb3cub3JpZ1hNTEh0dHBSZXF1ZXN0KCk7XFxcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWpheF9vYmoucHVzaCh4aHIpOyByZXR1cm4geGhyO319fSBmdW5jdGlvbiBzZXRET01Nb2RpZmllZFRpbWUoKSB7XFxcbiAgICAgICAgICAgICAgICB3aW5kb3cuZG9tTW9kaWZpZWRUaW1lID0gRGF0ZS5ub3coKTt9dmFyIF93aW4gPSB3aW5kb3cuZG9jdW1lbnQuYm9keTtcXFxuICAgICAgICAgICAgICAgIF93aW4uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU5vZGVJbnNlcnRlZFwiLCBzZXRET01Nb2RpZmllZFRpbWUsIGZhbHNlKTtcXFxuICAgICAgICAgICAgICAgIF93aW4uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU5vZGVJbnNlcnRlZEludG9Eb2N1bWVudFwiLCBzZXRET01Nb2RpZmllZFRpbWUsIGZhbHNlKTtcXFxuICAgICAgICAgICAgICAgIF93aW4uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU5vZGVSZW1vdmVkXCIsIHNldERPTU1vZGlmaWVkVGltZSwgZmFsc2UpO1xcXG4gICAgICAgICAgICAgICAgX3dpbi5hZGRFdmVudExpc3RlbmVyKFwiRE9NTm9kZVJlbW92ZWRGcm9tRG9jdW1lbnRcIiwgc2V0RE9NTW9kaWZpZWRUaW1lLCBmYWxzZSk7XFxcbiAgICAgICAgICAgICAgICBfd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJET01TdWJ0cmVlTW9kaWZpZWRcIiwgc2V0RE9NTW9kaWZpZWRUaW1lLCBmYWxzZSk7JyxbXSxmYWxzZSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9QcmVQYWdlV2FpdD1mdW5jdGlvbigpe3dpbmRvdy5zaWRlZXhfbmV3X3BhZ2U9dGhpcy5ldmFsKCcoZnVuY3Rpb24oKSB7cmV0dXJuIHdpbmRvdy5uZXdfcGFnZTt9KCkpJyxbXSxmYWxzZSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9QYWdlV2FpdD1mdW5jdGlvbigpey8vIGlmICh3aW5kb3cuZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSBcImNvbXBsZXRlXCIpIHtcbi8vICAgICByZXR1cm4gdHJ1ZTtcbi8vIH0gZWxzZSB7XG4vLyAgICAgcmV0dXJuIGZhbHNlO1xuLy8gfVxubGV0IGV4cHJlc3Npb249J2lmKHdpbmRvdy5kb2N1bWVudC5yZWFkeVN0YXRlPT1cImNvbXBsZXRlXCIpe3JldHVybiB0cnVlO31lbHNle3JldHVybiBmYWxzZTt9Jzt3aW5kb3cuc2lkZWV4X3BhZ2VfZG9uZT10aGlzLmV2YWwoJyhmdW5jdGlvbigpIHsnK2V4cHJlc3Npb24rJ30oKSknLFtdLGZhbHNlKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0FqYXhXYWl0PWZ1bmN0aW9uKCl7Ly8gLy8gY2hlY2sgYWpheCB3YWl0XG4vLyBpZiAod2luZG93LmFqYXhfb2JqKSB7XG4vLyAgICAgaWYgKHdpbmRvdy5hamF4X29iai5sZW5ndGggPT0gMCkge1xuLy8gICAgICAgICByZXR1cm4gdHJ1ZTtcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgICBmb3IgKHZhciBpbmRleCBpbiB3aW5kb3cuYWpheF9vYmopIHtcbi8vICAgICAgICAgLy8gaWYgcmVhZHlTdGF0ZSBpcyAxfjMsIHRoZW4ga2VlcCB3YWl0aW5nXG4vLyAgICAgICAgICAgICBpZiAod2luZG93LmFqYXhfb2JqW2luZGV4XS5yZWFkeVN0YXRlICE9PSA0ICYmXG4vLyAgICAgICAgICAgICAgICAgd2luZG93LmFqYXhfb2JqW2luZGV4XS5yZWFkeVN0YXRlICE9PSB1bmRlZmluZWQgJiZcbi8vICAgICAgICAgICAgICAgICB3aW5kb3cuYWpheF9vYmpbaW5kZXhdLnJlYWR5U3RhdGUgIT09IDApIHtcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9XG4vLyAgICAgICAgIHJldHVybiB0cnVlO1xuLy8gICAgIH1cbi8vIH0gZWxzZSB7XG4vLyAgICAgaWYgKHdpbmRvdy5vcmlnWE1MSHR0cFJlcXVlc3QpIHtcbi8vICAgICAgICAgd2luZG93Lm9yaWdYTUxIdHRwUmVxdWVzdCA9IFwiXCI7XG4vLyAgICAgfVxuLy8gICAgIHJldHVybiB0cnVlO1xuLy8gfVxubGV0IGV4cHJlc3Npb249J2lmICh3aW5kb3cuYWpheF9vYmopIHsgaWYgKHdpbmRvdy5hamF4X29iai5sZW5ndGggPT0gMCkge3JldHVybiB0cnVlO30gZWxzZSB7XFxcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCBpbiB3aW5kb3cuYWpheF9vYmopIHtcXFxuICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuYWpheF9vYmpbaW5kZXhdLnJlYWR5U3RhdGUgIT09IDQgJiZcXFxuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hamF4X29ialtpbmRleF0ucmVhZHlTdGF0ZSAhPT0gdW5kZWZpbmVkICYmXFxcbiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWpheF9vYmpbaW5kZXhdLnJlYWR5U3RhdGUgIT09IDApIHtyZXR1cm4gZmFsc2U7fX1yZXR1cm4gdHJ1ZTt9fVxcXG4gICAgICAgICAgICAgICAgICAgICAgZWxzZSB7aWYgKHdpbmRvdy5vcmlnWE1MSHR0cFJlcXVlc3QpIHt3aW5kb3cub3JpZ1hNTEh0dHBSZXF1ZXN0ID0gXCJcIjt9cmV0dXJuIHRydWU7fSc7d2luZG93LnNpZGVleF9hamF4X2RvbmU9dGhpcy5ldmFsKCcoZnVuY3Rpb24oKSB7JytleHByZXNzaW9uKyd9KCkpJyxbXSxmYWxzZSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Eb21XYWl0PWZ1bmN0aW9uKCl7d2luZG93LnNpZGVleF9kb21fdGltZT10aGlzLmV2YWwoJyhmdW5jdGlvbigpIHtyZXR1cm4gd2luZG93LmRvbU1vZGlmaWVkVGltZTt9KCkpJyxbXSxmYWxzZSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9DbGljaz1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogQ2xpY2tzIG9uIGEgbGluaywgYnV0dG9uLCBjaGVja2JveCBvciByYWRpbyBidXR0b24uIElmIHRoZSBjbGljayBhY3Rpb25cbiAgICogY2F1c2VzIGEgbmV3IHBhZ2UgdG8gbG9hZCAobGlrZSBhIGxpbmsgdXN1YWxseSBkb2VzKSwgY2FsbFxuICAgKiB3YWl0Rm9yUGFnZVRvTG9hZC5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gZWxlbWVudCBsb2NhdG9yXG4gICAqXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtib3QuYWN0aW9uLmNsaWNrKGVsZW1lbnQpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvRG91YmxlQ2xpY2s9ZnVuY3Rpb24obG9jYXRvcil7LyoqXG4gICAqIERvdWJsZSBjbGlja3Mgb24gYSBsaW5rLCBidXR0b24sIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbi4gSWYgdGhlIGRvdWJsZSBjbGljayBhY3Rpb25cbiAgICogY2F1c2VzIGEgbmV3IHBhZ2UgdG8gbG9hZCAobGlrZSBhIGxpbmsgdXN1YWxseSBkb2VzKSwgY2FsbFxuICAgKiB3YWl0Rm9yUGFnZVRvTG9hZC5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gZWxlbWVudCBsb2NhdG9yXG4gICAqXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtib3QuYWN0aW9uLmRvdWJsZUNsaWNrKGVsZW1lbnQpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQ29udGV4dE1lbnU9ZnVuY3Rpb24obG9jYXRvcil7LyoqXG4gICAqIFNpbXVsYXRlcyBvcGVuaW5nIHRoZSBjb250ZXh0IG1lbnUgZm9yIHRoZSBzcGVjaWZpZWQgZWxlbWVudCAoYXMgbWlnaHQgaGFwcGVuIGlmIHRoZSB1c2VyIFwicmlnaHQtY2xpY2tlZFwiIG9uIHRoZSBlbGVtZW50KS5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gZWxlbWVudCBsb2NhdG9yXG4gICAqXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtib3QuYWN0aW9uLnJpZ2h0Q2xpY2soZWxlbWVudCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9DbGlja0F0PWZ1bmN0aW9uKGxvY2F0b3IsY29vcmRTdHJpbmcpey8qKlxuICAgKiBDbGlja3Mgb24gYSBsaW5rLCBidXR0b24sIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbi4gSWYgdGhlIGNsaWNrIGFjdGlvblxuICAgKiBjYXVzZXMgYSBuZXcgcGFnZSB0byBsb2FkIChsaWtlIGEgbGluayB1c3VhbGx5IGRvZXMpLCBjYWxsXG4gICAqIHdhaXRGb3JQYWdlVG9Mb2FkLlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiBlbGVtZW50IGxvY2F0b3JcbiAgICogQHBhcmFtIGNvb3JkU3RyaW5nIHNwZWNpZmllcyB0aGUgeCx5IHBvc2l0aW9uIChpLmUuIC0gMTAsMjApIG9mIHRoZSBtb3VzZVxuICAgKiAgICAgIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50IHJldHVybmVkIGJ5IHRoZSBsb2NhdG9yLlxuICAgKlxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7bGV0IGNvb3Jkcz1nZXRDb29yZHMoZWxlbWVudCxjb29yZFN0cmluZyk7Ym90LmFjdGlvbi5jbGljayhlbGVtZW50LGNvb3Jkcyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Eb3VibGVDbGlja0F0PWZ1bmN0aW9uKGxvY2F0b3IsY29vcmRTdHJpbmcpey8qKlxuICAgKiBEb3VibGVjbGlja3Mgb24gYSBsaW5rLCBidXR0b24sIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbi4gSWYgdGhlIGFjdGlvblxuICAgKiBjYXVzZXMgYSBuZXcgcGFnZSB0byBsb2FkIChsaWtlIGEgbGluayB1c3VhbGx5IGRvZXMpLCBjYWxsXG4gICAqIHdhaXRGb3JQYWdlVG9Mb2FkLlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiBlbGVtZW50IGxvY2F0b3JcbiAgICogQHBhcmFtIGNvb3JkU3RyaW5nIHNwZWNpZmllcyB0aGUgeCx5IHBvc2l0aW9uIChpLmUuIC0gMTAsMjApIG9mIHRoZSBtb3VzZVxuICAgKiAgICAgIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50IHJldHVybmVkIGJ5IHRoZSBsb2NhdG9yLlxuICAgKlxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7bGV0IGNvb3Jkcz1nZXRDb29yZHMoZWxlbWVudCxjb29yZFN0cmluZyk7Ym90LmFjdGlvbi5kb3VibGVDbGljayhlbGVtZW50LGNvb3Jkcyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Db250ZXh0TWVudUF0PWZ1bmN0aW9uKGxvY2F0b3IsY29vcmRTdHJpbmcpey8qKlxuICAgKiBTaW11bGF0ZXMgb3BlbmluZyB0aGUgY29udGV4dCBtZW51IGZvciB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgKGFzIG1pZ2h0IGhhcHBlbiBpZiB0aGUgdXNlciBcInJpZ2h0LWNsaWNrZWRcIiBvbiB0aGUgZWxlbWVudCkuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIGVsZW1lbnQgbG9jYXRvclxuICAgKiBAcGFyYW0gY29vcmRTdHJpbmcgc3BlY2lmaWVzIHRoZSB4LHkgcG9zaXRpb24gKGkuZS4gLSAxMCwyMCkgb2YgdGhlIG1vdXNlXG4gICAqICAgICAgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQgcmV0dXJuZWQgYnkgdGhlIGxvY2F0b3IuXG4gICAqXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtsZXQgY29vcmRzPWdldENvb3JkcyhlbGVtZW50LGNvb3JkU3RyaW5nKTtib3QuYWN0aW9uLnJpZ2h0Q2xpY2soZWxlbWVudCxjb29yZHMpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvRm9jdXM9ZnVuY3Rpb24obG9jYXRvcil7LyoqIE1vdmUgdGhlIGZvY3VzIHRvIHRoZSBzcGVjaWZpZWQgZWxlbWVudDsgZm9yIGV4YW1wbGUsIGlmIHRoZSBlbGVtZW50IGlzIGFuIGlucHV0IGZpZWxkLCBtb3ZlIHRoZSBjdXJzb3IgdG8gdGhhdCBmaWVsZC5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQuZm9jdXMpe2VsZW1lbnQuZm9jdXMoKTt9ZWxzZXtib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxib3QuZXZlbnRzLkV2ZW50VHlwZS5GT0NVUyk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvU2hpZnRLZXlEb3duPWZ1bmN0aW9uKCl7LyoqXG4gICAqIFByZXNzIHRoZSBzaGlmdCBrZXkgYW5kIGhvbGQgaXQgZG93biB1bnRpbCBkb1NoaWZ0VXAoKSBpcyBjYWxsZWQgb3IgYSBuZXcgcGFnZSBpcyBsb2FkZWQuXG4gICAqXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5zaGlmdEtleURvd249dHJ1ZTtjb3JlLmV2ZW50cy5zaGlmdEtleURvd25fPXRydWU7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9TaGlmdEtleVVwPWZ1bmN0aW9uKCl7LyoqXG4gICAqIFJlbGVhc2UgdGhlIHNoaWZ0IGtleS5cbiAgICpcbiAgICovdGhpcy5icm93c2VyYm90LnNoaWZ0S2V5RG93bj1mYWxzZTtjb3JlLmV2ZW50cy5zaGlmdEtleURvd25fPWZhbHNlO307U2VsZW5pdW0ucHJvdG90eXBlLmRvTWV0YUtleURvd249ZnVuY3Rpb24oKXsvKipcbiAgICogUHJlc3MgdGhlIG1ldGEga2V5IGFuZCBob2xkIGl0IGRvd24gdW50aWwgZG9NZXRhVXAoKSBpcyBjYWxsZWQgb3IgYSBuZXcgcGFnZSBpcyBsb2FkZWQuXG4gICAqXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5tZXRhS2V5RG93bj10cnVlO2NvcmUuZXZlbnRzLm1ldGFLZXlEb3duXz10cnVlO307U2VsZW5pdW0ucHJvdG90eXBlLmRvTWV0YUtleVVwPWZ1bmN0aW9uKCl7LyoqXG4gICAqIFJlbGVhc2UgdGhlIG1ldGEga2V5LlxuICAgKlxuICAgKi90aGlzLmJyb3dzZXJib3QubWV0YUtleURvd249ZmFsc2U7Y29yZS5ldmVudHMubWV0YUtleURvd25fPWZhbHNlO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQWx0S2V5RG93bj1mdW5jdGlvbigpey8qKlxuICAgKiBQcmVzcyB0aGUgYWx0IGtleSBhbmQgaG9sZCBpdCBkb3duIHVudGlsIGRvQWx0VXAoKSBpcyBjYWxsZWQgb3IgYSBuZXcgcGFnZSBpcyBsb2FkZWQuXG4gICAqXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5hbHRLZXlEb3duPXRydWU7Y29yZS5ldmVudHMuYWx0S2V5RG93bl89dHJ1ZTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0FsdEtleVVwPWZ1bmN0aW9uKCl7LyoqXG4gICAqIFJlbGVhc2UgdGhlIGFsdCBrZXkuXG4gICAqXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5hbHRLZXlEb3duPWZhbHNlO2NvcmUuZXZlbnRzLmFsdEtleURvd25fPWZhbHNlO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQ29udHJvbEtleURvd249ZnVuY3Rpb24oKXsvKipcbiAgICogUHJlc3MgdGhlIGNvbnRyb2wga2V5IGFuZCBob2xkIGl0IGRvd24gdW50aWwgZG9Db250cm9sVXAoKSBpcyBjYWxsZWQgb3IgYSBuZXcgcGFnZSBpcyBsb2FkZWQuXG4gICAqXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5jb250cm9sS2V5RG93bj10cnVlO2NvcmUuZXZlbnRzLmNvbnRyb2xLZXlEb3duXz10cnVlO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQ29udHJvbEtleVVwPWZ1bmN0aW9uKCl7LyoqXG4gICAqIFJlbGVhc2UgdGhlIGNvbnRyb2wga2V5LlxuICAgKlxuICAgKi90aGlzLmJyb3dzZXJib3QuY29udHJvbEtleURvd249ZmFsc2U7Y29yZS5ldmVudHMuY29udHJvbEtleURvd25fPWZhbHNlO307ZnVuY3Rpb24gZ2V0Q2xpZW50WFkoZWxlbWVudCxjb29yZFN0cmluZyl7Ly8gUGFyc2UgY29vcmRTdHJpbmdcbmxldCBjb29yZHM9bnVsbDtsZXQgeDtsZXQgeTtpZihjb29yZFN0cmluZyl7Y29vcmRzPWNvb3JkU3RyaW5nLnNwbGl0KC8sLyk7eD1OdW1iZXIoY29vcmRzWzBdKTt5PU51bWJlcihjb29yZHNbMV0pO31lbHNle3g9eT0wO30vLyBHZXQgcG9zaXRpb24gb2YgZWxlbWVudCxcbi8vIFJldHVybiAyIGl0ZW0gYXJyYXkgd2l0aCBjbGllbnRYIGFuZCBjbGllbnRZXG5yZXR1cm5bU2VsZW5pdW0ucHJvdG90eXBlLmdldEVsZW1lbnRQb3NpdGlvbkxlZnQoZWxlbWVudCkreCxTZWxlbml1bS5wcm90b3R5cGUuZ2V0RWxlbWVudFBvc2l0aW9uVG9wKGVsZW1lbnQpK3ldO31mdW5jdGlvbiBnZXRDb29yZHMoX2VsZW1lbnQsY29vcmRTdHJpbmcpey8vIFBhcnNlIGNvb3JkU3RyaW5nXG5sZXQgY29vcmRzPW51bGw7bGV0IHg7bGV0IHk7aWYoY29vcmRTdHJpbmcpe2Nvb3Jkcz1jb29yZFN0cmluZy5zcGxpdCgvLC8pO3g9TnVtYmVyKGNvb3Jkc1swXSk7eT1OdW1iZXIoY29vcmRzWzFdKTt9ZWxzZXt4PXk9MDt9cmV0dXJuIG5ldyBnb29nLm1hdGguQ29vcmRpbmF0ZSh4LHkpO31TZWxlbml1bS5wcm90b3R5cGUucHJlcGFyZVRvSW50ZXJhY3RfPWZ1bmN0aW9uKGxvY2F0b3Ipe2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtsZXQgcmVjdD1lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2JvdC5hY3Rpb24ucHJlcGFyZVRvSW50ZXJhY3RXaXRoXyhlbGVtZW50LG5ldyBnb29nLm1hdGguQ29vcmRpbmF0ZShyZWN0LndpZHRoLzIscmVjdC5oZWlnaHQvMikpO3JldHVybiBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvTW91c2VPdmVyPWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxuICAgKiBTaW11bGF0ZXMgYSB1c2VyIGhvdmVyaW5nIGEgbW91c2Ugb3ZlciB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtsZXQgcmVjdD1lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2JvdC5hY3Rpb24ubW92ZU1vdXNlKGVsZW1lbnQsbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKHJlY3Qud2lkdGgvMixyZWN0LmhlaWdodC8yKSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Nb3VzZU91dD1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogU2ltdWxhdGVzIGEgdXNlciBtb3ZpbmcgdGhlIG1vdXNlIHBvaW50ZXIgYXdheSBmcm9tIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZW91dCcsdHJ1ZSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Nb3VzZURvd249ZnVuY3Rpb24obG9jYXRvcil7LyoqXG4gICAqIFNpbXVsYXRlcyBhIHVzZXIgcHJlc3NpbmcgdGhlIGxlZnQgbW91c2UgYnV0dG9uICh3aXRob3V0IHJlbGVhc2luZyBpdCB5ZXQpIG9uXG4gICAqIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZWRvd24nLHRydWUpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvTW91c2VEb3duUmlnaHQ9ZnVuY3Rpb24obG9jYXRvcil7LyoqXG4gICAqIFNpbXVsYXRlcyBhIHVzZXIgcHJlc3NpbmcgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiAod2l0aG91dCByZWxlYXNpbmcgaXQgeWV0KSBvblxuICAgKiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt0aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCwnbW91c2Vkb3duJyx0cnVlLHVuZGVmaW5lZCx1bmRlZmluZWQsU2VsZW5pdW0uUklHSFRfTU9VU0VfQ0xJQ0spO307U2VsZW5pdW0ucHJvdG90eXBlLmRvTW91c2VEb3duQXQ9ZnVuY3Rpb24obG9jYXRvcixjb29yZFN0cmluZyl7LyoqXG4gICAqIFNpbXVsYXRlcyBhIHVzZXIgcHJlc3NpbmcgdGhlIGxlZnQgbW91c2UgYnV0dG9uICh3aXRob3V0IHJlbGVhc2luZyBpdCB5ZXQpIGF0XG4gICAqIHRoZSBzcGVjaWZpZWQgbG9jYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XG4gICAqIEBwYXJhbSBjb29yZFN0cmluZyBzcGVjaWZpZXMgdGhlIHgseSBwb3NpdGlvbiAoaS5lLiAtIDEwLDIwKSBvZiB0aGUgbW91c2VcbiAgICogICAgICBldmVudCByZWxhdGl2ZSB0byB0aGUgZWxlbWVudCByZXR1cm5lZCBieSB0aGUgbG9jYXRvci5cbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2xldCBjbGllbnRYWT1nZXRDbGllbnRYWShlbGVtZW50LGNvb3JkU3RyaW5nKTt0aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCwnbW91c2Vkb3duJyx0cnVlLGNsaWVudFhZWzBdLGNsaWVudFhZWzFdKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb01vdXNlRG93blJpZ2h0QXQ9ZnVuY3Rpb24obG9jYXRvcixjb29yZFN0cmluZyl7LyoqXG4gICAqIFNpbXVsYXRlcyBhIHVzZXIgcHJlc3NpbmcgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiAod2l0aG91dCByZWxlYXNpbmcgaXQgeWV0KSBhdFxuICAgKiB0aGUgc3BlY2lmaWVkIGxvY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxuICAgKiBAcGFyYW0gY29vcmRTdHJpbmcgc3BlY2lmaWVzIHRoZSB4LHkgcG9zaXRpb24gKGkuZS4gLSAxMCwyMCkgb2YgdGhlIG1vdXNlXG4gICAqICAgICAgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQgcmV0dXJuZWQgYnkgdGhlIGxvY2F0b3IuXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtsZXQgY2xpZW50WFk9Z2V0Q2xpZW50WFkoZWxlbWVudCxjb29yZFN0cmluZyk7dGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsJ21vdXNlZG93bicsdHJ1ZSxjbGllbnRYWVswXSxjbGllbnRYWVsxXSxTZWxlbml1bS5SSUdIVF9NT1VTRV9DTElDSyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Nb3VzZVVwPWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxuICAgKiBTaW11bGF0ZXMgdGhlIGV2ZW50IHRoYXQgb2NjdXJzIHdoZW4gdGhlIHVzZXIgcmVsZWFzZXMgdGhlIG1vdXNlIGJ1dHRvbiAoaS5lLiwgc3RvcHNcbiAgICogaG9sZGluZyB0aGUgYnV0dG9uIGRvd24pIG9uIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZXVwJyx0cnVlKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb01vdXNlVXBSaWdodD1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogU2ltdWxhdGVzIHRoZSBldmVudCB0aGF0IG9jY3VycyB3aGVuIHRoZSB1c2VyIHJlbGVhc2VzIHRoZSByaWdodCBtb3VzZSBidXR0b24gKGkuZS4sIHN0b3BzXG4gICAqIGhvbGRpbmcgdGhlIGJ1dHRvbiBkb3duKSBvbiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTt0aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCwnbW91c2V1cCcsdHJ1ZSx1bmRlZmluZWQsdW5kZWZpbmVkLFNlbGVuaXVtLlJJR0hUX01PVVNFX0NMSUNLKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb01vdXNlVXBBdD1mdW5jdGlvbihsb2NhdG9yLGNvb3JkU3RyaW5nKXsvKipcbiAgICogU2ltdWxhdGVzIHRoZSBldmVudCB0aGF0IG9jY3VycyB3aGVuIHRoZSB1c2VyIHJlbGVhc2VzIHRoZSBtb3VzZSBidXR0b24gKGkuZS4sIHN0b3BzXG4gICAqIGhvbGRpbmcgdGhlIGJ1dHRvbiBkb3duKSBhdCB0aGUgc3BlY2lmaWVkIGxvY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxuICAgKiBAcGFyYW0gY29vcmRTdHJpbmcgc3BlY2lmaWVzIHRoZSB4LHkgcG9zaXRpb24gKGkuZS4gLSAxMCwyMCkgb2YgdGhlIG1vdXNlXG4gICAqICAgICAgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQgcmV0dXJuZWQgYnkgdGhlIGxvY2F0b3IuXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtsZXQgY2xpZW50WFk9Z2V0Q2xpZW50WFkoZWxlbWVudCxjb29yZFN0cmluZyk7dGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsJ21vdXNldXAnLHRydWUsY2xpZW50WFlbMF0sY2xpZW50WFlbMV0pO307U2VsZW5pdW0ucHJvdG90eXBlLmRvTW91c2VVcFJpZ2h0QXQ9ZnVuY3Rpb24obG9jYXRvcixjb29yZFN0cmluZyl7LyoqXG4gICAqIFNpbXVsYXRlcyB0aGUgZXZlbnQgdGhhdCBvY2N1cnMgd2hlbiB0aGUgdXNlciByZWxlYXNlcyB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIChpLmUuLCBzdG9wc1xuICAgKiBob2xkaW5nIHRoZSBidXR0b24gZG93bikgYXQgdGhlIHNwZWNpZmllZCBsb2NhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICogQHBhcmFtIGNvb3JkU3RyaW5nIHNwZWNpZmllcyB0aGUgeCx5IHBvc2l0aW9uIChpLmUuIC0gMTAsMjApIG9mIHRoZSBtb3VzZVxuICAgKiAgICAgIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50IHJldHVybmVkIGJ5IHRoZSBsb2NhdG9yLlxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7bGV0IGNsaWVudFhZPWdldENsaWVudFhZKGVsZW1lbnQsY29vcmRTdHJpbmcpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZXVwJyx0cnVlLGNsaWVudFhZWzBdLGNsaWVudFhZWzFdLFNlbGVuaXVtLlJJR0hUX01PVVNFX0NMSUNLKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb01vdXNlTW92ZT1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogU2ltdWxhdGVzIGEgdXNlciBwcmVzc2luZyB0aGUgbW91c2UgYnV0dG9uICh3aXRob3V0IHJlbGVhc2luZyBpdCB5ZXQpIG9uXG4gICAqIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZW1vdmUnLHRydWUpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvTW91c2VNb3ZlQXQ9ZnVuY3Rpb24obG9jYXRvcixjb29yZFN0cmluZyl7LyoqXG4gICAqIFNpbXVsYXRlcyBhIHVzZXIgcHJlc3NpbmcgdGhlIG1vdXNlIGJ1dHRvbiAod2l0aG91dCByZWxlYXNpbmcgaXQgeWV0KSBvblxuICAgKiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XG4gICAqIEBwYXJhbSBjb29yZFN0cmluZyBzcGVjaWZpZXMgdGhlIHgseSBwb3NpdGlvbiAoaS5lLiAtIDEwLDIwKSBvZiB0aGUgbW91c2VcbiAgICogICAgICBldmVudCByZWxhdGl2ZSB0byB0aGUgZWxlbWVudCByZXR1cm5lZCBieSB0aGUgbG9jYXRvci5cbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2xldCBjbGllbnRYWT1nZXRDbGllbnRYWShlbGVtZW50LGNvb3JkU3RyaW5nKTt0aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCwnbW91c2Vtb3ZlJyx0cnVlLGNsaWVudFhZWzBdLGNsaWVudFhZWzFdKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1R5cGU9ZnVuY3Rpb24obG9jYXRvcix2YWx1ZSl7LyoqXG4gICAqIFNldHMgdGhlIHZhbHVlIG9mIGFuIGlucHV0IGZpZWxkLCBhcyB0aG91Z2ggeW91IHR5cGVkIGl0IGluLlxuICAgKlxuICAgKiA8cD5DYW4gYWxzbyBiZSB1c2VkIHRvIHNldCB0aGUgdmFsdWUgb2YgY29tYm8gYm94ZXMsIGNoZWNrIGJveGVzLCBldGMuIEluIHRoZXNlIGNhc2VzLFxuICAgKiB2YWx1ZSBzaG91bGQgYmUgdGhlIHZhbHVlIG9mIHRoZSBvcHRpb24gc2VsZWN0ZWQsIG5vdCB0aGUgdmlzaWJsZSB0ZXh0LjwvcD5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICogQHBhcmFtIHZhbHVlIHRoZSB2YWx1ZSB0byB0eXBlXG4gICAqL2lmKHRoaXMuYnJvd3NlcmJvdC5jb250cm9sS2V5RG93bnx8dGhpcy5icm93c2VyYm90LmFsdEtleURvd258fHRoaXMuYnJvd3NlcmJvdC5tZXRhS2V5RG93bil7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ3R5cGUgbm90IHN1cHBvcnRlZCBpbW1lZGlhdGVseSBhZnRlciBjYWxsIHRvIGNvbnRyb2xLZXlEb3duKCkgb3IgYWx0S2V5RG93bigpIG9yIG1ldGFLZXlEb3duKCknKTt9bGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2NvcmUuZXZlbnRzLnNldFZhbHVlKGVsZW1lbnQsJycpO2NvbnN0IHR5cGU9ZWxlbWVudC50eXBlO2lmKHR5cGU9PT0nbnVtYmVyJ3x8dHlwZT09PSdkYXRlJyl7Y29yZS5ldmVudHMuc2V0VmFsdWUoZWxlbWVudCx2YWx1ZSk7fWVsc2V7Ym90LmFjdGlvbi50eXBlKGVsZW1lbnQsdmFsdWUpO2lmKGVsZW1lbnQudmFsdWUhPT12YWx1ZSl7Y29yZS5ldmVudHMuc2V0VmFsdWUoZWxlbWVudCx2YWx1ZSk7fX1ib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxib3QuZXZlbnRzLkV2ZW50VHlwZS5DSEFOR0UpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU2VuZEtleXM9ZnVuY3Rpb24obG9jYXRvcix2YWx1ZSl7LyoqXG4gICAqICpFeHBlcmltZW50YWwqIFNpbXVsYXRlcyBrZXlzdHJva2UgZXZlbnRzIG9uIHRoZSBzcGVjaWZpZWQgZWxlbWVudCwgYXMgdGhvdWdoIHlvdSB0eXBlZCB0aGUgdmFsdWUga2V5LWJ5LWtleS5cbiAgICpcbiAgICogPHA+VGhpcyBzaW11bGF0ZXMgYSByZWFsIHVzZXIgdHlwaW5nIGV2ZXJ5IGNoYXJhY3RlciBpbiB0aGUgc3BlY2lmaWVkIHN0cmluZzsgaXQgaXMgYWxzbyBib3VuZCBieSB0aGUgbGltaXRhdGlvbnMgb2YgYVxuICAgKiByZWFsIHVzZXIsIGxpa2Ugbm90IGJlaW5nIGFibGUgdG8gdHlwZSBpbnRvIGEgaW52aXNpYmxlIG9yIHJlYWQgb25seSBlbGVtZW50cy4gVGhpcyBpcyB1c2VmdWwgZm9yIGR5bmFtaWMgVUkgd2lkZ2V0c1xuICAgKiAobGlrZSBhdXRvLWNvbXBsZXRpbmcgY29tYm8gYm94ZXMpIHRoYXQgcmVxdWlyZSBleHBsaWNpdCBrZXkgZXZlbnRzLjwvcD5cbiAgICogPHA+VW5saWtlIHRoZSBzaW1wbGUgXCJ0eXBlXCIgY29tbWFuZCwgd2hpY2ggZm9yY2VzIHRoZSBzcGVjaWZpZWQgdmFsdWUgaW50byB0aGUgcGFnZSBkaXJlY3RseSwgdGhpcyBjb21tYW5kIHdpbGwgbm90XG4gICAqIHJlcGxhY2UgdGhlIGV4aXN0aW5nIGNvbnRlbnQuIElmIHlvdSB3YW50IHRvIHJlcGxhY2UgdGhlIGV4aXN0aW5nIGNvbnRlbnRzLCB5b3UgbmVlZCB0byB1c2UgdGhlIHNpbXBsZSBcInR5cGVcIiBjb21tYW5kIHRvIHNldCB0aGUgdmFsdWUgb2YgdGhlXG4gICAqIGZpZWxkIHRvIGVtcHR5IHN0cmluZyB0byBjbGVhciB0aGUgZmllbGQgYW5kIHRoZW4gdGhlIFwic2VuZEtleXNcIiBjb21tYW5kIHRvIHNlbmQgdGhlIGtleXN0cm9rZSBmb3Igd2hhdCB5b3Ugd2FudFxuICAgKiB0byB0eXBlLjwvcD5cbiAgICogPHA+VGhpcyBjb21tYW5kIGlzIGV4cGVyaW1lbnRhbC4gSXQgbWF5IHJlcGxhY2UgdGhlIHR5cGVLZXlzIGNvbW1hbmQgaW4gdGhlIGZ1dHVyZS48L3A+XG4gICAqIDxwPkZvciB0aG9zZSB3aG8gYXJlIGludGVyZXN0ZWQgaW4gdGhlIGRldGFpbHMsIHVubGlrZSB0aGUgdHlwZUtleXMgY29tbWFuZCwgd2hpY2ggdHJpZXMgdG9cbiAgICogZmlyZSB0aGUga2V5RG93biwgdGhlIGtleVVwIGFuZCB0aGUga2V5UHJlc3MgZXZlbnRzLCB0aGlzIGNvbW1hbmQgaXMgYmFja2VkIGJ5IHRoZSBhdG9tcyBmcm9tIFNlbGVuaXVtIDIgYW5kIHByb3ZpZGVzIGFcbiAgICogbXVjaCBtb3JlIHJvYnVzdCBpbXBsZW1lbnRhdGlvbiB0aGF0IHdpbGwgYmUgbWFpbnRhaW5lZCBpbiB0aGUgZnV0dXJlLjwvcD5cbiAgICpcbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICogQHBhcmFtIHZhbHVlIHRoZSB2YWx1ZSB0byB0eXBlXG4gICAqL2lmKHRoaXMuYnJvd3NlcmJvdC5jb250cm9sS2V5RG93bnx8dGhpcy5icm93c2VyYm90LmFsdEtleURvd258fHRoaXMuYnJvd3NlcmJvdC5tZXRhS2V5RG93bil7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ3R5cGUgbm90IHN1cHBvcnRlZCBpbW1lZGlhdGVseSBhZnRlciBjYWxsIHRvIGNvbnRyb2xLZXlEb3duKCkgb3IgYWx0S2V5RG93bigpIG9yIG1ldGFLZXlEb3duKCknKTt9bGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2xldCBrZXlzPXRoaXMucmVwbGFjZUtleXModmFsdWUpO2JvdC5hY3Rpb24udHlwZShlbGVtZW50LGtleXMpO2JvdC5ldmVudHMuZmlyZShlbGVtZW50LGJvdC5ldmVudHMuRXZlbnRUeXBlLkNIQU5HRSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9TZXRTcGVlZD1mdW5jdGlvbigpey8qKlxuICAgKiBTZXQgZXhlY3V0aW9uIHNwZWVkIChpLmUuLCBzZXQgdGhlIG1pbGxpc2Vjb25kIGxlbmd0aCBvZiBhIGRlbGF5IHdoaWNoIHdpbGwgZm9sbG93IGVhY2ggc2VsZW5pdW0gb3BlcmF0aW9uKS4gIEJ5IGRlZmF1bHQsIHRoZXJlIGlzIG5vIHN1Y2ggZGVsYXksIGkuZS4sXG4gICAqIHRoZSBkZWxheSBpcyAwIG1pbGxpc2Vjb25kcy5cbiAgICpcbiAgICogQHBhcmFtIHZhbHVlIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHBhdXNlIGFmdGVyIG9wZXJhdGlvblxuICAgKi90aHJvdyBuZXcgU2VsZW5pdW1FcnJvcigndGhpcyBvcGVyYXRpb24gaXMgb25seSBpbXBsZW1lbnRlZCBpbiBzZWxlbml1bS1yYywgYW5kIHNob3VsZCBuZXZlciByZXN1bHQgaW4gYSByZXF1ZXN0IG1ha2luZyBpdCBhY3Jvc3MgdGhlIHdpcmUnKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRTcGVlZD1mdW5jdGlvbigpey8qKlxuICAgKiBHZXQgZXhlY3V0aW9uIHNwZWVkIChpLmUuLCBnZXQgdGhlIG1pbGxpc2Vjb25kIGxlbmd0aCBvZiB0aGUgZGVsYXkgZm9sbG93aW5nIGVhY2ggc2VsZW5pdW0gb3BlcmF0aW9uKS4gIEJ5IGRlZmF1bHQsIHRoZXJlIGlzIG5vIHN1Y2ggZGVsYXksIGkuZS4sXG4gICAqIHRoZSBkZWxheSBpcyAwIG1pbGxpc2Vjb25kcy5cbiAgICpcbiAgICogU2VlIGFsc28gc2V0U3BlZWQuXG4gICAqXG4gICAqIEByZXR1cm4gc3RyaW5nIHRoZSBleGVjdXRpb24gc3BlZWQgaW4gbWlsbGlzZWNvbmRzLlxuICAgKi90aHJvdyBuZXcgU2VsZW5pdW1FcnJvcigndGhpcyBvcGVyYXRpb24gaXMgb25seSBpbXBsZW1lbnRlZCBpbiBzZWxlbml1bS1yYywgYW5kIHNob3VsZCBuZXZlciByZXN1bHQgaW4gYSByZXF1ZXN0IG1ha2luZyBpdCBhY3Jvc3MgdGhlIHdpcmUnKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5maW5kVG9nZ2xlQnV0dG9uPWZ1bmN0aW9uKGxvY2F0b3Ipe2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZihlbGVtZW50LmNoZWNrZWQ9PW51bGwpe3Rocm93IG5ldyBFcnJvcignRWxlbWVudCAnK2xvY2F0b3IrJyBpcyBub3QgYSB0b2dnbGUtYnV0dG9uLicpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn1yZXR1cm4gZWxlbWVudDt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0NoZWNrPWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxuICAgKiBDaGVjayBhIHRvZ2dsZS1idXR0b24gKGNoZWNrYm94L3JhZGlvKVxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxuICAgKi90aGlzLmZpbmRUb2dnbGVCdXR0b24obG9jYXRvcikuY2hlY2tlZD10cnVlO307U2VsZW5pdW0ucHJvdG90eXBlLmRvVW5jaGVjaz1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogVW5jaGVjayBhIHRvZ2dsZS1idXR0b24gKGNoZWNrYm94L3JhZGlvKVxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPlxuICAgKi90aGlzLmZpbmRUb2dnbGVCdXR0b24obG9jYXRvcikuY2hlY2tlZD1mYWxzZTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1NlbGVjdD1mdW5jdGlvbihzZWxlY3RMb2NhdG9yLG9wdGlvbkxvY2F0b3Ipey8qKlxuICAgKiBTZWxlY3QgYW4gb3B0aW9uIGZyb20gYSBkcm9wLWRvd24gdXNpbmcgYW4gb3B0aW9uIGxvY2F0b3IuXG4gICAqXG4gICAqIDxwPlxuICAgKiBPcHRpb24gbG9jYXRvcnMgcHJvdmlkZSBkaWZmZXJlbnQgd2F5cyBvZiBzcGVjaWZ5aW5nIG9wdGlvbnMgb2YgYW4gSFRNTFxuICAgKiBTZWxlY3QgZWxlbWVudCAoZS5nLiBmb3Igc2VsZWN0aW5nIGEgc3BlY2lmaWMgb3B0aW9uLCBvciBmb3IgYXNzZXJ0aW5nXG4gICAqIHRoYXQgdGhlIHNlbGVjdGVkIG9wdGlvbiBzYXRpc2ZpZXMgYSBzcGVjaWZpY2F0aW9uKS4gVGhlcmUgYXJlIHNldmVyYWxcbiAgICogZm9ybXMgb2YgU2VsZWN0IE9wdGlvbiBMb2NhdG9yLlxuICAgKiA8L3A+XG4gICAqIDx1bD5cbiAgICogPGxpPjxzdHJvbmc+bGFiZWw8L3N0cm9uZz49PGVtPmxhYmVsUGF0dGVybjwvZW0+OlxuICAgKiBtYXRjaGVzIG9wdGlvbnMgYmFzZWQgb24gdGhlaXIgbGFiZWxzLCBpLmUuIHRoZSB2aXNpYmxlIHRleHQuIChUaGlzXG4gICAqIGlzIHRoZSBkZWZhdWx0LilcbiAgICogPHVsIGNsYXNzPVwiZmlyc3QgbGFzdCBzaW1wbGVcIj5cbiAgICogPGxpPmxhYmVsPXJlZ2V4cDpeW09vXXRoZXI8L2xpPlxuICAgKiA8L3VsPlxuICAgKiA8L2xpPlxuICAgKiA8bGk+PHN0cm9uZz52YWx1ZTwvc3Ryb25nPj08ZW0+dmFsdWVQYXR0ZXJuPC9lbT46XG4gICAqIG1hdGNoZXMgb3B0aW9ucyBiYXNlZCBvbiB0aGVpciB2YWx1ZXMuXG4gICAqIDx1bCBjbGFzcz1cImZpcnN0IGxhc3Qgc2ltcGxlXCI+XG4gICAqIDxsaT52YWx1ZT1vdGhlcjwvbGk+XG4gICAqIDwvdWw+XG4gICAqXG4gICAqXG4gICAqIDwvbGk+XG4gICAqIDxsaT48c3Ryb25nPmlkPC9zdHJvbmc+PTxlbT5pZDwvZW0+OlxuICAgKlxuICAgKiBtYXRjaGVzIG9wdGlvbnMgYmFzZWQgb24gdGhlaXIgaWRzLlxuICAgKiA8dWwgY2xhc3M9XCJmaXJzdCBsYXN0IHNpbXBsZVwiPlxuICAgKiA8bGk+aWQ9b3B0aW9uMTwvbGk+XG4gICAqIDwvdWw+XG4gICAqIDwvbGk+XG4gICAqIDxsaT48c3Ryb25nPmluZGV4PC9zdHJvbmc+PTxlbT5pbmRleDwvZW0+OlxuICAgKiBtYXRjaGVzIGFuIG9wdGlvbiBiYXNlZCBvbiBpdHMgaW5kZXggKG9mZnNldCBmcm9tIHplcm8pLlxuICAgKiA8dWwgY2xhc3M9XCJmaXJzdCBsYXN0IHNpbXBsZVwiPlxuICAgKlxuICAgKiA8bGk+aW5kZXg9MjwvbGk+XG4gICAqIDwvdWw+XG4gICAqIDwvbGk+XG4gICAqIDwvdWw+XG4gICAqIDxwPlxuICAgKiBJZiBubyBvcHRpb24gbG9jYXRvciBwcmVmaXggaXMgcHJvdmlkZWQsIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBpcyB0byBtYXRjaCBvbiA8c3Ryb25nPmxhYmVsPC9zdHJvbmc+LlxuICAgKiA8L3A+XG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RMb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgZHJvcC1kb3duIG1lbnVcbiAgICogQHBhcmFtIG9wdGlvbkxvY2F0b3IgYW4gb3B0aW9uIGxvY2F0b3IgKGEgbGFiZWwgYnkgZGVmYXVsdClcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KHNlbGVjdExvY2F0b3IpO2lmKCEoJ29wdGlvbnMnaW4gZWxlbWVudCkpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdTcGVjaWZpZWQgZWxlbWVudCBpcyBub3QgYSBTZWxlY3QgKGhhcyBubyBvcHRpb25zKScpO31sZXQgbG9jYXRvcj10aGlzLm9wdGlvbkxvY2F0b3JGYWN0b3J5LmZyb21Mb2NhdG9yU3RyaW5nKG9wdGlvbkxvY2F0b3IpO2xldCBvcHRpb249bG9jYXRvci5maW5kT3B0aW9uKGVsZW1lbnQpO3RoaXMuYnJvd3NlcmJvdC5zZWxlY3RPcHRpb24oZWxlbWVudCxvcHRpb24pO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQWRkU2VsZWN0aW9uPWZ1bmN0aW9uKGxvY2F0b3Isb3B0aW9uTG9jYXRvcil7LyoqXG4gICAqIEFkZCBhIHNlbGVjdGlvbiB0byB0aGUgc2V0IG9mIHNlbGVjdGVkIG9wdGlvbnMgaW4gYSBtdWx0aS1zZWxlY3QgZWxlbWVudCB1c2luZyBhbiBvcHRpb24gbG9jYXRvci5cbiAgICpcbiAgICogQHNlZSAjZG9TZWxlY3QgZm9yIGRldGFpbHMgb2Ygb3B0aW9uIGxvY2F0b3JzXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgbXVsdGktc2VsZWN0IGJveFxuICAgKiBAcGFyYW0gb3B0aW9uTG9jYXRvciBhbiBvcHRpb24gbG9jYXRvciAoYSBsYWJlbCBieSBkZWZhdWx0KVxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoISgnb3B0aW9ucydpbiBlbGVtZW50KSl7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ1NwZWNpZmllZCBlbGVtZW50IGlzIG5vdCBhIFNlbGVjdCAoaGFzIG5vIG9wdGlvbnMpJyk7fWxldCBjdXJyTG9jYXRvcj10aGlzLm9wdGlvbkxvY2F0b3JGYWN0b3J5LmZyb21Mb2NhdG9yU3RyaW5nKG9wdGlvbkxvY2F0b3IpO2xldCBvcHRpb249Y3VyckxvY2F0b3IuZmluZE9wdGlvbihlbGVtZW50KTt0aGlzLmJyb3dzZXJib3QuYWRkU2VsZWN0aW9uKGVsZW1lbnQsb3B0aW9uKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1JlbW92ZVNlbGVjdGlvbj1mdW5jdGlvbihsb2NhdG9yLG9wdGlvbkxvY2F0b3Ipey8qKlxuICAgKiBSZW1vdmUgYSBzZWxlY3Rpb24gZnJvbSB0aGUgc2V0IG9mIHNlbGVjdGVkIG9wdGlvbnMgaW4gYSBtdWx0aS1zZWxlY3QgZWxlbWVudCB1c2luZyBhbiBvcHRpb24gbG9jYXRvci5cbiAgICpcbiAgICogQHNlZSAjZG9TZWxlY3QgZm9yIGRldGFpbHMgb2Ygb3B0aW9uIGxvY2F0b3JzXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgbXVsdGktc2VsZWN0IGJveFxuICAgKiBAcGFyYW0gb3B0aW9uTG9jYXRvciBhbiBvcHRpb24gbG9jYXRvciAoYSBsYWJlbCBieSBkZWZhdWx0KVxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoISgnb3B0aW9ucydpbiBlbGVtZW50KSl7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ1NwZWNpZmllZCBlbGVtZW50IGlzIG5vdCBhIFNlbGVjdCAoaGFzIG5vIG9wdGlvbnMpJyk7fWxldCBjdXJyTG9jYXRvcj10aGlzLm9wdGlvbkxvY2F0b3JGYWN0b3J5LmZyb21Mb2NhdG9yU3RyaW5nKG9wdGlvbkxvY2F0b3IpO2xldCBvcHRpb249Y3VyckxvY2F0b3IuZmluZE9wdGlvbihlbGVtZW50KTt0aGlzLmJyb3dzZXJib3QucmVtb3ZlU2VsZWN0aW9uKGVsZW1lbnQsb3B0aW9uKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1JlbW92ZUFsbFNlbGVjdGlvbnM9ZnVuY3Rpb24obG9jYXRvcil7LyoqXG4gICAqIFVuc2VsZWN0cyBhbGwgb2YgdGhlIHNlbGVjdGVkIG9wdGlvbnMgaW4gYSBtdWx0aS1zZWxlY3QgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gaWRlbnRpZnlpbmcgYSBtdWx0aS1zZWxlY3QgYm94XG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZighKCdvcHRpb25zJ2luIGVsZW1lbnQpKXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignU3BlY2lmaWVkIGVsZW1lbnQgaXMgbm90IGEgU2VsZWN0IChoYXMgbm8gb3B0aW9ucyknKTt9Zm9yKGxldCBpPTA7aTxlbGVtZW50Lm9wdGlvbnMubGVuZ3RoO2krKyl7dGhpcy5icm93c2VyYm90LnJlbW92ZVNlbGVjdGlvbihlbGVtZW50LGVsZW1lbnQub3B0aW9uc1tpXSk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvU3VibWl0PWZ1bmN0aW9uKGZvcm1Mb2NhdG9yKXsvKipcbiAgICogU3VibWl0IHRoZSBzcGVjaWZpZWQgZm9ybS4gVGhpcyBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBmb3JtcyB3aXRob3V0XG4gICAqIHN1Ym1pdCBidXR0b25zLCBlLmcuIHNpbmdsZS1pbnB1dCBcIlNlYXJjaFwiIGZvcm1zLlxuICAgKlxuICAgKiBAcGFyYW0gZm9ybUxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gZm9yIHRoZSBmb3JtIHlvdSB3YW50IHRvIHN1Ym1pdFxuICAgKi9icm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe2xvZzp7dHlwZTond2FybicsbWVzc2FnZTonc3VibWl0IGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIGxhdGVyIHZlcnNpb25zIG9mIFNlbGVuaXVtIElERSwgcGxlYXNlIHJlLXJlY29yZCB0aGUgc3RlcC4nfX0pO2xldCBmb3JtPXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChmb3JtTG9jYXRvcik7cmV0dXJuIGJvdC5hY3Rpb24uc3VibWl0KGZvcm0pO307U2VsZW5pdW0ucHJvdG90eXBlLm1ha2VQYWdlTG9hZENvbmRpdGlvbj1mdW5jdGlvbih0aW1lb3V0KXtpZih0aW1lb3V0PT1udWxsKXt0aW1lb3V0PXRoaXMuZGVmYXVsdFRpbWVvdXQ7fS8vIGlmIHRoZSB0aW1lb3V0IGlzIHplcm8sIHdlIHdvbid0IHdhaXQgZm9yIHRoZSBwYWdlIHRvIGxvYWQgYmVmb3JlIHJldHVybmluZ1xuaWYodGltZW91dD09MCl7Ly8gYWJvcnQgWEhSIHJlcXVlc3RcbnRoaXMuX2Fib3J0WGhyUmVxdWVzdCgpO3JldHVybjt9cmV0dXJuIFNlbGVuaXVtLmRlY29yYXRlRnVuY3Rpb25XaXRoVGltZW91dCh0aGlzLl9pc05ld1BhZ2VMb2FkZWQuYmluZCh0aGlzKSx0aW1lb3V0LHRoaXMuX2Fib3J0WGhyUmVxdWVzdC5iaW5kKHRoaXMpKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb09wZW49ZnVuY3Rpb24odXJsLGlnbm9yZVJlc3BvbnNlQ29kZSl7LyoqXG4gICAqIE9wZW5zIGFuIFVSTCBpbiB0aGUgdGVzdCBmcmFtZS4gVGhpcyBhY2NlcHRzIGJvdGggcmVsYXRpdmUgYW5kIGFic29sdXRlXG4gICAqIFVSTHMuXG4gICAqXG4gICAqIFRoZSAmcXVvdDtvcGVuJnF1b3Q7IGNvbW1hbmQgd2FpdHMgZm9yIHRoZSBwYWdlIHRvIGxvYWQgYmVmb3JlIHByb2NlZWRpbmcsXG4gICAqIGllLiB0aGUgJnF1b3Q7QW5kV2FpdCZxdW90OyBzdWZmaXggaXMgaW1wbGljaXQuXG4gICAqXG4gICAqIDxlbT5Ob3RlPC9lbT46IFRoZSBVUkwgbXVzdCBiZSBvbiB0aGUgc2FtZSBkb21haW4gYXMgdGhlIHJ1bm5lciBIVE1MXG4gICAqIGR1ZSB0byBzZWN1cml0eSByZXN0cmljdGlvbnMgaW4gdGhlIGJyb3dzZXIgKFNhbWUgT3JpZ2luIFBvbGljeSkuIElmIHlvdVxuICAgKiBuZWVkIHRvIG9wZW4gYW4gVVJMIG9uIGFub3RoZXIgZG9tYWluLCB1c2UgdGhlIFNlbGVuaXVtIFNlcnZlciB0byBzdGFydCBhXG4gICAqIG5ldyBicm93c2VyIHNlc3Npb24gb24gdGhhdCBkb21haW4uXG4gICAqXG4gICAqIEBwYXJhbSB1cmwgdGhlIFVSTCB0byBvcGVuOyBtYXkgYmUgcmVsYXRpdmUgb3IgYWJzb2x1dGVcbiAgICogQHBhcmFtIGlnbm9yZVJlc3BvbnNlQ29kZSAob3B0aW9uYWwpIHR1cm4gb2ZmIGFqYXggaGVhZCByZXF1ZXN0IGZ1bmN0aW9uYWxpdHlcbiAgICpcbiAgICovaWYoaWdub3JlUmVzcG9uc2VDb2RlPT1udWxsfHxpZ25vcmVSZXNwb25zZUNvZGUubGVuZ3RoPT0wKXt0aGlzLmJyb3dzZXJib3QuaWdub3JlUmVzcG9uc2VDb2RlPXRydWU7fWVsc2UgaWYoaWdub3JlUmVzcG9uc2VDb2RlLnRvTG93ZXJDYXNlKCk9PSd0cnVlJyl7dGhpcy5icm93c2VyYm90Lmlnbm9yZVJlc3BvbnNlQ29kZT10cnVlO31lbHNle3RoaXMuYnJvd3NlcmJvdC5pZ25vcmVSZXNwb25zZUNvZGU9ZmFsc2U7fXRoaXMuYnJvd3NlcmJvdC5vcGVuTG9jYXRpb24odXJsKTtpZih3aW5kb3dbJ3Byb3h5SW5qZWN0aW9uTW9kZSddPT1udWxsfHwhd2luZG93Wydwcm94eUluamVjdGlvbk1vZGUnXSl7cmV0dXJuIHRoaXMubWFrZVBhZ2VMb2FkQ29uZGl0aW9uKCk7fS8vIGluIFBJIG1vZGUsIGp1c3QgcmV0dXJuIFwiT0tcIjsgdGhlIHNlcnZlciB3aWxsIHdhaXRGb3JMb2FkXG59O1NlbGVuaXVtLnByb3RvdHlwZS5kb09wZW5XaW5kb3c9ZnVuY3Rpb24odXJsLHdpbmRvd0lEKXsvKipcbiAgICogT3BlbnMgYSBwb3B1cCB3aW5kb3cgKGlmIGEgd2luZG93IHdpdGggdGhhdCBJRCBpc24ndCBhbHJlYWR5IG9wZW4pLlxuICAgKiBBZnRlciBvcGVuaW5nIHRoZSB3aW5kb3csIHlvdSdsbCBuZWVkIHRvIHNlbGVjdCBpdCB1c2luZyB0aGUgc2VsZWN0V2luZG93XG4gICAqIGNvbW1hbmQuXG4gICAqXG4gICAqIDxwPlRoaXMgY29tbWFuZCBjYW4gYWxzbyBiZSBhIHVzZWZ1bCB3b3JrYXJvdW5kIGZvciBidWcgU0VMLTMzOS4gIEluIHNvbWUgY2FzZXMsIFNlbGVuaXVtIHdpbGwgYmUgdW5hYmxlIHRvIGludGVyY2VwdCBhIGNhbGwgdG8gd2luZG93Lm9wZW4gKGlmIHRoZSBjYWxsIG9jY3VycyBkdXJpbmcgb3IgYmVmb3JlIHRoZSBcIm9uTG9hZFwiIGV2ZW50LCBmb3IgZXhhbXBsZSkuXG4gICAqIEluIHRob3NlIGNhc2VzLCB5b3UgY2FuIGZvcmNlIFNlbGVuaXVtIHRvIG5vdGljZSB0aGUgb3BlbiB3aW5kb3cncyBuYW1lIGJ5IHVzaW5nIHRoZSBTZWxlbml1bSBvcGVuV2luZG93IGNvbW1hbmQsIHVzaW5nXG4gICAqIGFuIGVtcHR5IChibGFuaykgdXJsLCBsaWtlIHRoaXM6IG9wZW5XaW5kb3coXCJcIiwgXCJteUZ1bm55V2luZG93XCIpLjwvcD5cbiAgICpcbiAgICogQHBhcmFtIHVybCB0aGUgVVJMIHRvIG9wZW4sIHdoaWNoIGNhbiBiZSBibGFua1xuICAgKiBAcGFyYW0gd2luZG93SUQgdGhlIEphdmFTY3JpcHQgd2luZG93IElEIG9mIHRoZSB3aW5kb3cgdG8gc2VsZWN0XG4gICAqL3RoaXMuYnJvd3NlcmJvdC5vcGVuV2luZG93KHVybCx3aW5kb3dJRCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9TZWxlY3RXaW5kb3c9ZnVuY3Rpb24od2luZG93SUQpey8qKlxuICAgKiBTZWxlY3RzIGEgcG9wdXAgd2luZG93IHVzaW5nIGEgd2luZG93IGxvY2F0b3I7IG9uY2UgYSBwb3B1cCB3aW5kb3cgaGFzIGJlZW4gc2VsZWN0ZWQsIGFsbFxuICAgKiBjb21tYW5kcyBnbyB0byB0aGF0IHdpbmRvdy4gVG8gc2VsZWN0IHRoZSBtYWluIHdpbmRvdyBhZ2FpbiwgdXNlIG51bGxcbiAgICogYXMgdGhlIHRhcmdldC5cbiAgICpcbiAgICogPHA+XG4gICAqXG4gICAqIFdpbmRvdyBsb2NhdG9ycyBwcm92aWRlIGRpZmZlcmVudCB3YXlzIG9mIHNwZWNpZnlpbmcgdGhlIHdpbmRvdyBvYmplY3Q6XG4gICAqIGJ5IHRpdGxlLCBieSBpbnRlcm5hbCBKYXZhU2NyaXB0IFwibmFtZSxcIiBvciBieSBKYXZhU2NyaXB0IHZhcmlhYmxlLlxuICAgKiA8L3A+XG4gICAqIDx1bD5cbiAgICogPGxpPjxzdHJvbmc+dGl0bGU8L3N0cm9uZz49PGVtPk15IFNwZWNpYWwgV2luZG93PC9lbT46XG4gICAqIEZpbmRzIHRoZSB3aW5kb3cgdXNpbmcgdGhlIHRleHQgdGhhdCBhcHBlYXJzIGluIHRoZSB0aXRsZSBiYXIuICBCZSBjYXJlZnVsO1xuICAgKiB0d28gd2luZG93cyBjYW4gc2hhcmUgdGhlIHNhbWUgdGl0bGUuICBJZiB0aGF0IGhhcHBlbnMsIHRoaXMgbG9jYXRvciB3aWxsXG4gICAqIGp1c3QgcGljayBvbmUuXG4gICAqIDwvbGk+XG4gICAqIDxsaT48c3Ryb25nPm5hbWU8L3N0cm9uZz49PGVtPm15V2luZG93PC9lbT46XG4gICAqIEZpbmRzIHRoZSB3aW5kb3cgdXNpbmcgaXRzIGludGVybmFsIEphdmFTY3JpcHQgXCJuYW1lXCIgcHJvcGVydHkuICBUaGlzIGlzIHRoZSBzZWNvbmRcbiAgICogcGFyYW1ldGVyIFwid2luZG93TmFtZVwiIHBhc3NlZCB0byB0aGUgSmF2YVNjcmlwdCBtZXRob2Qgd2luZG93Lm9wZW4odXJsLCB3aW5kb3dOYW1lLCB3aW5kb3dGZWF0dXJlcywgcmVwbGFjZUZsYWcpXG4gICAqICh3aGljaCBTZWxlbml1bSBpbnRlcmNlcHRzKS5cbiAgICogPC9saT5cbiAgICogPGxpPjxzdHJvbmc+dmFyPC9zdHJvbmc+PTxlbT52YXJpYWJsZU5hbWU8L2VtPjpcbiAgICogU29tZSBwb3AtdXAgd2luZG93cyBhcmUgdW5uYW1lZCAoYW5vbnltb3VzKSwgYnV0IGFyZSBhc3NvY2lhdGVkIHdpdGggYSBKYXZhU2NyaXB0IHZhcmlhYmxlIG5hbWUgaW4gdGhlIGN1cnJlbnRcbiAgICogYXBwbGljYXRpb24gd2luZG93LCBlLmcuIFwid2luZG93LmZvbyA9IHdpbmRvdy5vcGVuKHVybCk7XCIuICBJbiB0aG9zZSBjYXNlcywgeW91IGNhbiBvcGVuIHRoZSB3aW5kb3cgdXNpbmdcbiAgICogXCJ2YXI9Zm9vXCIuXG4gICAqIDwvbGk+XG4gICAqIDwvdWw+XG4gICAqIDxwPlxuICAgKiBJZiBubyB3aW5kb3cgbG9jYXRvciBwcmVmaXggaXMgcHJvdmlkZWQsIHdlJ2xsIHRyeSB0byBndWVzcyB3aGF0IHlvdSBtZWFuIGxpa2UgdGhpczo8L3A+XG4gICAqIDxwPjEuKSBpZiB3aW5kb3dJRCBpcyBudWxsLCAob3IgdGhlIHN0cmluZyBcIm51bGxcIikgdGhlbiBpdCBpcyBhc3N1bWVkIHRoZSB1c2VyIGlzIHJlZmVycmluZyB0byB0aGUgb3JpZ2luYWwgd2luZG93IGluc3RhbnRpYXRlZCBieSB0aGUgYnJvd3NlcikuPC9wPlxuICAgKiA8cD4yLikgaWYgdGhlIHZhbHVlIG9mIHRoZSBcIndpbmRvd0lEXCIgcGFyYW1ldGVyIGlzIGEgSmF2YVNjcmlwdCB2YXJpYWJsZSBuYW1lIGluIHRoZSBjdXJyZW50IGFwcGxpY2F0aW9uIHdpbmRvdywgdGhlbiBpdCBpcyBhc3N1bWVkXG4gICAqIHRoYXQgdGhpcyB2YXJpYWJsZSBjb250YWlucyB0aGUgcmV0dXJuIHZhbHVlIGZyb20gYSBjYWxsIHRvIHRoZSBKYXZhU2NyaXB0IHdpbmRvdy5vcGVuKCkgbWV0aG9kLjwvcD5cbiAgICogPHA+My4pIE90aGVyd2lzZSwgc2VsZW5pdW0gbG9va3MgaW4gYSBoYXNoIGl0IG1haW50YWlucyB0aGF0IG1hcHMgc3RyaW5nIG5hbWVzIHRvIHdpbmRvdyBcIm5hbWVzXCIuPC9wPlxuICAgKiA8cD40LikgSWYgPGVtPnRoYXQ8L2VtPiBmYWlscywgd2UnbGwgdHJ5IGxvb3Bpbmcgb3ZlciBhbGwgb2YgdGhlIGtub3duIHdpbmRvd3MgdG8gdHJ5IHRvIGZpbmQgdGhlIGFwcHJvcHJpYXRlIFwidGl0bGVcIi5cbiAgICogU2luY2UgXCJ0aXRsZVwiIGlzIG5vdCBuZWNlc3NhcmlseSB1bmlxdWUsIHRoaXMgbWF5IGhhdmUgdW5leHBlY3RlZCBiZWhhdmlvci48L3A+XG4gICAqXG4gICAqIDxwPklmIHlvdSdyZSBoYXZpbmcgdHJvdWJsZSBmaWd1cmluZyBvdXQgdGhlIG5hbWUgb2YgYSB3aW5kb3cgdGhhdCB5b3Ugd2FudCB0byBtYW5pcHVsYXRlLCBsb29rIGF0IHRoZSBTZWxlbml1bSBsb2cgbWVzc2FnZXNcbiAgICogd2hpY2ggaWRlbnRpZnkgdGhlIG5hbWVzIG9mIHdpbmRvd3MgY3JlYXRlZCB2aWEgd2luZG93Lm9wZW4gKGFuZCB0aGVyZWZvcmUgaW50ZXJjZXB0ZWQgYnkgU2VsZW5pdW0pLiAgWW91IHdpbGwgc2VlIG1lc3NhZ2VzXG4gICAqIGxpa2UgdGhlIGZvbGxvd2luZyBmb3IgZWFjaCB3aW5kb3cgYXMgaXQgaXMgb3BlbmVkOjwvcD5cbiAgICpcbiAgICogPHA+PGNvZGU+ZGVidWc6IHdpbmRvdy5vcGVuIGNhbGwgaW50ZXJjZXB0ZWQ7IHdpbmRvdyBJRCAod2hpY2ggeW91IGNhbiB1c2Ugd2l0aCBzZWxlY3RXaW5kb3coKSkgaXMgXCJteU5ld1dpbmRvd1wiPC9jb2RlPjwvcD5cbiAgICpcbiAgICogPHA+SW4gc29tZSBjYXNlcywgU2VsZW5pdW0gd2lsbCBiZSB1bmFibGUgdG8gaW50ZXJjZXB0IGEgY2FsbCB0byB3aW5kb3cub3BlbiAoaWYgdGhlIGNhbGwgb2NjdXJzIGR1cmluZyBvciBiZWZvcmUgdGhlIFwib25Mb2FkXCIgZXZlbnQsIGZvciBleGFtcGxlKS5cbiAgICogKFRoaXMgaXMgYnVnIFNFTC0zMzkuKSAgSW4gdGhvc2UgY2FzZXMsIHlvdSBjYW4gZm9yY2UgU2VsZW5pdW0gdG8gbm90aWNlIHRoZSBvcGVuIHdpbmRvdydzIG5hbWUgYnkgdXNpbmcgdGhlIFNlbGVuaXVtIG9wZW5XaW5kb3cgY29tbWFuZCwgdXNpbmdcbiAgICogYW4gZW1wdHkgKGJsYW5rKSB1cmwsIGxpa2UgdGhpczogb3BlbldpbmRvdyhcIlwiLCBcIm15RnVubnlXaW5kb3dcIikuPC9wPlxuICAgKlxuICAgKiBAcGFyYW0gd2luZG93SUQgdGhlIEphdmFTY3JpcHQgd2luZG93IElEIG9mIHRoZSB3aW5kb3cgdG8gc2VsZWN0XG4gICAqL3RoaXMuYnJvd3NlcmJvdC5zZWxlY3RXaW5kb3cod2luZG93SUQpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU2VsZWN0UG9wVXA9ZnVuY3Rpb24od2luZG93SUQpey8qKlxuICAgKiBTaW1wbGlmaWVzIHRoZSBwcm9jZXNzIG9mIHNlbGVjdGluZyBhIHBvcHVwIHdpbmRvdyAoYW5kIGRvZXMgbm90IG9mZmVyXG4gICAqIGZ1bmN0aW9uYWxpdHkgYmV5b25kIHdoYXQgPGNvZGU+c2VsZWN0V2luZG93KCk8L2NvZGU+IGFscmVhZHkgcHJvdmlkZXMpLlxuICAgKiA8dWw+XG4gICAqIDxsaT5JZiA8Y29kZT53aW5kb3dJRDwvY29kZT4gaXMgZWl0aGVyIG5vdCBzcGVjaWZpZWQsIG9yIHNwZWNpZmllZCBhc1xuICAgKiBcIm51bGxcIiwgdGhlIGZpcnN0IG5vbi10b3Agd2luZG93IGlzIHNlbGVjdGVkLiBUaGUgdG9wIHdpbmRvdyBpcyB0aGUgb25lXG4gICAqIHRoYXQgd291bGQgYmUgc2VsZWN0ZWQgYnkgPGNvZGU+c2VsZWN0V2luZG93KCk8L2NvZGU+IHdpdGhvdXQgcHJvdmlkaW5nIGFcbiAgICogPGNvZGU+d2luZG93SUQ8L2NvZGU+IC4gVGhpcyBzaG91bGQgbm90IGJlIHVzZWQgd2hlbiBtb3JlIHRoYW4gb25lIHBvcHVwXG4gICAqIHdpbmRvdyBpcyBpbiBwbGF5LjwvbGk+XG4gICAqIDxsaT5PdGhlcndpc2UsIHRoZSB3aW5kb3cgd2lsbCBiZSBsb29rZWQgdXAgY29uc2lkZXJpbmdcbiAgICogPGNvZGU+d2luZG93SUQ8L2NvZGU+IGFzIHRoZSBmb2xsb3dpbmcgaW4gb3JkZXI6IDEpIHRoZSBcIm5hbWVcIiBvZiB0aGVcbiAgICogd2luZG93LCBhcyBzcGVjaWZpZWQgdG8gPGNvZGU+d2luZG93Lm9wZW4oKTwvY29kZT47IDIpIGEgamF2YXNjcmlwdFxuICAgKiB2YXJpYWJsZSB3aGljaCBpcyBhIHJlZmVyZW5jZSB0byBhIHdpbmRvdzsgYW5kIDMpIHRoZSB0aXRsZSBvZiB0aGVcbiAgICogd2luZG93LiBUaGlzIGlzIHRoZSBzYW1lIG9yZGVyZWQgbG9va3VwIHBlcmZvcm1lZCBieVxuICAgKiA8Y29kZT5zZWxlY3RXaW5kb3c8L2NvZGU+IC48L2xpPlxuICAgKiA8L3VsPlxuICAgKlxuICAgKiBAcGFyYW0gd2luZG93SUQgIGFuIGlkZW50aWZpZXIgZm9yIHRoZSBwb3B1cCB3aW5kb3csIHdoaWNoIGNhbiB0YWtlIG9uIGFcbiAgICogICAgICAgICAgICAgICAgICBudW1iZXIgb2YgZGlmZmVyZW50IG1lYW5pbmdzXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5zZWxlY3RQb3BVcCh3aW5kb3dJRCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9EZXNlbGVjdFBvcFVwPWZ1bmN0aW9uKCl7LyoqXG4gICAqIFNlbGVjdHMgdGhlIG1haW4gd2luZG93LiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byB1c2luZ1xuICAgKiA8Y29kZT5zZWxlY3RXaW5kb3coKTwvY29kZT4gYW5kIHNwZWNpZnlpbmcgbm8gdmFsdWUgZm9yXG4gICAqIDxjb2RlPndpbmRvd0lEPC9jb2RlPi5cbiAgICovdGhpcy5icm93c2VyYm90LnNlbGVjdFdpbmRvdygpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvU2VsZWN0RnJhbWU9ZnVuY3Rpb24obG9jYXRvcil7LyoqXG4gICAqIFNlbGVjdHMgYSBmcmFtZSB3aXRoaW4gdGhlIGN1cnJlbnQgd2luZG93LiAgKFlvdSBtYXkgaW52b2tlIHRoaXMgY29tbWFuZFxuICAgKiBtdWx0aXBsZSB0aW1lcyB0byBzZWxlY3QgbmVzdGVkIGZyYW1lcy4pICBUbyBzZWxlY3QgdGhlIHBhcmVudCBmcmFtZSwgdXNlXG4gICAqIFwicmVsYXRpdmU9cGFyZW50XCIgYXMgYSBsb2NhdG9yOyB0byBzZWxlY3QgdGhlIHRvcCBmcmFtZSwgdXNlIFwicmVsYXRpdmU9dG9wXCIuXG4gICAqIFlvdSBjYW4gYWxzbyBzZWxlY3QgYSBmcmFtZSBieSBpdHMgMC1iYXNlZCBpbmRleCBudW1iZXI7IHNlbGVjdCB0aGUgZmlyc3QgZnJhbWUgd2l0aFxuICAgKiBcImluZGV4PTBcIiwgb3IgdGhlIHRoaXJkIGZyYW1lIHdpdGggXCJpbmRleD0yXCIuXG4gICAqXG4gICAqIDxwPllvdSBtYXkgYWxzbyB1c2UgYSBET00gZXhwcmVzc2lvbiB0byBpZGVudGlmeSB0aGUgZnJhbWUgeW91IHdhbnQgZGlyZWN0bHksXG4gICAqIGxpa2UgdGhpczogPGNvZGU+ZG9tPWZyYW1lc1tcIm1haW5cIl0uZnJhbWVzW1wic3ViZnJhbWVcIl08L2NvZGU+PC9wPlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBpZGVudGlmeWluZyBhIGZyYW1lIG9yIGlmcmFtZVxuICAgKi90aGlzLmJyb3dzZXJib3Quc2VsZWN0RnJhbWUobG9jYXRvcik7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0V2hldGhlclRoaXNGcmFtZU1hdGNoRnJhbWVFeHByZXNzaW9uPWZ1bmN0aW9uKGN1cnJlbnRGcmFtZVN0cmluZyx0YXJnZXQpey8qKlxuICAgKiBEZXRlcm1pbmUgd2hldGhlciBjdXJyZW50L2xvY2F0b3IgaWRlbnRpZnkgdGhlIGZyYW1lIGNvbnRhaW5pbmcgdGhpcyBydW5uaW5nIGNvZGUuXG4gICAqXG4gICAqIDxwPlRoaXMgaXMgdXNlZnVsIGluIHByb3h5IGluamVjdGlvbiBtb2RlLCB3aGVyZSB0aGlzIGNvZGUgcnVucyBpbiBldmVyeVxuICAgKiBicm93c2VyIGZyYW1lIGFuZCB3aW5kb3csIGFuZCBzb21ldGltZXMgdGhlIHNlbGVuaXVtIHNlcnZlciBuZWVkcyB0byBpZGVudGlmeVxuICAgKiB0aGUgXCJjdXJyZW50XCIgZnJhbWUuICBJbiB0aGlzIGNhc2UsIHdoZW4gdGhlIHRlc3QgY2FsbHMgc2VsZWN0RnJhbWUsIHRoaXNcbiAgICogcm91dGluZSBpcyBjYWxsZWQgZm9yIGVhY2ggZnJhbWUgdG8gZmlndXJlIG91dCB3aGljaCBvbmUgaGFzIGJlZW4gc2VsZWN0ZWQuXG4gICAqIFRoZSBzZWxlY3RlZCBmcmFtZSB3aWxsIHJldHVybiB0cnVlLCB3aGlsZSBhbGwgb3RoZXJzIHdpbGwgcmV0dXJuIGZhbHNlLjwvcD5cbiAgICpcbiAgICogQHBhcmFtIGN1cnJlbnRGcmFtZVN0cmluZyBzdGFydGluZyBmcmFtZVxuICAgKiBAcGFyYW0gdGFyZ2V0IG5ldyBmcmFtZSAod2hpY2ggbWlnaHQgYmUgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgb25lKVxuICAgKiBAcmV0dXJuIGJvb2xlYW4gdHJ1ZSBpZiB0aGUgbmV3IGZyYW1lIGlzIHRoaXMgY29kZSdzIHdpbmRvd1xuICAgKi9yZXR1cm4gdGhpcy5icm93c2VyYm90LmRvZXNUaGlzRnJhbWVNYXRjaEZyYW1lRXhwcmVzc2lvbihjdXJyZW50RnJhbWVTdHJpbmcsdGFyZ2V0KTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRXaGV0aGVyVGhpc1dpbmRvd01hdGNoV2luZG93RXhwcmVzc2lvbj1mdW5jdGlvbihfY3VycmVudFdpbmRvd1N0cmluZyx0YXJnZXQpey8qKlxuICAgKiBEZXRlcm1pbmUgd2hldGhlciBjdXJyZW50V2luZG93U3RyaW5nIHBsdXMgdGFyZ2V0IGlkZW50aWZ5IHRoZSB3aW5kb3cgY29udGFpbmluZyB0aGlzIHJ1bm5pbmcgY29kZS5cbiAgICpcbiAgICogPHA+VGhpcyBpcyB1c2VmdWwgaW4gcHJveHkgaW5qZWN0aW9uIG1vZGUsIHdoZXJlIHRoaXMgY29kZSBydW5zIGluIGV2ZXJ5XG4gICAqIGJyb3dzZXIgZnJhbWUgYW5kIHdpbmRvdywgYW5kIHNvbWV0aW1lcyB0aGUgc2VsZW5pdW0gc2VydmVyIG5lZWRzIHRvIGlkZW50aWZ5XG4gICAqIHRoZSBcImN1cnJlbnRcIiB3aW5kb3cuICBJbiB0aGlzIGNhc2UsIHdoZW4gdGhlIHRlc3QgY2FsbHMgc2VsZWN0V2luZG93LCB0aGlzXG4gICAqIHJvdXRpbmUgaXMgY2FsbGVkIGZvciBlYWNoIHdpbmRvdyB0byBmaWd1cmUgb3V0IHdoaWNoIG9uZSBoYXMgYmVlbiBzZWxlY3RlZC5cbiAgICogVGhlIHNlbGVjdGVkIHdpbmRvdyB3aWxsIHJldHVybiB0cnVlLCB3aGlsZSBhbGwgb3RoZXJzIHdpbGwgcmV0dXJuIGZhbHNlLjwvcD5cbiAgICpcbiAgICogQHBhcmFtIGN1cnJlbnRXaW5kb3dTdHJpbmcgc3RhcnRpbmcgd2luZG93XG4gICAqIEBwYXJhbSB0YXJnZXQgbmV3IHdpbmRvdyAod2hpY2ggbWlnaHQgYmUgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgb25lLCBlLmcuLCBcIl9wYXJlbnRcIilcbiAgICogQHJldHVybiBib29sZWFuIHRydWUgaWYgdGhlIG5ldyB3aW5kb3cgaXMgdGhpcyBjb2RlJ3Mgd2luZG93XG4gICAqL2lmKHdpbmRvdy5vcGVuZXIhPW51bGwmJndpbmRvdy5vcGVuZXJbdGFyZ2V0XSE9bnVsbCYmd2luZG93Lm9wZW5lclt0YXJnZXRdPT13aW5kb3cpe3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9XYWl0Rm9yUG9wVXA9ZnVuY3Rpb24od2luZG93SUQsdGltZW91dCl7LyoqXG4gICAqIFdhaXRzIGZvciBhIHBvcHVwIHdpbmRvdyB0byBhcHBlYXIgYW5kIGxvYWQgdXAuXG4gICAqXG4gICAqIEBwYXJhbSB3aW5kb3dJRCB0aGUgSmF2YVNjcmlwdCB3aW5kb3cgXCJuYW1lXCIgb2YgdGhlIHdpbmRvdyB0aGF0IHdpbGwgYXBwZWFyIChub3QgdGhlIHRleHQgb2YgdGhlIHRpdGxlIGJhcilcbiAgICogICAgICAgICAgICAgICAgIElmIHVuc3BlY2lmaWVkLCBvciBzcGVjaWZpZWQgYXMgXCJudWxsXCIsIHRoaXMgY29tbWFuZCB3aWxsXG4gICAqICAgICAgICAgICAgICAgICB3YWl0IGZvciB0aGUgZmlyc3Qgbm9uLXRvcCB3aW5kb3cgdG8gYXBwZWFyIChkb24ndCByZWx5XG4gICAqICAgICAgICAgICAgICAgICBvbiB0aGlzIGlmIHlvdSBhcmUgd29ya2luZyB3aXRoIG11bHRpcGxlIHBvcHVwc1xuICAgKiAgICAgICAgICAgICAgICAgc2ltdWx0YW5lb3VzbHkpLlxuICAgKiBAcGFyYW0gdGltZW91dCBhIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzLCBhZnRlciB3aGljaCB0aGUgYWN0aW9uIHdpbGwgcmV0dXJuIHdpdGggYW4gZXJyb3IuXG4gICAqICAgICAgICAgICAgICAgIElmIHRoaXMgdmFsdWUgaXMgbm90IHNwZWNpZmllZCwgdGhlIGRlZmF1bHQgU2VsZW5pdW1cbiAgICogICAgICAgICAgICAgICAgdGltZW91dCB3aWxsIGJlIHVzZWQuIFNlZSB0aGUgc2V0VGltZW91dCgpIGNvbW1hbmQuXG4gICAqL2lmKCF0aW1lb3V0KXt0aW1lb3V0PXRoaXMuZGVmYXVsdFRpbWVvdXQ7fWxldCB0aW1lb3V0VGltZT1nZXRUaW1lb3V0VGltZSh0aW1lb3V0KTtsZXQgcG9wdXBMb2FkZWRQcmVkaWNhdGU9ZnVuY3Rpb24oKXtsZXQgdGFyZ2V0V2luZG93O3RyeXtpZih3aW5kb3dJRCYmd2luZG93SUQhPSdudWxsJyl7dGFyZ2V0V2luZG93PXNlbGVuaXVtLmJyb3dzZXJib3QuZ2V0V2luZG93QnlOYW1lKHdpbmRvd0lELHRydWUpO31lbHNle2xldCBuYW1lcz1zZWxlbml1bS5icm93c2VyYm90LmdldE5vblRvcFdpbmRvd05hbWVzKCk7dGFyZ2V0V2luZG93PXNlbGVuaXVtLmJyb3dzZXJib3QuZ2V0V2luZG93QnlOYW1lKG5hbWVzWzBdLHRydWUpO319Y2F0Y2goZSl7aWYobmV3IERhdGUoKS5nZXRUaW1lKCk+dGltZW91dFRpbWUpe3Rocm93IGU7fX1pZighdGFyZ2V0V2luZG93KXJldHVybiBmYWxzZTt0cnl7aWYoIXRhcmdldFdpbmRvdy5sb2NhdGlvbilyZXR1cm4gZmFsc2U7aWYoJ2Fib3V0OmJsYW5rJz09dGFyZ2V0V2luZG93LmxvY2F0aW9uKXJldHVybiBmYWxzZTt9Y2F0Y2goZSl7Ly9MT0cuZGVidWcoXCJMb2NhdGlvbiBleGNlcHRpb24gKFwiICsgZS5tZXNzYWdlICsgXCIpIVwiKTtcbnJldHVybiBmYWxzZTt9aWYoYnJvd3NlclZlcnNpb24uaXNLb25xdWVyb3Ipe2lmKCcvJz09dGFyZ2V0V2luZG93LmxvY2F0aW9uLmhyZWYpey8vIGFwcGFyZW50bHkgS29ucXVlcm9yIHVzZXMgdGhpcyBhcyB0aGUgdGVtcG9yYXJ5IGxvY2F0aW9uLCBpbnN0ZWFkIG9mIGFib3V0OmJsYW5rXG5yZXR1cm4gZmFsc2U7fX1pZihicm93c2VyVmVyc2lvbi5pc1NhZmFyaSl7aWYodGFyZ2V0V2luZG93LmxvY2F0aW9uLmhyZWY9PXNlbGVuaXVtLmJyb3dzZXJib3QuYnV0dG9uV2luZG93LmxvY2F0aW9uLmhyZWYpey8vIEFwcGFyZW50bHkgU2FmYXJpIHVzZXMgdGhpcyBhcyB0aGUgdGVtcG9yYXJ5IGxvY2F0aW9uLCBpbnN0ZWFkIG9mIGFib3V0OmJsYW5rXG4vLyB3aGF0IGEgd29ybGQhXG4vL0xPRy5kZWJ1ZyhcIkRHRiB3aGF0IGEgd29ybGQhXCIpO1xucmV0dXJuIGZhbHNlO319aWYoIXRhcmdldFdpbmRvdy5kb2N1bWVudClyZXR1cm4gZmFsc2U7aWYoIXNlbGVuaXVtLmJyb3dzZXJib3QuZ2V0Q3VycmVudFdpbmRvdygpLmRvY3VtZW50LnJlYWR5U3RhdGUpey8vIFRoaXMgaXMgRmlyZWZveCwgd2l0aCBubyByZWFkeVN0YXRlIGV4dGVuc2lvblxucmV0dXJuIHRydWU7fWlmKCdjb21wbGV0ZSchPXRhcmdldFdpbmRvdy5kb2N1bWVudC5yZWFkeVN0YXRlKXJldHVybiBmYWxzZTtyZXR1cm4gdHJ1ZTt9O3JldHVybiBTZWxlbml1bS5kZWNvcmF0ZUZ1bmN0aW9uV2l0aFRpbWVvdXQocG9wdXBMb2FkZWRQcmVkaWNhdGUsdGltZW91dCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9XYWl0Rm9yUG9wVXAuZG9udENoZWNrQWxlcnRzQW5kQ29uZmlybXM9dHJ1ZTsvL1NlbGVuaXVtLnByb3RvdHlwZS5kb0Nob29zZUNhbmNlbE9uTmV4dENvbmZpcm1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuLyoqXG4gKiA8cD5cbiAqIEJ5IGRlZmF1bHQsIFNlbGVuaXVtJ3Mgb3ZlcnJpZGRlbiB3aW5kb3cuY29uZmlybSgpIGZ1bmN0aW9uIHdpbGxcbiAqIHJldHVybiB0cnVlLCBhcyBpZiB0aGUgdXNlciBoYWQgbWFudWFsbHkgY2xpY2tlZCBPSzsgYWZ0ZXIgcnVubmluZ1xuICogdGhpcyBjb21tYW5kLCB0aGUgbmV4dCBjYWxsIHRvIGNvbmZpcm0oKSB3aWxsIHJldHVybiBmYWxzZSwgYXMgaWZcbiAqIHRoZSB1c2VyIGhhZCBjbGlja2VkIENhbmNlbC4gIFNlbGVuaXVtIHdpbGwgdGhlbiByZXN1bWUgdXNpbmcgdGhlXG4gKiBkZWZhdWx0IGJlaGF2aW9yIGZvciBmdXR1cmUgY29uZmlybWF0aW9ucywgYXV0b21hdGljYWxseSByZXR1cm5pbmdcbiAqIHRydWUgKE9LKSB1bmxlc3MvdW50aWwgeW91IGV4cGxpY2l0bHkgY2FsbCB0aGlzIGNvbW1hbmQgZm9yIGVhY2hcbiAqIGNvbmZpcm1hdGlvbi5cbiAqIDwvcD5cbiAqIDxwPlxuICogVGFrZSBub3RlIC0gZXZlcnkgdGltZSBhIGNvbmZpcm1hdGlvbiBjb21lcyB1cCwgeW91IG11c3RcbiAqIGNvbnN1bWUgaXQgd2l0aCBhIGNvcnJlc3BvbmRpbmcgZ2V0Q29uZmlybWF0aW9uLCBvciBlbHNlXG4gKiB0aGUgbmV4dCBzZWxlbml1bSBvcGVyYXRpb24gd2lsbCBmYWlsLlxuICogPC9wPlxuICovIC8vdGhpcy5icm93c2VyYm90LmNhbmNlbE5leHRDb25maXJtYXRpb24oZmFsc2UpO1xuLy99O1xuLy9TZWxlbml1bS5wcm90b3R5cGUuZG9DaG9vc2VPa09uTmV4dENvbmZpcm1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuLyoqXG4gKiA8cD5cbiAqIFVuZG8gdGhlIGVmZmVjdCBvZiBjYWxsaW5nIGNob29zZUNhbmNlbE9uTmV4dENvbmZpcm1hdGlvbi4gIE5vdGVcbiAqIHRoYXQgU2VsZW5pdW0ncyBvdmVycmlkZGVuIHdpbmRvdy5jb25maXJtKCkgZnVuY3Rpb24gd2lsbCBub3JtYWxseSBhdXRvbWF0aWNhbGx5XG4gKiByZXR1cm4gdHJ1ZSwgYXMgaWYgdGhlIHVzZXIgaGFkIG1hbnVhbGx5IGNsaWNrZWQgT0ssIHNvIHlvdSBzaG91bGRuJ3RcbiAqIG5lZWQgdG8gdXNlIHRoaXMgY29tbWFuZCB1bmxlc3MgZm9yIHNvbWUgcmVhc29uIHlvdSBuZWVkIHRvIGNoYW5nZVxuICogeW91ciBtaW5kIHByaW9yIHRvIHRoZSBuZXh0IGNvbmZpcm1hdGlvbi4gIEFmdGVyIGFueSBjb25maXJtYXRpb24sIFNlbGVuaXVtIHdpbGwgcmVzdW1lIHVzaW5nIHRoZVxuICogZGVmYXVsdCBiZWhhdmlvciBmb3IgZnV0dXJlIGNvbmZpcm1hdGlvbnMsIGF1dG9tYXRpY2FsbHkgcmV0dXJuaW5nXG4gKiB0cnVlIChPSykgdW5sZXNzL3VudGlsIHlvdSBleHBsaWNpdGx5IGNhbGwgY2hvb3NlQ2FuY2VsT25OZXh0Q29uZmlybWF0aW9uIGZvciBlYWNoXG4gKiBjb25maXJtYXRpb24uXG4gKiA8L3A+XG4gKiA8cD5cbiAqIFRha2Ugbm90ZSAtIGV2ZXJ5IHRpbWUgYSBjb25maXJtYXRpb24gY29tZXMgdXAsIHlvdSBtdXN0XG4gKiBjb25zdW1lIGl0IHdpdGggYSBjb3JyZXNwb25kaW5nIGdldENvbmZpcm1hdGlvbiwgb3IgZWxzZVxuICogdGhlIG5leHQgc2VsZW5pdW0gb3BlcmF0aW9uIHdpbGwgZmFpbC5cbiAqIDwvcD5cbiAqXG4gKi8gLy90aGlzLmJyb3dzZXJib3QuY2FuY2VsTmV4dENvbmZpcm1hdGlvbih0cnVlKTtcbi8vfTtcbi8vU2VsZW5pdW0ucHJvdG90eXBlLmRvQW5zd2VyT25OZXh0UHJvbXB0ID0gZnVuY3Rpb24oYW5zd2VyKSB7XG4vKipcbiAqIEluc3RydWN0cyBTZWxlbml1bSB0byByZXR1cm4gdGhlIHNwZWNpZmllZCBhbnN3ZXIgc3RyaW5nIGluIHJlc3BvbnNlIHRvXG4gKiB0aGUgbmV4dCBKYXZhU2NyaXB0IHByb21wdCBbd2luZG93LnByb21wdCgpXS5cbiAqXG4gKlxuICogQHBhcmFtIGFuc3dlciB0aGUgYW5zd2VyIHRvIGdpdmUgaW4gcmVzcG9uc2UgdG8gdGhlIHByb21wdCBwb3AtdXBcbiAqLyAvL3RoaXMuYnJvd3NlcmJvdC5zZXROZXh0UHJvbXB0UmVzdWx0KGFuc3dlcik7XG4vL307XG5TZWxlbml1bS5wcm90b3R5cGUuZG9Hb0JhY2s9ZnVuY3Rpb24oKXsvKipcbiAgICogU2ltdWxhdGVzIHRoZSB1c2VyIGNsaWNraW5nIHRoZSBcImJhY2tcIiBidXR0b24gb24gdGhlaXIgYnJvd3Nlci5cbiAgICpcbiAgICovdGhpcy5icm93c2VyYm90LmdvQmFjaygpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvUmVmcmVzaD1mdW5jdGlvbigpey8qKlxuICAgKiBTaW11bGF0ZXMgdGhlIHVzZXIgY2xpY2tpbmcgdGhlIFwiUmVmcmVzaFwiIGJ1dHRvbiBvbiB0aGVpciBicm93c2VyLlxuICAgKlxuICAgKi90aGlzLmJyb3dzZXJib3QucmVmcmVzaCgpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQ2xvc2U9ZnVuY3Rpb24oKXsvKipcbiAgICogU2ltdWxhdGVzIHRoZSB1c2VyIGNsaWNraW5nIHRoZSBcImNsb3NlXCIgYnV0dG9uIGluIHRoZSB0aXRsZWJhciBvZiBhIHBvcHVwXG4gICAqIHdpbmRvdyBvciB0YWIuXG4gICAqL3RoaXMuYnJvd3NlcmJvdC5jbG9zZSgpO307U2VsZW5pdW0ucHJvdG90eXBlLmVuc3VyZU5vVW5oYW5kbGVkUG9wdXBzPWZ1bmN0aW9uKCl7aWYodGhpcy5icm93c2VyYm90Lmhhc0FsZXJ0cygpKXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignVGhlcmUgd2FzIGFuIHVuZXhwZWN0ZWQgQWxlcnQhIFsnK3RoaXMuYnJvd3NlcmJvdC5nZXROZXh0QWxlcnQoKSsnXScpO31pZih0aGlzLmJyb3dzZXJib3QuaGFzQ29uZmlybWF0aW9ucygpKXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignVGhlcmUgd2FzIGFuIHVuZXhwZWN0ZWQgQ29uZmlybWF0aW9uISBbJyt0aGlzLmJyb3dzZXJib3QuZ2V0TmV4dENvbmZpcm1hdGlvbigpKyddJyk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmlzQWxlcnRQcmVzZW50PWZ1bmN0aW9uKCl7LyoqXG4gICAqIEhhcyBhbiBhbGVydCBvY2N1cnJlZD9cbiAgICpcbiAgICogPHA+XG4gICAqIFRoaXMgZnVuY3Rpb24gbmV2ZXIgdGhyb3dzIGFuIGV4Y2VwdGlvblxuICAgKiA8L3A+XG4gICAqIEByZXR1cm4gYm9vbGVhbiB0cnVlIGlmIHRoZXJlIGlzIGFuIGFsZXJ0XG4gICAqL3JldHVybiB0aGlzLmJyb3dzZXJib3QuaGFzQWxlcnRzKCk7fTtTZWxlbml1bS5wcm90b3R5cGUuaXNQcm9tcHRQcmVzZW50PWZ1bmN0aW9uKCl7LyoqXG4gICAqIEhhcyBhIHByb21wdCBvY2N1cnJlZD9cbiAgICpcbiAgICogPHA+XG4gICAqIFRoaXMgZnVuY3Rpb24gbmV2ZXIgdGhyb3dzIGFuIGV4Y2VwdGlvblxuICAgKiA8L3A+XG4gICAqIEByZXR1cm4gYm9vbGVhbiB0cnVlIGlmIHRoZXJlIGlzIGEgcGVuZGluZyBwcm9tcHRcbiAgICovcmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5oYXNQcm9tcHRzKCk7fTtTZWxlbml1bS5wcm90b3R5cGUuaXNDb25maXJtYXRpb25QcmVzZW50PWZ1bmN0aW9uKCl7LyoqXG4gICAqIEhhcyBjb25maXJtKCkgYmVlbiBjYWxsZWQ/XG4gICAqXG4gICAqIDxwPlxuICAgKiBUaGlzIGZ1bmN0aW9uIG5ldmVyIHRocm93cyBhbiBleGNlcHRpb25cbiAgICogPC9wPlxuICAgKiBAcmV0dXJuIGJvb2xlYW4gdHJ1ZSBpZiB0aGVyZSBpcyBhIHBlbmRpbmcgY29uZmlybWF0aW9uXG4gICAqL3JldHVybiB0aGlzLmJyb3dzZXJib3QuaGFzQ29uZmlybWF0aW9ucygpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldEFsZXJ0PWZ1bmN0aW9uKCl7LyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBtZXNzYWdlIG9mIGEgSmF2YVNjcmlwdCBhbGVydCBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBwcmV2aW91cyBhY3Rpb24sIG9yIGZhaWwgaWYgdGhlcmUgd2VyZSBubyBhbGVydHMuXG4gICAgICpcbiAgICAgKiA8cD5HZXR0aW5nIGFuIGFsZXJ0IGhhcyB0aGUgc2FtZSBlZmZlY3QgYXMgbWFudWFsbHkgY2xpY2tpbmcgT0suIElmIGFuXG4gICAgICogYWxlcnQgaXMgZ2VuZXJhdGVkIGJ1dCB5b3UgZG8gbm90IGNvbnN1bWUgaXQgd2l0aCBnZXRBbGVydCwgdGhlIG5leHQgU2VsZW5pdW0gYWN0aW9uXG4gICAgICogd2lsbCBmYWlsLjwvcD5cbiAgICAgKlxuICAgICAqIDxwPlVuZGVyIFNlbGVuaXVtLCBKYXZhU2NyaXB0IGFsZXJ0cyB3aWxsIE5PVCBwb3AgdXAgYSB2aXNpYmxlIGFsZXJ0XG4gICAgICogZGlhbG9nLjwvcD5cbiAgICAgKlxuICAgICAqIDxwPlNlbGVuaXVtIGRvZXMgTk9UIHN1cHBvcnQgSmF2YVNjcmlwdCBhbGVydHMgdGhhdCBhcmUgZ2VuZXJhdGVkIGluIGFcbiAgICAgKiBwYWdlJ3Mgb25sb2FkKCkgZXZlbnQgaGFuZGxlci4gSW4gdGhpcyBjYXNlIGEgdmlzaWJsZSBkaWFsb2cgV0lMTCBiZVxuICAgICAqIGdlbmVyYXRlZCBhbmQgU2VsZW5pdW0gd2lsbCBoYW5nIHVudGlsIHNvbWVvbmUgbWFudWFsbHkgY2xpY2tzIE9LLjwvcD5cbiAgICAgKiBAcmV0dXJuIHN0cmluZyBUaGUgbWVzc2FnZSBvZiB0aGUgbW9zdCByZWNlbnQgSmF2YVNjcmlwdCBhbGVydFxuXG4gICAgICovaWYoIXRoaXMuYnJvd3NlcmJvdC5oYXNBbGVydHMoKSl7QXNzZXJ0LmZhaWwoJ1RoZXJlIHdlcmUgbm8gYWxlcnRzJyk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufXJldHVybiB0aGlzLmJyb3dzZXJib3QuZ2V0TmV4dEFsZXJ0KCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0QWxlcnQuZG9udENoZWNrQWxlcnRzQW5kQ29uZmlybXM9dHJ1ZTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0Q29uZmlybWF0aW9uPWZ1bmN0aW9uKCl7LyoqXG4gICAqIFJldHJpZXZlcyB0aGUgbWVzc2FnZSBvZiBhIEphdmFTY3JpcHQgY29uZmlybWF0aW9uIGRpYWxvZyBnZW5lcmF0ZWQgZHVyaW5nXG4gICAqIHRoZSBwcmV2aW91cyBhY3Rpb24uXG4gICAqXG4gICAqIDxwPlxuICAgKiBCeSBkZWZhdWx0LCB0aGUgY29uZmlybSBmdW5jdGlvbiB3aWxsIHJldHVybiB0cnVlLCBoYXZpbmcgdGhlIHNhbWUgZWZmZWN0XG4gICAqIGFzIG1hbnVhbGx5IGNsaWNraW5nIE9LLiBUaGlzIGNhbiBiZSBjaGFuZ2VkIGJ5IHByaW9yIGV4ZWN1dGlvbiBvZiB0aGVcbiAgICogY2hvb3NlQ2FuY2VsT25OZXh0Q29uZmlybWF0aW9uIGNvbW1hbmQuXG4gICAqIDwvcD5cbiAgICogPHA+XG4gICAqIElmIGFuIGNvbmZpcm1hdGlvbiBpcyBnZW5lcmF0ZWQgYnV0IHlvdSBkbyBub3QgY29uc3VtZSBpdCB3aXRoIGdldENvbmZpcm1hdGlvbixcbiAgICogdGhlIG5leHQgU2VsZW5pdW0gYWN0aW9uIHdpbGwgZmFpbC5cbiAgICogPC9wPlxuICAgKlxuICAgKiA8cD5cbiAgICogTk9URTogdW5kZXIgU2VsZW5pdW0sIEphdmFTY3JpcHQgY29uZmlybWF0aW9ucyB3aWxsIE5PVCBwb3AgdXAgYSB2aXNpYmxlXG4gICAqIGRpYWxvZy5cbiAgICogPC9wPlxuICAgKlxuICAgKiA8cD5cbiAgICogTk9URTogU2VsZW5pdW0gZG9lcyBOT1Qgc3VwcG9ydCBKYXZhU2NyaXB0IGNvbmZpcm1hdGlvbnMgdGhhdCBhcmVcbiAgICogZ2VuZXJhdGVkIGluIGEgcGFnZSdzIG9ubG9hZCgpIGV2ZW50IGhhbmRsZXIuIEluIHRoaXMgY2FzZSBhIHZpc2libGVcbiAgICogZGlhbG9nIFdJTEwgYmUgZ2VuZXJhdGVkIGFuZCBTZWxlbml1bSB3aWxsIGhhbmcgdW50aWwgeW91IG1hbnVhbGx5IGNsaWNrXG4gICAqIE9LLlxuICAgKiA8L3A+XG4gICAqXG4gICAqIEByZXR1cm4gc3RyaW5nIHRoZSBtZXNzYWdlIG9mIHRoZSBtb3N0IHJlY2VudCBKYXZhU2NyaXB0IGNvbmZpcm1hdGlvbiBkaWFsb2dcbiAgICovaWYoIXRoaXMuYnJvd3NlcmJvdC5oYXNDb25maXJtYXRpb25zKCkpe0Fzc2VydC5mYWlsKCdUaGVyZSB3ZXJlIG5vIGNvbmZpcm1hdGlvbnMnKTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG59cmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5nZXROZXh0Q29uZmlybWF0aW9uKCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0Q29uZmlybWF0aW9uLmRvbnRDaGVja0FsZXJ0c0FuZENvbmZpcm1zPXRydWU7U2VsZW5pdW0ucHJvdG90eXBlLmdldFByb21wdD1mdW5jdGlvbigpey8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIG1lc3NhZ2Ugb2YgYSBKYXZhU2NyaXB0IHF1ZXN0aW9uIHByb21wdCBkaWFsb2cgZ2VuZXJhdGVkIGR1cmluZ1xuICAgKiB0aGUgcHJldmlvdXMgYWN0aW9uLlxuICAgKlxuICAgKiA8cD5TdWNjZXNzZnVsIGhhbmRsaW5nIG9mIHRoZSBwcm9tcHQgcmVxdWlyZXMgcHJpb3IgZXhlY3V0aW9uIG9mIHRoZVxuICAgKiBhbnN3ZXJPbk5leHRQcm9tcHQgY29tbWFuZC4gSWYgYSBwcm9tcHQgaXMgZ2VuZXJhdGVkIGJ1dCB5b3VcbiAgICogZG8gbm90IGdldC92ZXJpZnkgaXQsIHRoZSBuZXh0IFNlbGVuaXVtIGFjdGlvbiB3aWxsIGZhaWwuPC9wPlxuICAgKlxuICAgKiA8cD5OT1RFOiB1bmRlciBTZWxlbml1bSwgSmF2YVNjcmlwdCBwcm9tcHRzIHdpbGwgTk9UIHBvcCB1cCBhIHZpc2libGVcbiAgICogZGlhbG9nLjwvcD5cbiAgICpcbiAgICogPHA+Tk9URTogU2VsZW5pdW0gZG9lcyBOT1Qgc3VwcG9ydCBKYXZhU2NyaXB0IHByb21wdHMgdGhhdCBhcmUgZ2VuZXJhdGVkIGluIGFcbiAgICogcGFnZSdzIG9ubG9hZCgpIGV2ZW50IGhhbmRsZXIuIEluIHRoaXMgY2FzZSBhIHZpc2libGUgZGlhbG9nIFdJTEwgYmVcbiAgICogZ2VuZXJhdGVkIGFuZCBTZWxlbml1bSB3aWxsIGhhbmcgdW50aWwgc29tZW9uZSBtYW51YWxseSBjbGlja3MgT0suPC9wPlxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgbWVzc2FnZSBvZiB0aGUgbW9zdCByZWNlbnQgSmF2YVNjcmlwdCBxdWVzdGlvbiBwcm9tcHRcbiAgICovaWYoIXRoaXMuYnJvd3NlcmJvdC5oYXNQcm9tcHRzKCkpe0Fzc2VydC5mYWlsKCdUaGVyZSB3ZXJlIG5vIHByb21wdHMnKTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG59cmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5nZXROZXh0UHJvbXB0KCk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0TG9jYXRpb249ZnVuY3Rpb24oKXsvKiogR2V0cyB0aGUgYWJzb2x1dGUgVVJMIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gICAqXG4gICAqIEByZXR1cm4gc3RyaW5nIHRoZSBhYnNvbHV0ZSBVUkwgb2YgdGhlIGN1cnJlbnQgcGFnZVxuICAgKi9yZXR1cm4gdGhpcy5icm93c2VyYm90LmdldEN1cnJlbnRXaW5kb3coKS5sb2NhdGlvbi5ocmVmO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFRpdGxlPWZ1bmN0aW9uKCl7LyoqIEdldHMgdGhlIHRpdGxlIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gICAqXG4gICAqIEByZXR1cm4gc3RyaW5nIHRoZSB0aXRsZSBvZiB0aGUgY3VycmVudCBwYWdlXG4gICAqL3JldHVybiB0aGlzLmJyb3dzZXJib3QuZ2V0VGl0bGUoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRCb2R5VGV4dD1mdW5jdGlvbigpey8qKlxuICAgKiBHZXRzIHRoZSBlbnRpcmUgdGV4dCBvZiB0aGUgcGFnZS5cbiAgICogQHJldHVybiBzdHJpbmcgdGhlIGVudGlyZSB0ZXh0IG9mIHRoZSBwYWdlXG4gICAqL3JldHVybiB0aGlzLmJyb3dzZXJib3QuYm9keVRleHQoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogR2V0cyB0aGUgKHdoaXRlc3BhY2UtdHJpbW1lZCkgdmFsdWUgb2YgYW4gaW5wdXQgZmllbGQgKG9yIGFueXRoaW5nIGVsc2Ugd2l0aCBhIHZhbHVlIHBhcmFtZXRlcikuXG4gICAqIEZvciBjaGVja2JveC9yYWRpbyBlbGVtZW50cywgdGhlIHZhbHVlIHdpbGwgYmUgXCJvblwiIG9yIFwib2ZmXCIgZGVwZW5kaW5nIG9uXG4gICAqIHdoZXRoZXIgdGhlIGVsZW1lbnQgaXMgY2hlY2tlZCBvciBub3QuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XG4gICAqIEByZXR1cm4gc3RyaW5nIHRoZSBlbGVtZW50IHZhbHVlLCBvciBcIm9uL29mZlwiIGZvciBjaGVja2JveC9yYWRpbyBlbGVtZW50c1xuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7cmV0dXJuIGVsZW1lbnQudmFsdWUudHJpbSgpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24obG9jYXRvcil7LyoqXG4gICAqIEdldHMgdGhlIHRleHQgb2YgYW4gZWxlbWVudC4gVGhpcyB3b3JrcyBmb3IgYW55IGVsZW1lbnQgdGhhdCBjb250YWluc1xuICAgKiB0ZXh0LiBUaGlzIGNvbW1hbmQgdXNlcyBlaXRoZXIgdGhlIHRleHRDb250ZW50IChNb3ppbGxhLWxpa2UgYnJvd3NlcnMpIG9yXG4gICAqIHRoZSBpbm5lclRleHQgKElFLWxpa2UgYnJvd3NlcnMpIG9mIHRoZSBlbGVtZW50LCB3aGljaCBpcyB0aGUgcmVuZGVyZWRcbiAgICogdGV4dCBzaG93biB0byB0aGUgdXNlci5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICogQHJldHVybiBzdHJpbmcgdGhlIHRleHQgb2YgdGhlIGVsZW1lbnRcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3JldHVybiBib3QuZG9tLmdldFZpc2libGVUZXh0KGVsZW1lbnQpLnRyaW0oKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRFdmFsPWZ1bmN0aW9uKHNjcmlwdCl7LyoqIEdldHMgdGhlIHJlc3VsdCBvZiBldmFsdWF0aW5nIHRoZSBzcGVjaWZpZWQgSmF2YVNjcmlwdCBzbmlwcGV0LiAgVGhlIHNuaXBwZXQgbWF5XG4gICAqIGhhdmUgbXVsdGlwbGUgbGluZXMsIGJ1dCBvbmx5IHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgbGluZSB3aWxsIGJlIHJldHVybmVkLlxuICAgKlxuICAgKiA8cD5Ob3RlIHRoYXQsIGJ5IGRlZmF1bHQsIHRoZSBzbmlwcGV0IHdpbGwgcnVuIGluIHRoZSBjb250ZXh0IG9mIHRoZSBcInNlbGVuaXVtXCJcbiAgICogb2JqZWN0IGl0c2VsZiwgc28gPGNvZGU+dGhpczwvY29kZT4gd2lsbCByZWZlciB0byB0aGUgU2VsZW5pdW0gb2JqZWN0LiAgVXNlIDxjb2RlPndpbmRvdzwvY29kZT4gdG9cbiAgICogcmVmZXIgdG8gdGhlIHdpbmRvdyBvZiB5b3VyIGFwcGxpY2F0aW9uLCBlLmcuIDxjb2RlPndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9vJyk8L2NvZGU+PC9wPlxuICAgKlxuICAgKiA8cD5JZiB5b3UgbmVlZCB0byB1c2VcbiAgICogYSBsb2NhdG9yIHRvIHJlZmVyIHRvIGEgc2luZ2xlIGVsZW1lbnQgaW4geW91ciBhcHBsaWNhdGlvbiBwYWdlLCB5b3UgY2FuXG4gICAqIHVzZSA8Y29kZT50aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQoXCJpZD1mb29cIik8L2NvZGU+IHdoZXJlIFwiaWQ9Zm9vXCIgaXMgeW91ciBsb2NhdG9yLjwvcD5cbiAgICpcbiAgICogQHBhcmFtIHNjcmlwdCB0aGUgSmF2YVNjcmlwdCBzbmlwcGV0IHRvIHJ1blxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgcmVzdWx0cyBvZiBldmFsdWF0aW5nIHRoZSBzbmlwcGV0XG4gICAqL3RyeXsvL0xPRy5pbmZvKCdzY3JpcHQgaXM6ICcgKyBzY3JpcHQpO1xubGV0IHJlc3VsdD10aGlzLmV2YWwoc2NyaXB0KTsvLyBTZWxlbml1bSBSQyBkb2Vzbid0IGFsbG93IHJldHVybmluZyBudWxsXG5pZihudWxsPT1yZXN1bHQpcmV0dXJuJ251bGwnO3JldHVybiByZXN1bHQ7fWNhdGNoKGUpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdUaHJldyBhbiBleGNlcHRpb246ICcrZXh0cmFjdEV4Y2VwdGlvbk1lc3NhZ2UoZSkpO319O1NlbGVuaXVtLnByb3RvdHlwZS5pc0NoZWNrZWQ9ZnVuY3Rpb24obG9jYXRvcil7LyoqXG4gICAqIEdldHMgd2hldGhlciBhIHRvZ2dsZS1idXR0b24gKGNoZWNrYm94L3JhZGlvKSBpcyBjaGVja2VkLiAgRmFpbHMgaWYgdGhlIHNwZWNpZmllZCBlbGVtZW50IGRvZXNuJ3QgZXhpc3Qgb3IgaXNuJ3QgYSB0b2dnbGUtYnV0dG9uLlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBwb2ludGluZyB0byBhIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvblxuICAgKiBAcmV0dXJuIGJvb2xlYW4gdHJ1ZSBpZiB0aGUgY2hlY2tib3ggaXMgY2hlY2tlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtpZihlbGVtZW50LmNoZWNrZWQ9PW51bGwpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdFbGVtZW50ICcrbG9jYXRvcisnIGlzIG5vdCBhIHRvZ2dsZS1idXR0b24uJyk7fXJldHVybiBlbGVtZW50LmNoZWNrZWQ7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0VGFibGU9ZnVuY3Rpb24odGFibGVDZWxsQWRkcmVzcyl7LyoqXG4gICAqIEdldHMgdGhlIHRleHQgZnJvbSBhIGNlbGwgb2YgYSB0YWJsZS4gVGhlIGNlbGxBZGRyZXNzIHN5bnRheFxuICAgKiB0YWJsZUxvY2F0b3Iucm93LmNvbHVtbiwgd2hlcmUgcm93IGFuZCBjb2x1bW4gc3RhcnQgYXQgMC5cbiAgICpcbiAgICogQHBhcmFtIHRhYmxlQ2VsbEFkZHJlc3MgYSBjZWxsIGFkZHJlc3MsIGUuZy4gXCJmb28uMS40XCJcbiAgICogQHJldHVybiBzdHJpbmcgdGhlIHRleHQgZnJvbSB0aGUgc3BlY2lmaWVkIGNlbGxcbiAgICovIC8vIFRoaXMgcmVndWxhciBleHByZXNzaW9uIG1hdGNoZXMgXCJ0YWJsZU5hbWUucm93LmNvbHVtblwiXG4vLyBGb3IgZXhhbXBsZSwgXCJteXRhYmxlLjMuNFwiXG5sZXQgcGF0dGVybj0vKC4qKVxcLihcXGQrKVxcLihcXGQrKS87aWYoIXBhdHRlcm4udGVzdCh0YWJsZUNlbGxBZGRyZXNzKSl7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ0ludmFsaWQgdGFyZ2V0IGZvcm1hdC4gQ29ycmVjdCBmb3JtYXQgaXMgdGFibGVOYW1lLnJvd051bS5jb2x1bW5OdW0nKTt9bGV0IHBpZWNlcz10YWJsZUNlbGxBZGRyZXNzLm1hdGNoKHBhdHRlcm4pO2xldCB0YWJsZU5hbWU9cGllY2VzWzFdO2xldCByb3c9cGllY2VzWzJdO2xldCBjb2w9cGllY2VzWzNdO2xldCB0YWJsZT10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQodGFibGVOYW1lKTtpZihyb3c+dGFibGUucm93cy5sZW5ndGgpey8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuQXNzZXJ0LmZhaWwoJ0Nhbm5vdCBhY2Nlc3Mgcm93ICcrcm93KycgLSB0YWJsZSBoYXMgJyt0YWJsZS5yb3dzLmxlbmd0aCsnIHJvd3MnKTt9ZWxzZSBpZihjb2w+dGFibGUucm93c1tyb3ddLmNlbGxzLmxlbmd0aCl7Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5Bc3NlcnQuZmFpbCgnQ2Fubm90IGFjY2VzcyBjb2x1bW4gJytjb2wrJyAtIHRhYmxlIHJvdyBoYXMgJyt0YWJsZS5yb3dzW3Jvd10uY2VsbHMubGVuZ3RoKycgY29sdW1ucycpO31lbHNle2xldCBhY3R1YWxDb250ZW50PWJvdC5kb20uZ2V0VmlzaWJsZVRleHQodGFibGUucm93c1tyb3ddLmNlbGxzW2NvbF0pO3JldHVybiBhY3R1YWxDb250ZW50LnRyaW0oKTt9cmV0dXJuIG51bGw7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRMYWJlbHM9ZnVuY3Rpb24oc2VsZWN0TG9jYXRvcil7LyoqIEdldHMgYWxsIG9wdGlvbiBsYWJlbHMgKHZpc2libGUgdGV4dCkgZm9yIHNlbGVjdGVkIG9wdGlvbnMgaW4gdGhlIHNwZWNpZmllZCBzZWxlY3Qgb3IgbXVsdGktc2VsZWN0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RMb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgZHJvcC1kb3duIG1lbnVcbiAgICogQHJldHVybiBzdHJpbmdbXSBhbiBhcnJheSBvZiBhbGwgc2VsZWN0ZWQgb3B0aW9uIGxhYmVscyBpbiB0aGUgc3BlY2lmaWVkIHNlbGVjdCBkcm9wLWRvd25cbiAgICovcmV0dXJuIHRoaXMuZmluZFNlbGVjdGVkT3B0aW9uUHJvcGVydGllcyhzZWxlY3RMb2NhdG9yLCd0ZXh0Jyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRMYWJlbD1mdW5jdGlvbihzZWxlY3RMb2NhdG9yKXsvKiogR2V0cyBvcHRpb24gbGFiZWwgKHZpc2libGUgdGV4dCkgZm9yIHNlbGVjdGVkIG9wdGlvbiBpbiB0aGUgc3BlY2lmaWVkIHNlbGVjdCBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0TG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBpZGVudGlmeWluZyBhIGRyb3AtZG93biBtZW51XG4gICAqIEByZXR1cm4gc3RyaW5nIHRoZSBzZWxlY3RlZCBvcHRpb24gbGFiZWwgaW4gdGhlIHNwZWNpZmllZCBzZWxlY3QgZHJvcC1kb3duXG4gICAqL3JldHVybiB0aGlzLmZpbmRTZWxlY3RlZE9wdGlvblByb3BlcnR5KHNlbGVjdExvY2F0b3IsJ3RleHQnKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRTZWxlY3RlZFZhbHVlcz1mdW5jdGlvbihzZWxlY3RMb2NhdG9yKXsvKiogR2V0cyBhbGwgb3B0aW9uIHZhbHVlcyAodmFsdWUgYXR0cmlidXRlcykgZm9yIHNlbGVjdGVkIG9wdGlvbnMgaW4gdGhlIHNwZWNpZmllZCBzZWxlY3Qgb3IgbXVsdGktc2VsZWN0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RMb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgZHJvcC1kb3duIG1lbnVcbiAgICogQHJldHVybiBzdHJpbmdbXSBhbiBhcnJheSBvZiBhbGwgc2VsZWN0ZWQgb3B0aW9uIHZhbHVlcyBpbiB0aGUgc3BlY2lmaWVkIHNlbGVjdCBkcm9wLWRvd25cbiAgICovcmV0dXJuIHRoaXMuZmluZFNlbGVjdGVkT3B0aW9uUHJvcGVydGllcyhzZWxlY3RMb2NhdG9yLCd2YWx1ZScpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFNlbGVjdGVkVmFsdWU9ZnVuY3Rpb24oc2VsZWN0TG9jYXRvcil7LyoqIEdldHMgb3B0aW9uIHZhbHVlICh2YWx1ZSBhdHRyaWJ1dGUpIGZvciBzZWxlY3RlZCBvcHRpb24gaW4gdGhlIHNwZWNpZmllZCBzZWxlY3QgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdExvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gaWRlbnRpZnlpbmcgYSBkcm9wLWRvd24gbWVudVxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgc2VsZWN0ZWQgb3B0aW9uIHZhbHVlIGluIHRoZSBzcGVjaWZpZWQgc2VsZWN0IGRyb3AtZG93blxuICAgKi9yZXR1cm4gdGhpcy5maW5kU2VsZWN0ZWRPcHRpb25Qcm9wZXJ0eShzZWxlY3RMb2NhdG9yLCd2YWx1ZScpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFNlbGVjdGVkSW5kZXhlcz1mdW5jdGlvbihzZWxlY3RMb2NhdG9yKXsvKiogR2V0cyBhbGwgb3B0aW9uIGluZGV4ZXMgKG9wdGlvbiBudW1iZXIsIHN0YXJ0aW5nIGF0IDApIGZvciBzZWxlY3RlZCBvcHRpb25zIGluIHRoZSBzcGVjaWZpZWQgc2VsZWN0IG9yIG11bHRpLXNlbGVjdCBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0TG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBpZGVudGlmeWluZyBhIGRyb3AtZG93biBtZW51XG4gICAqIEByZXR1cm4gc3RyaW5nW10gYW4gYXJyYXkgb2YgYWxsIHNlbGVjdGVkIG9wdGlvbiBpbmRleGVzIGluIHRoZSBzcGVjaWZpZWQgc2VsZWN0IGRyb3AtZG93blxuICAgKi9yZXR1cm4gdGhpcy5maW5kU2VsZWN0ZWRPcHRpb25Qcm9wZXJ0aWVzKHNlbGVjdExvY2F0b3IsJ2luZGV4Jyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRJbmRleD1mdW5jdGlvbihzZWxlY3RMb2NhdG9yKXsvKiogR2V0cyBvcHRpb24gaW5kZXggKG9wdGlvbiBudW1iZXIsIHN0YXJ0aW5nIGF0IDApIGZvciBzZWxlY3RlZCBvcHRpb24gaW4gdGhlIHNwZWNpZmllZCBzZWxlY3QgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdExvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gaWRlbnRpZnlpbmcgYSBkcm9wLWRvd24gbWVudVxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgc2VsZWN0ZWQgb3B0aW9uIGluZGV4IGluIHRoZSBzcGVjaWZpZWQgc2VsZWN0IGRyb3AtZG93blxuICAgKi9yZXR1cm4gdGhpcy5maW5kU2VsZWN0ZWRPcHRpb25Qcm9wZXJ0eShzZWxlY3RMb2NhdG9yLCdpbmRleCcpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFNlbGVjdGVkSWRzPWZ1bmN0aW9uKHNlbGVjdExvY2F0b3Ipey8qKiBHZXRzIGFsbCBvcHRpb24gZWxlbWVudCBJRHMgZm9yIHNlbGVjdGVkIG9wdGlvbnMgaW4gdGhlIHNwZWNpZmllZCBzZWxlY3Qgb3IgbXVsdGktc2VsZWN0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RMb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgZHJvcC1kb3duIG1lbnVcbiAgICogQHJldHVybiBzdHJpbmdbXSBhbiBhcnJheSBvZiBhbGwgc2VsZWN0ZWQgb3B0aW9uIElEcyBpbiB0aGUgc3BlY2lmaWVkIHNlbGVjdCBkcm9wLWRvd25cbiAgICovcmV0dXJuIHRoaXMuZmluZFNlbGVjdGVkT3B0aW9uUHJvcGVydGllcyhzZWxlY3RMb2NhdG9yLCdpZCcpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFNlbGVjdGVkSWQ9ZnVuY3Rpb24oc2VsZWN0TG9jYXRvcil7LyoqIEdldHMgb3B0aW9uIGVsZW1lbnQgSUQgZm9yIHNlbGVjdGVkIG9wdGlvbiBpbiB0aGUgc3BlY2lmaWVkIHNlbGVjdCBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0TG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBpZGVudGlmeWluZyBhIGRyb3AtZG93biBtZW51XG4gICAqIEByZXR1cm4gc3RyaW5nIHRoZSBzZWxlY3RlZCBvcHRpb24gSUQgaW4gdGhlIHNwZWNpZmllZCBzZWxlY3QgZHJvcC1kb3duXG4gICAqL3JldHVybiB0aGlzLmZpbmRTZWxlY3RlZE9wdGlvblByb3BlcnR5KHNlbGVjdExvY2F0b3IsJ2lkJyk7fTtTZWxlbml1bS5wcm90b3R5cGUuaXNTb21ldGhpbmdTZWxlY3RlZD1mdW5jdGlvbihzZWxlY3RMb2NhdG9yKXsvKiogRGV0ZXJtaW5lcyB3aGV0aGVyIHNvbWUgb3B0aW9uIGluIGEgZHJvcC1kb3duIG1lbnUgaXMgc2VsZWN0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RMb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IGlkZW50aWZ5aW5nIGEgZHJvcC1kb3duIG1lbnVcbiAgICogQHJldHVybiBib29sZWFuIHRydWUgaWYgc29tZSBvcHRpb24gaGFzIGJlZW4gc2VsZWN0ZWQsIGZhbHNlIG90aGVyd2lzZVxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQoc2VsZWN0TG9jYXRvcik7aWYoISgnb3B0aW9ucydpbiBlbGVtZW50KSl7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ1NwZWNpZmllZCBlbGVtZW50IGlzIG5vdCBhIFNlbGVjdCAoaGFzIG5vIG9wdGlvbnMpJyk7fWZvcihsZXQgaT0wO2k8ZWxlbWVudC5vcHRpb25zLmxlbmd0aDtpKyspe2lmKGVsZW1lbnQub3B0aW9uc1tpXS5zZWxlY3RlZCl7cmV0dXJuIHRydWU7fX1yZXR1cm4gZmFsc2U7fTtTZWxlbml1bS5wcm90b3R5cGUuZmluZFNlbGVjdGVkT3B0aW9uUHJvcGVydGllcz1mdW5jdGlvbihsb2NhdG9yLHByb3BlcnR5KXtsZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoISgnb3B0aW9ucydpbiBlbGVtZW50KSl7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ1NwZWNpZmllZCBlbGVtZW50IGlzIG5vdCBhIFNlbGVjdCAoaGFzIG5vIG9wdGlvbnMpJyk7fWxldCBzZWxlY3RlZE9wdGlvbnM9W107Zm9yKGxldCBpPTA7aTxlbGVtZW50Lm9wdGlvbnMubGVuZ3RoO2krKyl7aWYoZWxlbWVudC5vcHRpb25zW2ldLnNlbGVjdGVkKXtsZXQgcHJvcFZhbD1lbGVtZW50Lm9wdGlvbnNbaV1bcHJvcGVydHldO3NlbGVjdGVkT3B0aW9ucy5wdXNoKHByb3BWYWwpO319aWYoc2VsZWN0ZWRPcHRpb25zLmxlbmd0aD09MClBc3NlcnQuZmFpbCgnTm8gb3B0aW9uIHNlbGVjdGVkJyk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxucmV0dXJuIHNlbGVjdGVkT3B0aW9uczt9O1NlbGVuaXVtLnByb3RvdHlwZS5maW5kU2VsZWN0ZWRPcHRpb25Qcm9wZXJ0eT1mdW5jdGlvbihsb2NhdG9yLHByb3BlcnR5KXtsZXQgc2VsZWN0ZWRPcHRpb25zPXRoaXMuZmluZFNlbGVjdGVkT3B0aW9uUHJvcGVydGllcyhsb2NhdG9yLHByb3BlcnR5KTtpZihzZWxlY3RlZE9wdGlvbnMubGVuZ3RoPjEpe0Fzc2VydC5mYWlsKCdNb3JlIHRoYW4gb25lIHNlbGVjdGVkIG9wdGlvbiEnKTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG59cmV0dXJuIHNlbGVjdGVkT3B0aW9uc1swXTt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRTZWxlY3RPcHRpb25zPWZ1bmN0aW9uKHNlbGVjdExvY2F0b3Ipey8qKiBHZXRzIGFsbCBvcHRpb24gbGFiZWxzIGluIHRoZSBzcGVjaWZpZWQgc2VsZWN0IGRyb3AtZG93bi5cbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdExvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gaWRlbnRpZnlpbmcgYSBkcm9wLWRvd24gbWVudVxuICAgKiBAcmV0dXJuIHN0cmluZ1tdIGFuIGFycmF5IG9mIGFsbCBvcHRpb24gbGFiZWxzIGluIHRoZSBzcGVjaWZpZWQgc2VsZWN0IGRyb3AtZG93blxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQoc2VsZWN0TG9jYXRvcik7bGV0IHNlbGVjdE9wdGlvbnM9W107Zm9yKGxldCBpPTA7aTxlbGVtZW50Lm9wdGlvbnMubGVuZ3RoO2krKyl7bGV0IG9wdGlvbj1lbGVtZW50Lm9wdGlvbnNbaV0udGV4dDtzZWxlY3RPcHRpb25zLnB1c2gob3B0aW9uKTt9cmV0dXJuIHNlbGVjdE9wdGlvbnM7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlPWZ1bmN0aW9uKGF0dHJpYnV0ZUxvY2F0b3Ipey8qKlxuICAgKiBHZXRzIHRoZSB2YWx1ZSBvZiBhbiBlbGVtZW50IGF0dHJpYnV0ZS4gVGhlIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgbWF5XG4gICAqIGRpZmZlciBhY3Jvc3MgYnJvd3NlcnMgKHRoaXMgaXMgdGhlIGNhc2UgZm9yIHRoZSBcInN0eWxlXCIgYXR0cmlidXRlLCBmb3JcbiAgICogZXhhbXBsZSkuXG4gICAqXG4gICAqIEBwYXJhbSBhdHRyaWJ1dGVMb2NhdG9yIGFuIGVsZW1lbnQgbG9jYXRvciBmb2xsb3dlZCBieSBhbiAmIzA2NDsgc2lnbiBhbmQgdGhlbiB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlLCBlLmcuIFwiZm9vJiMwNjQ7YmFyXCJcbiAgICogQHJldHVybiBzdHJpbmcgdGhlIHZhbHVlIG9mIHRoZSBzcGVjaWZpZWQgYXR0cmlidXRlXG4gICAqL2xldCByZXN1bHQ9dGhpcy5icm93c2VyYm90LmZpbmRBdHRyaWJ1dGUoYXR0cmlidXRlTG9jYXRvcik7aWYocmVzdWx0PT1udWxsKXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignQ291bGQgbm90IGZpbmQgZWxlbWVudCBhdHRyaWJ1dGU6ICcrYXR0cmlidXRlTG9jYXRvcik7fXJldHVybiByZXN1bHQ7fTtTZWxlbml1bS5wcm90b3R5cGUuaXNUZXh0UHJlc2VudD1mdW5jdGlvbihwYXR0ZXJuKXsvKipcbiAgICogVmVyaWZpZXMgdGhhdCB0aGUgc3BlY2lmaWVkIHRleHQgcGF0dGVybiBhcHBlYXJzIHNvbWV3aGVyZSBvbiB0aGUgcmVuZGVyZWQgcGFnZSBzaG93biB0byB0aGUgdXNlci5cbiAgICogQHBhcmFtIHBhdHRlcm4gYSA8YSBocmVmPVwiI3BhdHRlcm5zXCI+cGF0dGVybjwvYT4gdG8gbWF0Y2ggd2l0aCB0aGUgdGV4dCBvZiB0aGUgcGFnZVxuICAgKiBAcmV0dXJuIGJvb2xlYW4gdHJ1ZSBpZiB0aGUgcGF0dGVybiBtYXRjaGVzIHRoZSB0ZXh0LCBmYWxzZSBvdGhlcndpc2VcbiAgICovbGV0IGFsbFRleHQ9dGhpcy5icm93c2VyYm90LmJvZHlUZXh0KCk7bGV0IHBhdHRlcm5NYXRjaGVyPW5ldyBQYXR0ZXJuTWF0Y2hlcihwYXR0ZXJuKTtpZihwYXR0ZXJuTWF0Y2hlci5zdHJhdGVneT09UGF0dGVybk1hdGNoZXIuc3RyYXRlZ2llcy5nbG9iKXtpZihwYXR0ZXJuLmluZGV4T2YoJ2dsb2I6Jyk9PTApe3BhdHRlcm49cGF0dGVybi5zdWJzdHJpbmcoJ2dsb2I6Jy5sZW5ndGgpOy8vIHN0cmlwIG9mZiBcImdsb2I6XCJcbn1wYXR0ZXJuTWF0Y2hlci5tYXRjaGVyPW5ldyBQYXR0ZXJuTWF0Y2hlci5zdHJhdGVnaWVzLmdsb2JDb250YWlucyhwYXR0ZXJuKTt9ZWxzZSBpZihwYXR0ZXJuTWF0Y2hlci5zdHJhdGVneT09UGF0dGVybk1hdGNoZXIuc3RyYXRlZ2llcy5leGFjdCl7cGF0dGVybj1wYXR0ZXJuLnN1YnN0cmluZygnZXhhY3Q6Jy5sZW5ndGgpOy8vIHN0cmlwIG9mZiBcImV4YWN0OlwiXG5yZXR1cm4gYWxsVGV4dC5pbmRleE9mKHBhdHRlcm4pIT0tMTt9cmV0dXJuIHBhdHRlcm5NYXRjaGVyLm1hdGNoZXMoYWxsVGV4dCk7fTtmdW5jdGlvbiBpc0VsZW1lbnROb3RQcmVzZW50KGxvY2F0b3Ipe3JldHVybiF0aGlzLmlzRWxlbWVudFByZXNlbnQobG9jYXRvcik7fVNlbGVuaXVtLnByb3RvdHlwZS5pc0VsZW1lbnRQcmVzZW50PWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxuICAgKiBWZXJpZmllcyB0aGF0IHRoZSBzcGVjaWZpZWQgZWxlbWVudCBpcyBzb21ld2hlcmUgb24gdGhlIHBhZ2UuXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XG4gICAqIEByZXR1cm4gYm9vbGVhbiB0cnVlIGlmIHRoZSBlbGVtZW50IGlzIHByZXNlbnQsIGZhbHNlIG90aGVyd2lzZVxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnRPck51bGwobG9jYXRvcik7aWYoZWxlbWVudD09bnVsbCl7cmV0dXJuIGZhbHNlO31yZXR1cm4gdHJ1ZTt9O2Z1bmN0aW9uIHVuYWJsZVRvTG9jYXRlVGFyZ2V0RWxlbWVudEVycm9yKCl7dGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gbG9jYXRlIHRhcmdldCBlbGVtZW50LicpO31mdW5jdGlvbiBpc05vdERpc3BsYXllZChsb2NhdG9yKXt0cnl7cmV0dXJuIXRoaXMuaXNWaXNpYmxlKGxvY2F0b3IpO31jYXRjaChlcnJvcil7dW5hYmxlVG9Mb2NhdGVUYXJnZXRFbGVtZW50RXJyb3IoKTt9fWZ1bmN0aW9uIGlzRGlzcGxheWVkKGxvY2F0b3Ipe3RyeXtyZXR1cm4gdGhpcy5pc1Zpc2libGUobG9jYXRvcik7fWNhdGNoKGVycm9yKXtyZXR1cm4gZmFsc2U7fX1TZWxlbml1bS5wcm90b3R5cGUuaXNWaXNpYmxlPWZ1bmN0aW9uKGxvY2F0b3Ipey8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBzcGVjaWZpZWQgZWxlbWVudCBpcyB2aXNpYmxlLiBBblxuICAgKiBlbGVtZW50IGNhbiBiZSByZW5kZXJlZCBpbnZpc2libGUgYnkgc2V0dGluZyB0aGUgQ1NTIFwidmlzaWJpbGl0eVwiXG4gICAqIHByb3BlcnR5IHRvIFwiaGlkZGVuXCIsIG9yIHRoZSBcImRpc3BsYXlcIiBwcm9wZXJ0eSB0byBcIm5vbmVcIiwgZWl0aGVyIGZvciB0aGVcbiAgICogZWxlbWVudCBpdHNlbGYgb3Igb25lIGlmIGl0cyBhbmNlc3RvcnMuICBUaGlzIG1ldGhvZCB3aWxsIGZhaWwgaWZcbiAgICogdGhlIGVsZW1lbnQgaXMgbm90IHByZXNlbnQuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+XG4gICAqIEByZXR1cm4gYm9vbGVhbiB0cnVlIGlmIHRoZSBzcGVjaWZpZWQgZWxlbWVudCBpcyB2aXNpYmxlLCBmYWxzZSBvdGhlcndpc2VcbiAgICovbGV0IGVsZW1lbnQ7ZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7Ly8gREdGIGlmIGl0J3MgYW4gaW5wdXQgdGFnIG9mIHR5cGUgXCJoaWRkZW5cIiB0aGVuIGl0J3Mgbm90IHZpc2libGVcbmlmKGVsZW1lbnQudGFnTmFtZSl7bGV0IHRhZ05hbWU9bmV3IFN0cmluZyhlbGVtZW50LnRhZ05hbWUpLnRvTG93ZXJDYXNlKCk7aWYodGFnTmFtZT09J2lucHV0Jyl7aWYoZWxlbWVudC50eXBlKXtsZXQgZWxlbWVudFR5cGU9bmV3IFN0cmluZyhlbGVtZW50LnR5cGUpLnRvTG93ZXJDYXNlKCk7aWYoZWxlbWVudFR5cGU9PSdoaWRkZW4nKXtyZXR1cm4gZmFsc2U7fX19fWxldCB2aXNpYmlsaXR5PXRoaXMuZmluZEVmZmVjdGl2ZVN0eWxlUHJvcGVydHkoZWxlbWVudCwndmlzaWJpbGl0eScpO2xldCBfaXNEaXNwbGF5ZWQ9dGhpcy5faXNEaXNwbGF5ZWQoZWxlbWVudCk7cmV0dXJuIHZpc2liaWxpdHkhPSdoaWRkZW4nJiZfaXNEaXNwbGF5ZWQ7fTtTZWxlbml1bS5wcm90b3R5cGUuZmluZEVmZmVjdGl2ZVN0eWxlUHJvcGVydHk9ZnVuY3Rpb24oZWxlbWVudCxwcm9wZXJ0eSl7bGV0IGVmZmVjdGl2ZVN0eWxlPXRoaXMuZmluZEVmZmVjdGl2ZVN0eWxlKGVsZW1lbnQpO2xldCBwcm9wZXJ0eVZhbHVlPWVmZmVjdGl2ZVN0eWxlW3Byb3BlcnR5XTtpZihwcm9wZXJ0eVZhbHVlPT0naW5oZXJpdCcmJmVsZW1lbnQucGFyZW50Tm9kZS5zdHlsZSl7cmV0dXJuIHRoaXMuZmluZEVmZmVjdGl2ZVN0eWxlUHJvcGVydHkoZWxlbWVudC5wYXJlbnROb2RlLHByb3BlcnR5KTt9cmV0dXJuIHByb3BlcnR5VmFsdWU7fTtTZWxlbml1bS5wcm90b3R5cGUuX2lzRGlzcGxheWVkPWZ1bmN0aW9uKGVsZW1lbnQpe2xldCBkaXNwbGF5PXRoaXMuZmluZEVmZmVjdGl2ZVN0eWxlUHJvcGVydHkoZWxlbWVudCwnZGlzcGxheScpO2lmKGRpc3BsYXk9PSdub25lJylyZXR1cm4gZmFsc2U7aWYoZWxlbWVudC5wYXJlbnROb2RlLnN0eWxlKXtyZXR1cm4gdGhpcy5faXNEaXNwbGF5ZWQoZWxlbWVudC5wYXJlbnROb2RlKTt9cmV0dXJuIHRydWU7fTtTZWxlbml1bS5wcm90b3R5cGUuZmluZEVmZmVjdGl2ZVN0eWxlPWZ1bmN0aW9uKGVsZW1lbnQpe2lmKGVsZW1lbnQuc3R5bGU9PXVuZGVmaW5lZCl7cmV0dXJuIHVuZGVmaW5lZDsvLyBub3QgYSBzdHlsZWQgZWxlbWVudFxufWxldCB3aW5kb3c9dGhpcy5icm93c2VyYm90LmdldEN1cnJlbnRXaW5kb3coKTtpZih3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSl7Ly8gRE9NLUxldmVsLTItQ1NTXG5yZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCxudWxsKTt9aWYoZWxlbWVudC5jdXJyZW50U3R5bGUpey8vIG5vbi1zdGFuZGFyZCBJRSBhbHRlcm5hdGl2ZVxucmV0dXJuIGVsZW1lbnQuY3VycmVudFN0eWxlOy8vIFRPRE86IHRoaXMgd29uJ3QgcmVhbGx5IHdvcmsgaW4gYSBnZW5lcmFsIHNlbnNlLCBhc1xuLy8gICBjdXJyZW50U3R5bGUgaXMgbm90IGlkZW50aWNhbCB0byBnZXRDb21wdXRlZFN0eWxlKClcbi8vICAgLi4uIGJ1dCBpdCdzIGdvb2QgZW5vdWdoIGZvciBcInZpc2liaWxpdHlcIlxufWlmKHdpbmRvdy5kb2N1bWVudC5kZWZhdWx0VmlldyYmd2luZG93LmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpe3JldHVybiB3aW5kb3cuZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LG51bGwpO310aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignY2Fubm90IGRldGVybWluZSBlZmZlY3RpdmUgc3R5bGVzaGVldCBpbiB0aGlzIGJyb3dzZXInKTt9O2Z1bmN0aW9uIGlzRWRpdGFibGUobG9jYXRvcil7dHJ5e3JldHVybiB0aGlzLmlzRWRpdGFibGUobG9jYXRvcik7fWNhdGNoKGVycm9yKXt1bmFibGVUb0xvY2F0ZVRhcmdldEVsZW1lbnRFcnJvcigpO319ZnVuY3Rpb24gaXNOb3RFZGl0YWJsZShsb2NhdG9yKXt0cnl7cmV0dXJuIXRoaXMuaXNFZGl0YWJsZShsb2NhdG9yKTt9Y2F0Y2goZXJyb3Ipe3VuYWJsZVRvTG9jYXRlVGFyZ2V0RWxlbWVudEVycm9yKCk7fX1TZWxlbml1bS5wcm90b3R5cGUuaXNFZGl0YWJsZT1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgaW5wdXQgZWxlbWVudCBpcyBlZGl0YWJsZSwgaWUgaGFzbid0IGJlZW4gZGlzYWJsZWQuXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgZmFpbCBpZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgaXNuJ3QgYW4gaW5wdXQgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT5cbiAgICogQHJldHVybiBib29sZWFuIHRydWUgaWYgdGhlIGlucHV0IGVsZW1lbnQgaXMgZWRpdGFibGUsIGZhbHNlIG90aGVyd2lzZVxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7aWYoZWxlbWVudC52YWx1ZT09dW5kZWZpbmVkKXtBc3NlcnQuZmFpbCgnRWxlbWVudCAnK2xvY2F0b3IrJyBpcyBub3QgYW4gaW5wdXQuJyk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufWlmKGVsZW1lbnQuZGlzYWJsZWQpe3JldHVybiBmYWxzZTt9Ly8gREdGIFwicmVhZG9ubHlcIiBpcyBhIGJpdCBnb29meS4uLiBpdCBkb2Vzbid0IG5lY2Vzc2FyaWx5IGhhdmUgYSB2YWx1ZVxuLy8gWW91IGNhbiB3cml0ZSA8aW5wdXQgcmVhZG9ubHkgdmFsdWU9XCJibGFja1wiPlxubGV0IHJlYWRPbmx5Tm9kZT1lbGVtZW50LmdldEF0dHJpYnV0ZU5vZGUoJ3JlYWRvbmx5Jyk7aWYocmVhZE9ubHlOb2RlKXsvLyBER0Ygb24gSUUsIGV2ZXJ5IGlucHV0IGVsZW1lbnQgaGFzIGEgcmVhZE9ubHkgbm9kZSwgYnV0IGl0IG1heSBiZSBmYWxzZVxuaWYodHlwZW9mIHJlYWRPbmx5Tm9kZS5ub2RlVmFsdWU9PSdib29sZWFuJyl7bGV0IHJlYWRPbmx5PXJlYWRPbmx5Tm9kZS5ub2RlVmFsdWU7aWYocmVhZE9ubHkpe3JldHVybiBmYWxzZTt9fWVsc2V7cmV0dXJuIGZhbHNlO319cmV0dXJuIHRydWU7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0QWxsQnV0dG9ucz1mdW5jdGlvbigpey8qKiBSZXR1cm5zIHRoZSBJRHMgb2YgYWxsIGJ1dHRvbnMgb24gdGhlIHBhZ2UuXG4gICAqXG4gICAqIDxwPklmIGEgZ2l2ZW4gYnV0dG9uIGhhcyBubyBJRCwgaXQgd2lsbCBhcHBlYXIgYXMgXCJcIiBpbiB0aGlzIGFycmF5LjwvcD5cbiAgICpcbiAgICogQHJldHVybiBzdHJpbmdbXSB0aGUgSURzIG9mIGFsbCBidXR0b25zIG9uIHRoZSBwYWdlXG4gICAqL3JldHVybiB0aGlzLmJyb3dzZXJib3QuZ2V0QWxsQnV0dG9ucygpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldEFsbExpbmtzPWZ1bmN0aW9uKCl7LyoqIFJldHVybnMgdGhlIElEcyBvZiBhbGwgbGlua3Mgb24gdGhlIHBhZ2UuXG4gICAqXG4gICAqIDxwPklmIGEgZ2l2ZW4gbGluayBoYXMgbm8gSUQsIGl0IHdpbGwgYXBwZWFyIGFzIFwiXCIgaW4gdGhpcyBhcnJheS48L3A+XG4gICAqXG4gICAqIEByZXR1cm4gc3RyaW5nW10gdGhlIElEcyBvZiBhbGwgbGlua3Mgb24gdGhlIHBhZ2VcbiAgICovcmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5nZXRBbGxMaW5rcygpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldEFsbEZpZWxkcz1mdW5jdGlvbigpey8qKiBSZXR1cm5zIHRoZSBJRHMgb2YgYWxsIGlucHV0IGZpZWxkcyBvbiB0aGUgcGFnZS5cbiAgICpcbiAgICogPHA+SWYgYSBnaXZlbiBmaWVsZCBoYXMgbm8gSUQsIGl0IHdpbGwgYXBwZWFyIGFzIFwiXCIgaW4gdGhpcyBhcnJheS48L3A+XG4gICAqXG4gICAqIEByZXR1cm4gc3RyaW5nW10gdGhlIElEcyBvZiBhbGwgZmllbGQgb24gdGhlIHBhZ2VcbiAgICovcmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5nZXRBbGxGaWVsZHMoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1NldE1vdXNlU3BlZWQ9ZnVuY3Rpb24ocGl4ZWxzKXsvKiogQ29uZmlndXJlIHRoZSBudW1iZXIgb2YgcGl4ZWxzIGJldHdlZW4gXCJtb3VzZW1vdmVcIiBldmVudHMgZHVyaW5nIGRyYWdBbmREcm9wIGNvbW1hbmRzIChkZWZhdWx0PTEwKS5cbiAgICogPHA+U2V0dGluZyB0aGlzIHZhbHVlIHRvIDAgbWVhbnMgdGhhdCB3ZSdsbCBzZW5kIGEgXCJtb3VzZW1vdmVcIiBldmVudCB0byBldmVyeSBzaW5nbGUgcGl4ZWxcbiAgICogaW4gYmV0d2VlbiB0aGUgc3RhcnQgbG9jYXRpb24gYW5kIHRoZSBlbmQgbG9jYXRpb247IHRoYXQgY2FuIGJlIHZlcnkgc2xvdywgYW5kIG1heVxuICAgKiBjYXVzZSBzb21lIGJyb3dzZXJzIHRvIGZvcmNlIHRoZSBKYXZhU2NyaXB0IHRvIHRpbWVvdXQuPC9wPlxuICAgKlxuICAgKiA8cD5JZiB0aGUgbW91c2Ugc3BlZWQgaXMgZ3JlYXRlciB0aGFuIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB0d28gZHJhZ2dlZCBvYmplY3RzLCB3ZSdsbFxuICAgKiBqdXN0IHNlbmQgb25lIFwibW91c2Vtb3ZlXCIgYXQgdGhlIHN0YXJ0IGxvY2F0aW9uIGFuZCB0aGVuIG9uZSBmaW5hbCBvbmUgYXQgdGhlIGVuZCBsb2NhdGlvbi48L3A+XG4gICAqIEBwYXJhbSBwaXhlbHMgdGhlIG51bWJlciBvZiBwaXhlbHMgYmV0d2VlbiBcIm1vdXNlbW92ZVwiIGV2ZW50c1xuICAgKi9sZXQgaW50VmFsdWU9bmV3IE51bWJlcihwaXhlbHMpO2lmKGludFZhbHVlLmNvbnN0cnVjdG9yIT1OdW1iZXJ8fGludFZhbHVlPDApe3RoaXMubW91c2VTcGVlZD1TZWxlbml1bS5ERUZBVUxUX01PVVNFX1NQRUVEO31lbHNle3RoaXMubW91c2VTcGVlZD1waXhlbHM7fX07U2VsZW5pdW0ucHJvdG90eXBlLmdldE1vdXNlU3BlZWQ9ZnVuY3Rpb24oKXsvKiogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHBpeGVscyBiZXR3ZWVuIFwibW91c2Vtb3ZlXCIgZXZlbnRzIGR1cmluZyBkcmFnQW5kRHJvcCBjb21tYW5kcyAoZGVmYXVsdD0xMCkuXG4gICAqXG4gICAqIEByZXR1cm4gbnVtYmVyIHRoZSBudW1iZXIgb2YgcGl4ZWxzIGJldHdlZW4gXCJtb3VzZW1vdmVcIiBldmVudHMgZHVyaW5nIGRyYWdBbmREcm9wIGNvbW1hbmRzIChkZWZhdWx0PTEwKVxuICAgKi9yZXR1cm4gdGhpcy5tb3VzZVNwZWVkO307U2VsZW5pdW0ucHJvdG90eXBlLmRvRHJhZ0FuZERyb3A9ZnVuY3Rpb24obG9jYXRvcixtb3ZlbWVudHNTdHJpbmcpey8qKiBEcmFncyBhbiBlbGVtZW50IGEgY2VydGFpbiBkaXN0YW5jZSBhbmQgdGhlbiBkcm9wcyBpdFxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiBlbGVtZW50IGxvY2F0b3JcbiAgICogQHBhcmFtIG1vdmVtZW50c1N0cmluZyBvZmZzZXQgaW4gcGl4ZWxzIGZyb20gdGhlIGN1cnJlbnQgbG9jYXRpb24gdG8gd2hpY2ggdGhlIGVsZW1lbnQgc2hvdWxkIGJlIG1vdmVkLCBlLmcuLCBcIis3MCwtMzAwXCJcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2xldCBjbGllbnRTdGFydFhZPWdldENsaWVudFhZKGVsZW1lbnQpO2xldCBjbGllbnRTdGFydFg9Y2xpZW50U3RhcnRYWVswXTtsZXQgY2xpZW50U3RhcnRZPWNsaWVudFN0YXJ0WFlbMV07bGV0IG1vdmVtZW50cz1tb3ZlbWVudHNTdHJpbmcuc3BsaXQoLywvKTtsZXQgbW92ZW1lbnRYPU51bWJlcihtb3ZlbWVudHNbMF0pO2xldCBtb3ZlbWVudFk9TnVtYmVyKG1vdmVtZW50c1sxXSk7bGV0IGNsaWVudEZpbmlzaFg9Y2xpZW50U3RhcnRYK21vdmVtZW50WDwwPzA6Y2xpZW50U3RhcnRYK21vdmVtZW50WDtsZXQgY2xpZW50RmluaXNoWT1jbGllbnRTdGFydFkrbW92ZW1lbnRZPDA/MDpjbGllbnRTdGFydFkrbW92ZW1lbnRZO2xldCBtb3VzZVNwZWVkPXRoaXMubW91c2VTcGVlZDtsZXQgbW92ZT1mdW5jdGlvbihjdXJyZW50LGRlc3Qpe2lmKGN1cnJlbnQ9PWRlc3QpcmV0dXJuIGN1cnJlbnQ7aWYoTWF0aC5hYnMoY3VycmVudC1kZXN0KTxtb3VzZVNwZWVkKXJldHVybiBkZXN0O3JldHVybiBjdXJyZW50PGRlc3Q/Y3VycmVudCttb3VzZVNwZWVkOmN1cnJlbnQtbW91c2VTcGVlZDt9O3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZWRvd24nLHRydWUsY2xpZW50U3RhcnRYLGNsaWVudFN0YXJ0WSk7dGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsJ21vdXNlbW92ZScsdHJ1ZSxjbGllbnRTdGFydFgsY2xpZW50U3RhcnRZKTtsZXQgY2xpZW50WD1jbGllbnRTdGFydFg7bGV0IGNsaWVudFk9Y2xpZW50U3RhcnRZO3doaWxlKGNsaWVudFghPWNsaWVudEZpbmlzaFh8fGNsaWVudFkhPWNsaWVudEZpbmlzaFkpe2NsaWVudFg9bW92ZShjbGllbnRYLGNsaWVudEZpbmlzaFgpO2NsaWVudFk9bW92ZShjbGllbnRZLGNsaWVudEZpbmlzaFkpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZW1vdmUnLHRydWUsY2xpZW50WCxjbGllbnRZKTt9dGhpcy5icm93c2VyYm90LnRyaWdnZXJNb3VzZUV2ZW50KGVsZW1lbnQsJ21vdXNlbW92ZScsdHJ1ZSxjbGllbnRGaW5pc2hYLGNsaWVudEZpbmlzaFkpO3RoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LCdtb3VzZXVwJyx0cnVlLGNsaWVudEZpbmlzaFgsY2xpZW50RmluaXNoWSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9EcmFnQW5kRHJvcFRvT2JqZWN0PWZ1bmN0aW9uKGxvY2F0b3JPZk9iamVjdFRvQmVEcmFnZ2VkLGxvY2F0b3JPZkRyYWdEZXN0aW5hdGlvbk9iamVjdCl7LyoqIERyYWdzIGFuIGVsZW1lbnQgYW5kIGRyb3BzIGl0IG9uIGFub3RoZXIgZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvck9mT2JqZWN0VG9CZURyYWdnZWQgYW4gZWxlbWVudCB0byBiZSBkcmFnZ2VkXG4gICAqIEBwYXJhbSBsb2NhdG9yT2ZEcmFnRGVzdGluYXRpb25PYmplY3QgYW4gZWxlbWVudCB3aG9zZSBsb2NhdGlvbiAoaS5lLiwgd2hvc2UgY2VudGVyLW1vc3QgcGl4ZWwpIHdpbGwgYmUgdGhlIHBvaW50IHdoZXJlIGxvY2F0b3JPZk9iamVjdFRvQmVEcmFnZ2VkICBpcyBkcm9wcGVkXG4gICAqL2lmKCF0aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvck9mT2JqZWN0VG9CZURyYWdnZWQpLmRyYWdnYWJsZSl7Ly9vcmlnaW4gY29kZVxubGV0IHN0YXJ0WD10aGlzLmdldEVsZW1lbnRQb3NpdGlvbkxlZnQobG9jYXRvck9mT2JqZWN0VG9CZURyYWdnZWQpO2xldCBzdGFydFk9dGhpcy5nZXRFbGVtZW50UG9zaXRpb25Ub3AobG9jYXRvck9mT2JqZWN0VG9CZURyYWdnZWQpO2xldCBkZXN0aW5hdGlvbkxlZnRYPXRoaXMuZ2V0RWxlbWVudFBvc2l0aW9uTGVmdChsb2NhdG9yT2ZEcmFnRGVzdGluYXRpb25PYmplY3QpO2xldCBkZXN0aW5hdGlvblRvcFk9dGhpcy5nZXRFbGVtZW50UG9zaXRpb25Ub3AobG9jYXRvck9mRHJhZ0Rlc3RpbmF0aW9uT2JqZWN0KTtsZXQgZGVzdGluYXRpb25XaWR0aD10aGlzLmdldEVsZW1lbnRXaWR0aChsb2NhdG9yT2ZEcmFnRGVzdGluYXRpb25PYmplY3QpO2xldCBkZXN0aW5hdGlvbkhlaWdodD10aGlzLmdldEVsZW1lbnRIZWlnaHQobG9jYXRvck9mRHJhZ0Rlc3RpbmF0aW9uT2JqZWN0KTtsZXQgZW5kWD1NYXRoLnJvdW5kKGRlc3RpbmF0aW9uTGVmdFgrZGVzdGluYXRpb25XaWR0aC8yKTtsZXQgZW5kWT1NYXRoLnJvdW5kKGRlc3RpbmF0aW9uVG9wWStkZXN0aW5hdGlvbkhlaWdodC8yKTtsZXQgZGVsdGFYPWVuZFgtc3RhcnRYO2xldCBkZWx0YVk9ZW5kWS1zdGFydFk7bGV0IG1vdmVtZW50c1N0cmluZz0nJytkZWx0YVgrJywnK2RlbHRhWTt0aGlzLmRvRHJhZ0FuZERyb3AobG9jYXRvck9mT2JqZWN0VG9CZURyYWdnZWQsbW92ZW1lbnRzU3RyaW5nKTt9ZWxzZXsvL0RyYWdBbmREcm9wRXh0LCBTaHVvLUhlbmcgU2hpaCwgU0VMQUIsIENTSUUsIE5DS1UsIDIwMTYvMDkvMjlcbmxldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yT2ZPYmplY3RUb0JlRHJhZ2dlZCk7bGV0IHRhcmdldD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvck9mRHJhZ0Rlc3RpbmF0aW9uT2JqZWN0KTt0aGlzLmJyb3dzZXJib3QudHJpZ2dlckRyYWdFdmVudChlbGVtZW50LHRhcmdldCk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvV2luZG93Rm9jdXM9ZnVuY3Rpb24oKXsvKiogR2l2ZXMgZm9jdXMgdG8gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCB3aW5kb3dcbiAgICpcbiAgICovdGhpcy5icm93c2VyYm90LmdldEN1cnJlbnRXaW5kb3coKS5mb2N1cygpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvV2luZG93TWF4aW1pemU9ZnVuY3Rpb24oKXsvKiogUmVzaXplIGN1cnJlbnRseSBzZWxlY3RlZCB3aW5kb3cgdG8gdGFrZSB1cCB0aGUgZW50aXJlIHNjcmVlblxuICAgKlxuICAgKi9sZXQgd2luZG93PXRoaXMuYnJvd3NlcmJvdC5nZXRDdXJyZW50V2luZG93KCk7aWYod2luZG93IT1udWxsJiZ3aW5kb3cuc2NyZWVuKXt3aW5kb3cubW92ZVRvKDAsMCk7Ly8gSXQgYXBwZWFycyBGaXJlZm94IG9uIE1hYyB3b24ndCBtb3ZlIGEgd2luZG93IHRvICgwLDApLiAgQnV0LCB5b3UgY2FuIG1vdmUgaXQgdG8gKDAsMSksIHdoaWNoXG4vLyBzZWVtcyB0byBkbyBiYXNpY2FsbHkgdGhlIHNhbWUgdGhpbmcuICBJbiBteSAoS0pNIC0gNi8yMC8xMCkgdGVzdHMsIGFueXRoaW5nIGxlc3MgdGhhbiAoMCwgMjIpXG4vLyBwdXNoZWQgdGhlIGJyb3dzZXIgdG8gKDAsMCksIHNvIGl0IHNlZW1zIGl0J3MgaW1wcm9wZXJseSBhY2NvdW50aW5nIGZvciBzb21ldGhpbmcgaW4gdGhlIGJyb3dzZXIgY2hyb21lLlxuaWYod2luZG93LnNjcmVlblghPTApe3dpbmRvdy5tb3ZlVG8oMCwxKTt9d2luZG93LnJlc2l6ZVRvKHNjcmVlbi5hdmFpbFdpZHRoLHNjcmVlbi5hdmFpbEhlaWdodCk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmdldEh0bWxTb3VyY2U9ZnVuY3Rpb24oKXsvKiogUmV0dXJucyB0aGUgZW50aXJlIEhUTUwgc291cmNlIGJldHdlZW4gdGhlIG9wZW5pbmcgYW5kXG4gICAqIGNsb3NpbmcgXCJodG1sXCIgdGFncy5cbiAgICpcbiAgICogQHJldHVybiBzdHJpbmcgdGhlIGVudGlyZSBIVE1MIHNvdXJjZVxuICAgKi9yZXR1cm4gdGhpcy5icm93c2VyYm90LmdldERvY3VtZW50KCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2h0bWwnKVswXS5pbm5lckhUTUw7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9TZXRDdXJzb3JQb3NpdGlvbj1mdW5jdGlvbihsb2NhdG9yLHBvc2l0aW9uKXsvKipcbiAgICogTW92ZXMgdGhlIHRleHQgY3Vyc29yIHRvIHRoZSBzcGVjaWZpZWQgcG9zaXRpb24gaW4gdGhlIGdpdmVuIGlucHV0IGVsZW1lbnQgb3IgdGV4dGFyZWEuXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgZmFpbCBpZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgaXNuJ3QgYW4gaW5wdXQgZWxlbWVudCBvciB0ZXh0YXJlYS5cbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gcG9pbnRpbmcgdG8gYW4gaW5wdXQgZWxlbWVudCBvciB0ZXh0YXJlYVxuICAgKiBAcGFyYW0gcG9zaXRpb24gdGhlIG51bWVyaWNhbCBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yIGluIHRoZSBmaWVsZDsgcG9zaXRpb24gc2hvdWxkIGJlIDAgdG8gbW92ZSB0aGUgcG9zaXRpb24gdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgZmllbGQuICBZb3UgY2FuIGFsc28gc2V0IHRoZSBjdXJzb3IgdG8gLTEgdG8gbW92ZSBpdCB0byB0aGUgZW5kIG9mIHRoZSBmaWVsZC5cbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2lmKGVsZW1lbnQudmFsdWU9PXVuZGVmaW5lZCl7QXNzZXJ0LmZhaWwoJ0VsZW1lbnQgJytsb2NhdG9yKycgaXMgbm90IGFuIGlucHV0LicpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn1pZihwb3NpdGlvbj09LTEpe3Bvc2l0aW9uPWVsZW1lbnQudmFsdWUubGVuZ3RoO31pZihlbGVtZW50LnNldFNlbGVjdGlvblJhbmdlJiYhYnJvd3NlclZlcnNpb24uaXNPcGVyYSl7ZWxlbWVudC5mb2N1cygpO2VsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoLypzdGFydCovcG9zaXRpb24sLyplbmQqL3Bvc2l0aW9uKTt9ZWxzZSBpZihlbGVtZW50LmNyZWF0ZVRleHRSYW5nZSl7Ym90LmV2ZW50cy5maXJlKGVsZW1lbnQsYm90LmV2ZW50cy5FdmVudFR5cGUuRk9DVVMpO2xldCByYW5nZT1lbGVtZW50LmNyZWF0ZVRleHRSYW5nZSgpO3JhbmdlLmNvbGxhcHNlKHRydWUpO3JhbmdlLm1vdmVFbmQoJ2NoYXJhY3RlcicscG9zaXRpb24pO3JhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJyxwb3NpdGlvbik7cmFuZ2Uuc2VsZWN0KCk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmdldEVsZW1lbnRJbmRleD1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogR2V0IHRoZSByZWxhdGl2ZSBpbmRleCBvZiBhbiBlbGVtZW50IHRvIGl0cyBwYXJlbnQgKHN0YXJ0aW5nIGZyb20gMCkuIFRoZSBjb21tZW50IG5vZGUgYW5kIGVtcHR5IHRleHQgbm9kZVxuICAgKiB3aWxsIGJlIGlnbm9yZWQuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IHBvaW50aW5nIHRvIGFuIGVsZW1lbnRcbiAgICogQHJldHVybiBudW1iZXIgb2YgcmVsYXRpdmUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gaXRzIHBhcmVudCAoc3RhcnRpbmcgZnJvbSAwKVxuICAgKi9sZXQgZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7bGV0IHByZXZpb3VzU2libGluZztsZXQgaW5kZXg9MDt3aGlsZSgocHJldmlvdXNTaWJsaW5nPWVsZW1lbnQucHJldmlvdXNTaWJsaW5nKSE9bnVsbCl7aWYoIXRoaXMuX2lzQ29tbWVudE9yRW1wdHlUZXh0Tm9kZShwcmV2aW91c1NpYmxpbmcpKXtpbmRleCsrO31lbGVtZW50PXByZXZpb3VzU2libGluZzt9cmV0dXJuIGluZGV4O307U2VsZW5pdW0ucHJvdG90eXBlLmlzT3JkZXJlZD1mdW5jdGlvbihsb2NhdG9yMSxsb2NhdG9yMil7LyoqXG4gICAqIENoZWNrIGlmIHRoZXNlIHR3byBlbGVtZW50cyBoYXZlIHNhbWUgcGFyZW50IGFuZCBhcmUgb3JkZXJlZCBzaWJsaW5ncyBpbiB0aGUgRE9NLiBUd28gc2FtZSBlbGVtZW50cyB3aWxsXG4gICAqIG5vdCBiZSBjb25zaWRlcmVkIG9yZGVyZWQuXG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yMSBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBwb2ludGluZyB0byB0aGUgZmlyc3QgZWxlbWVudFxuICAgKiBAcGFyYW0gbG9jYXRvcjIgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gcG9pbnRpbmcgdG8gdGhlIHNlY29uZCBlbGVtZW50XG4gICAqIEByZXR1cm4gYm9vbGVhbiB0cnVlIGlmIGVsZW1lbnQxIGlzIHRoZSBwcmV2aW91cyBzaWJsaW5nIG9mIGVsZW1lbnQyLCBmYWxzZSBvdGhlcndpc2VcbiAgICovbGV0IGVsZW1lbnQxPXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yMSk7bGV0IGVsZW1lbnQyPXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yMik7aWYoZWxlbWVudDE9PT1lbGVtZW50MilyZXR1cm4gZmFsc2U7bGV0IHByZXZpb3VzU2libGluZzt3aGlsZSgocHJldmlvdXNTaWJsaW5nPWVsZW1lbnQyLnByZXZpb3VzU2libGluZykhPW51bGwpe2lmKHByZXZpb3VzU2libGluZz09PWVsZW1lbnQxKXtyZXR1cm4gdHJ1ZTt9ZWxlbWVudDI9cHJldmlvdXNTaWJsaW5nO31yZXR1cm4gZmFsc2U7fTtTZWxlbml1bS5wcm90b3R5cGUuX2lzQ29tbWVudE9yRW1wdHlUZXh0Tm9kZT1mdW5jdGlvbihub2RlKXtyZXR1cm4gbm9kZS5ub2RlVHlwZT09OHx8bm9kZS5ub2RlVHlwZT09MyYmIS9bXlxcdFxcblxcciBdLy50ZXN0KG5vZGUuZGF0YSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0RWxlbWVudFBvc2l0aW9uTGVmdD1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogUmV0cmlldmVzIHRoZSBob3Jpem9udGFsIHBvc2l0aW9uIG9mIGFuIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gcG9pbnRpbmcgdG8gYW4gZWxlbWVudCBPUiBhbiBlbGVtZW50IGl0c2VsZlxuICAgKiBAcmV0dXJuIG51bWJlciBvZiBwaXhlbHMgZnJvbSB0aGUgZWRnZSBvZiB0aGUgZnJhbWUuXG4gICAqL2xldCBlbGVtZW50O2lmKCdzdHJpbmcnPT10eXBlb2YgbG9jYXRvcil7ZWxlbWVudD10aGlzLmJyb3dzZXJib3QuZmluZEVsZW1lbnQobG9jYXRvcik7fWVsc2V7ZWxlbWVudD1sb2NhdG9yO31sZXQgeD1lbGVtZW50Lm9mZnNldExlZnQ7bGV0IGVsZW1lbnRQYXJlbnQ9ZWxlbWVudC5vZmZzZXRQYXJlbnQ7d2hpbGUoZWxlbWVudFBhcmVudCE9bnVsbCl7aWYoZG9jdW1lbnQuYWxsKXtpZihlbGVtZW50UGFyZW50LnRhZ05hbWUhPSdUQUJMRScmJmVsZW1lbnRQYXJlbnQudGFnTmFtZSE9J0JPRFknKXt4Kz1lbGVtZW50UGFyZW50LmNsaWVudExlZnQ7fX0vLyBOZXRzY2FwZS9ET01cbmVsc2V7aWYoZWxlbWVudFBhcmVudC50YWdOYW1lPT0nVEFCTEUnKXtsZXQgcGFyZW50Qm9yZGVyPXBhcnNlSW50KGVsZW1lbnRQYXJlbnQuYm9yZGVyKTtpZihpc05hTihwYXJlbnRCb3JkZXIpKXtsZXQgcGFyZW50RnJhbWU9ZWxlbWVudFBhcmVudC5nZXRBdHRyaWJ1dGUoJ2ZyYW1lJyk7aWYocGFyZW50RnJhbWUhPW51bGwpe3grPTE7fX1lbHNlIGlmKHBhcmVudEJvcmRlcj4wKXt4Kz1wYXJlbnRCb3JkZXI7fX19eCs9ZWxlbWVudFBhcmVudC5vZmZzZXRMZWZ0O2VsZW1lbnRQYXJlbnQ9ZWxlbWVudFBhcmVudC5vZmZzZXRQYXJlbnQ7fXJldHVybiB4O307U2VsZW5pdW0ucHJvdG90eXBlLmdldEVsZW1lbnRQb3NpdGlvblRvcD1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogUmV0cmlldmVzIHRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiBvZiBhbiBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IHBvaW50aW5nIHRvIGFuIGVsZW1lbnQgT1IgYW4gZWxlbWVudCBpdHNlbGZcbiAgICogQHJldHVybiBudW1iZXIgb2YgcGl4ZWxzIGZyb20gdGhlIGVkZ2Ugb2YgdGhlIGZyYW1lLlxuICAgKi9sZXQgZWxlbWVudDtpZignc3RyaW5nJz09dHlwZW9mIGxvY2F0b3Ipe2VsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO31lbHNle2VsZW1lbnQ9bG9jYXRvcjt9bGV0IHk9MDt3aGlsZShlbGVtZW50IT1udWxsKXtpZihkb2N1bWVudC5hbGwpe2lmKGVsZW1lbnQudGFnTmFtZSE9J1RBQkxFJyYmZWxlbWVudC50YWdOYW1lIT0nQk9EWScpe3krPWVsZW1lbnQuY2xpZW50VG9wO319Ly8gTmV0c2NhcGUvRE9NXG5lbHNle2lmKGVsZW1lbnQudGFnTmFtZT09J1RBQkxFJyl7bGV0IHBhcmVudEJvcmRlcj1wYXJzZUludChlbGVtZW50LmJvcmRlcik7aWYoaXNOYU4ocGFyZW50Qm9yZGVyKSl7bGV0IHBhcmVudEZyYW1lPWVsZW1lbnQuZ2V0QXR0cmlidXRlKCdmcmFtZScpO2lmKHBhcmVudEZyYW1lIT1udWxsKXt5Kz0xO319ZWxzZSBpZihwYXJlbnRCb3JkZXI+MCl7eSs9cGFyZW50Qm9yZGVyO319fXkrPWVsZW1lbnQub2Zmc2V0VG9wOy8vIE5ldHNjYXBlIGNhbiBnZXQgY29uZnVzZWQgaW4gc29tZSBjYXNlcywgc3VjaCB0aGF0IHRoZSBoZWlnaHQgb2YgdGhlIHBhcmVudCBpcyBzbWFsbGVyXG4vLyB0aGFuIHRoYXQgb2YgdGhlIGVsZW1lbnQgKHdoaWNoIGl0IHNob3VsZG4ndCByZWFsbHkgYmUpLiBJZiB0aGlzIGlzIHRoZSBjYXNlLCB3ZSBuZWVkIHRvXG4vLyBleGNsdWRlIHRoaXMgZWxlbWVudCwgc2luY2UgaXQgd2lsbCByZXN1bHQgaW4gdG9vIGxhcmdlIGEgJ3RvcCcgcmV0dXJuIHZhbHVlLlxuaWYoZWxlbWVudC5vZmZzZXRQYXJlbnQmJmVsZW1lbnQub2Zmc2V0UGFyZW50Lm9mZnNldEhlaWdodCYmZWxlbWVudC5vZmZzZXRQYXJlbnQub2Zmc2V0SGVpZ2h0PGVsZW1lbnQub2Zmc2V0SGVpZ2h0KXsvLyBza2lwIHRoZSBwYXJlbnQgdGhhdCdzIHRvbyBzbWFsbFxuZWxlbWVudD1lbGVtZW50Lm9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7fWVsc2V7Ly8gTmV4dCB1cC4uLlxuZWxlbWVudD1lbGVtZW50Lm9mZnNldFBhcmVudDt9fXJldHVybiB5O307U2VsZW5pdW0ucHJvdG90eXBlLmdldEVsZW1lbnRXaWR0aD1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogUmV0cmlldmVzIHRoZSB3aWR0aCBvZiBhbiBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IHBvaW50aW5nIHRvIGFuIGVsZW1lbnRcbiAgICogQHJldHVybiBudW1iZXIgd2lkdGggb2YgYW4gZWxlbWVudCBpbiBwaXhlbHNcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3JldHVybiBlbGVtZW50Lm9mZnNldFdpZHRoO307U2VsZW5pdW0ucHJvdG90eXBlLmdldEVsZW1lbnRIZWlnaHQ9ZnVuY3Rpb24obG9jYXRvcil7LyoqXG4gICAqIFJldHJpZXZlcyB0aGUgaGVpZ2h0IG9mIGFuIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIGxvY2F0b3IgYW4gPGEgaHJlZj1cIiNsb2NhdG9yc1wiPmVsZW1lbnQgbG9jYXRvcjwvYT4gcG9pbnRpbmcgdG8gYW4gZWxlbWVudFxuICAgKiBAcmV0dXJuIG51bWJlciBoZWlnaHQgb2YgYW4gZWxlbWVudCBpbiBwaXhlbHNcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO3JldHVybiBlbGVtZW50Lm9mZnNldEhlaWdodDt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRDdXJzb3JQb3NpdGlvbj1mdW5jdGlvbihsb2NhdG9yKXsvKipcbiAgICogUmV0cmlldmVzIHRoZSB0ZXh0IGN1cnNvciBwb3NpdGlvbiBpbiB0aGUgZ2l2ZW4gaW5wdXQgZWxlbWVudCBvciB0ZXh0YXJlYTsgYmV3YXJlLCB0aGlzIG1heSBub3Qgd29yayBwZXJmZWN0bHkgb24gYWxsIGJyb3dzZXJzLlxuICAgKlxuICAgKiA8cD5TcGVjaWZpY2FsbHksIGlmIHRoZSBjdXJzb3Ivc2VsZWN0aW9uIGhhcyBiZWVuIGNsZWFyZWQgYnkgSmF2YVNjcmlwdCwgdGhpcyBjb21tYW5kIHdpbGwgdGVuZCB0b1xuICAgKiByZXR1cm4gdGhlIHBvc2l0aW9uIG9mIHRoZSBsYXN0IGxvY2F0aW9uIG9mIHRoZSBjdXJzb3IsIGV2ZW4gdGhvdWdoIHRoZSBjdXJzb3IgaXMgbm93IGdvbmUgZnJvbSB0aGUgcGFnZS4gIFRoaXMgaXMgZmlsZWQgYXMgPGEgaHJlZj1cImh0dHA6Ly9qaXJhLm9wZW5xYS5vcmcvYnJvd3NlL1NFTC0yNDNcIj5TRUwtMjQzPC9hPi48L3A+XG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgZmFpbCBpZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgaXNuJ3QgYW4gaW5wdXQgZWxlbWVudCBvciB0ZXh0YXJlYSwgb3IgdGhlcmUgaXMgbm8gY3Vyc29yIGluIHRoZSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gbG9jYXRvciBhbiA8YSBocmVmPVwiI2xvY2F0b3JzXCI+ZWxlbWVudCBsb2NhdG9yPC9hPiBwb2ludGluZyB0byBhbiBpbnB1dCBlbGVtZW50IG9yIHRleHRhcmVhXG4gICAqIEByZXR1cm4gbnVtYmVyIHRoZSBudW1lcmljYWwgcG9zaXRpb24gb2YgdGhlIGN1cnNvciBpbiB0aGUgZmllbGRcbiAgICovbGV0IGVsZW1lbnQ9dGhpcy5icm93c2VyYm90LmZpbmRFbGVtZW50KGxvY2F0b3IpO2xldCBkb2M9dGhpcy5icm93c2VyYm90LmdldERvY3VtZW50KCk7bGV0IHdpbj10aGlzLmJyb3dzZXJib3QuZ2V0Q3VycmVudFdpbmRvdygpO2xldCBlbGVtZW50UmFuZ2U7aWYoZG9jLnNlbGVjdGlvbiYmIWJyb3dzZXJWZXJzaW9uLmlzT3BlcmEpe3RyeXtsZXQgc2VsZWN0UmFuZ2U9ZG9jLnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLmR1cGxpY2F0ZSgpO2VsZW1lbnRSYW5nZT1lbGVtZW50LmNyZWF0ZVRleHRSYW5nZSgpO3NlbGVjdFJhbmdlLm1vdmUoJ2NoYXJhY3RlcicsMCk7ZWxlbWVudFJhbmdlLm1vdmUoJ2NoYXJhY3RlcicsMCk7ZWxlbWVudFJhbmdlLnNldEVuZFBvaW50KCdFbmRUb0VuZCcsc2VsZWN0UmFuZ2UpO31jYXRjaChlKXtBc3NlcnQuZmFpbCgnVGhlcmUgaXMgbm8gY3Vyc29yIG9uIHRoaXMgcGFnZSEnKTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG59bGV0IGFuc3dlcj1TdHJpbmcoZWxlbWVudFJhbmdlLnRleHQpLnJlcGxhY2UoL1xcci9nLCcnKS5sZW5ndGg7cmV0dXJuIGFuc3dlcjt9ZWxzZXtpZih0eXBlb2YgZWxlbWVudC5zZWxlY3Rpb25TdGFydCE9J3VuZGVmaW5lZCcpe2lmKHdpbi5nZXRTZWxlY3Rpb24mJnR5cGVvZiB3aW4uZ2V0U2VsZWN0aW9uKCkucmFuZ2VDb3VudCE9dW5kZWZpbmVkJiZ3aW4uZ2V0U2VsZWN0aW9uKCkucmFuZ2VDb3VudD09MCl7QXNzZXJ0LmZhaWwoJ1RoZXJlIGlzIG5vIGN1cnNvciBvbiB0aGlzIHBhZ2UhJyk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufXJldHVybiBlbGVtZW50LnNlbGVjdGlvblN0YXJ0O319dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZGV0ZWN0IGN1cnNvciBwb3NpdGlvbiBvbiB0aGlzIGJyb3dzZXIhXCIpO307U2VsZW5pdW0ucHJvdG90eXBlLmdldEV4cHJlc3Npb249ZnVuY3Rpb24oZXhwcmVzc2lvbil7LyoqXG4gICAqIFJldHVybnMgdGhlIHNwZWNpZmllZCBleHByZXNzaW9uLlxuICAgKlxuICAgKiA8cD5UaGlzIGlzIHVzZWZ1bCBiZWNhdXNlIG9mIEphdmFTY3JpcHQgcHJlcHJvY2Vzc2luZy5cbiAgICogSXQgaXMgdXNlZCB0byBnZW5lcmF0ZSBjb21tYW5kcyBsaWtlIGFzc2VydEV4cHJlc3Npb24gYW5kIHdhaXRGb3JFeHByZXNzaW9uLjwvcD5cbiAgICpcbiAgICogQHBhcmFtIGV4cHJlc3Npb24gdGhlIHZhbHVlIHRvIHJldHVyblxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgdmFsdWUgcGFzc2VkIGluXG4gICAqL3JldHVybiBleHByZXNzaW9uO307U2VsZW5pdW0ucHJvdG90eXBlLmdldFhwYXRoQ291bnQ9ZnVuY3Rpb24oeHBhdGgpey8qKlxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygbm9kZXMgdGhhdCBtYXRjaCB0aGUgc3BlY2lmaWVkIHhwYXRoLCBlZy4gXCIvL3RhYmxlXCIgd291bGQgZ2l2ZVxuICAgKiB0aGUgbnVtYmVyIG9mIHRhYmxlcy5cbiAgICpcbiAgICogQHBhcmFtIHhwYXRoIHRoZSB4cGF0aCBleHByZXNzaW9uIHRvIGV2YWx1YXRlLiBkbyBOT1Qgd3JhcCB0aGlzIGV4cHJlc3Npb24gaW4gYSAnY291bnQoKScgZnVuY3Rpb247IHdlIHdpbGwgZG8gdGhhdCBmb3IgeW91LlxuICAgKiBAcmV0dXJuIG51bWJlciB0aGUgbnVtYmVyIG9mIG5vZGVzIHRoYXQgbWF0Y2ggdGhlIHNwZWNpZmllZCB4cGF0aFxuICAgKi9sZXQgcmVzdWx0PXRoaXMuYnJvd3NlcmJvdC5ldmFsdWF0ZVhQYXRoQ291bnQoeHBhdGgsdGhpcy5icm93c2VyYm90LmdldERvY3VtZW50KCkpO3JldHVybiByZXN1bHQ7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0Q3NzQ291bnQ9ZnVuY3Rpb24oY3NzKXsvKipcbiAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIG5vZGVzIHRoYXQgbWF0Y2ggdGhlIHNwZWNpZmllZCBjc3Mgc2VsZWN0b3IsIGVnLiBcImNzcz10YWJsZVwiIHdvdWxkIGdpdmVcbiAgICogdGhlIG51bWJlciBvZiB0YWJsZXMuXG4gICAqXG4gICAqIEBwYXJhbSBjc3MgdGhlIGNzcyBzZWxlY3RvciB0byBldmFsdWF0ZS4gZG8gTk9UIHdyYXAgdGhpcyBleHByZXNzaW9uIGluIGEgJ2NvdW50KCknIGZ1bmN0aW9uOyB3ZSB3aWxsIGRvIHRoYXQgZm9yIHlvdS5cbiAgICogQHJldHVybiB0aGUgbnVtYmVyIG9mIG5vZGVzIHRoYXQgbWF0Y2ggdGhlIHNwZWNpZmllZCBzZWxlY3RvclxuICAgKi9sZXQgcmVzdWx0PXRoaXMuYnJvd3NlcmJvdC5ldmFsdWF0ZUNzc0NvdW50KGNzcyx0aGlzLmJyb3dzZXJib3QuZ2V0RG9jdW1lbnQoKSk7cmV0dXJuIHJlc3VsdDt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fzc2lnbklkPWZ1bmN0aW9uKGxvY2F0b3IsaWRlbnRpZmllcil7LyoqXG4gICAqIFRlbXBvcmFyaWx5IHNldHMgdGhlIFwiaWRcIiBhdHRyaWJ1dGUgb2YgdGhlIHNwZWNpZmllZCBlbGVtZW50LCBzbyB5b3UgY2FuIGxvY2F0ZSBpdCBpbiB0aGUgZnV0dXJlXG4gICAqIHVzaW5nIGl0cyBJRCByYXRoZXIgdGhhbiBhIHNsb3cvY29tcGxpY2F0ZWQgWFBhdGguICBUaGlzIElEIHdpbGwgZGlzYXBwZWFyIG9uY2UgdGhlIHBhZ2UgaXNcbiAgICogcmVsb2FkZWQuXG4gICAqIEBwYXJhbSBsb2NhdG9yIGFuIDxhIGhyZWY9XCIjbG9jYXRvcnNcIj5lbGVtZW50IGxvY2F0b3I8L2E+IHBvaW50aW5nIHRvIGFuIGVsZW1lbnRcbiAgICogQHBhcmFtIGlkZW50aWZpZXIgYSBzdHJpbmcgdG8gYmUgdXNlZCBhcyB0aGUgSUQgb2YgdGhlIHNwZWNpZmllZCBlbGVtZW50XG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtlbGVtZW50LmlkPWlkZW50aWZpZXI7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9BbGxvd05hdGl2ZVhwYXRoPWZ1bmN0aW9uKGFsbG93KXsvKipcbiAgICogU3BlY2lmaWVzIHdoZXRoZXIgU2VsZW5pdW0gc2hvdWxkIHVzZSB0aGUgbmF0aXZlIGluLWJyb3dzZXIgaW1wbGVtZW50YXRpb25cbiAgICogb2YgWFBhdGggKGlmIGFueSBuYXRpdmUgdmVyc2lvbiBpcyBhdmFpbGFibGUpOyBpZiB5b3UgcGFzcyBcImZhbHNlXCIgdG9cbiAgICogdGhpcyBmdW5jdGlvbiwgd2Ugd2lsbCBhbHdheXMgdXNlIG91ciBwdXJlLUphdmFTY3JpcHQgeHBhdGggbGlicmFyeS5cbiAgICogVXNpbmcgdGhlIHB1cmUtSlMgeHBhdGggbGlicmFyeSBjYW4gaW1wcm92ZSB0aGUgY29uc2lzdGVuY3kgb2YgeHBhdGhcbiAgICogZWxlbWVudCBsb2NhdG9ycyBiZXR3ZWVuIGRpZmZlcmVudCBicm93c2VyIHZlbmRvcnMsIGJ1dCB0aGUgcHVyZS1KU1xuICAgKiB2ZXJzaW9uIGlzIG11Y2ggc2xvd2VyIHRoYW4gdGhlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbnMuXG4gICAqIEBwYXJhbSBhbGxvdyBib29sZWFuLCB0cnVlIG1lYW5zIHdlJ2xsIHByZWZlciB0byB1c2UgbmF0aXZlIFhQYXRoOyBmYWxzZSBtZWFucyB3ZSdsbCBvbmx5IHVzZSBKUyBYUGF0aFxuICAgKi9pZignZmFsc2UnPT1hbGxvd3x8JzAnPT1hbGxvdyl7Ly8gVGhlIHN0cmluZ3MgXCJmYWxzZVwiIGFuZCBcIjBcIiBhcmUgdHJ1ZSB2YWx1ZXMgaW4gSlNcbmFsbG93PWZhbHNlO310aGlzLmJyb3dzZXJib3Quc2V0QWxsb3dOYXRpdmVYUGF0aChhbGxvdyk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9JZ25vcmVBdHRyaWJ1dGVzV2l0aG91dFZhbHVlPWZ1bmN0aW9uKGlnbm9yZSl7LyoqXG4gICAqIFNwZWNpZmllcyB3aGV0aGVyIFNlbGVuaXVtIHdpbGwgaWdub3JlIHhwYXRoIGF0dHJpYnV0ZXMgdGhhdCBoYXZlIG5vXG4gICAqIHZhbHVlLCBpLmUuIGFyZSB0aGUgZW1wdHkgc3RyaW5nLCB3aGVuIHVzaW5nIHRoZSBub24tbmF0aXZlIHhwYXRoXG4gICAqIGV2YWx1YXRpb24gZW5naW5lLiBZb3UnZCB3YW50IHRvIGRvIHRoaXMgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgaW4gSUUuXG4gICAqIEhvd2V2ZXIsIHRoaXMgY291bGQgYnJlYWsgY2VydGFpbiB4cGF0aHMsIGZvciBleGFtcGxlIGFuIHhwYXRoIHRoYXQgbG9va3NcbiAgICogZm9yIGFuIGF0dHJpYnV0ZSB3aG9zZSB2YWx1ZSBpcyBOT1QgdGhlIGVtcHR5IHN0cmluZy5cbiAgICpcbiAgICogVGhlIGhvcGUgaXMgdGhhdCBzdWNoIHhwYXRocyBhcmUgcmVsYXRpdmVseSByYXJlLCBidXQgdGhlIHVzZXIgc2hvdWxkXG4gICAqIGhhdmUgdGhlIG9wdGlvbiBvZiB1c2luZyB0aGVtLiBOb3RlIHRoYXQgdGhpcyBvbmx5IGluZmx1ZW5jZXMgeHBhdGhcbiAgICogZXZhbHVhdGlvbiB3aGVuIHVzaW5nIHRoZSBhamF4c2x0IGVuZ2luZSAoaS5lLiBub3QgXCJqYXZhc2NyaXB0LXhwYXRoXCIpLlxuICAgKlxuICAgKiBAcGFyYW0gaWdub3JlIGJvb2xlYW4sIHRydWUgbWVhbnMgd2UnbGwgaWdub3JlIGF0dHJpYnV0ZXMgd2l0aG91dCB2YWx1ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIGF0IHRoZSBleHBlbnNlIG9mIHhwYXRoIFwiY29ycmVjdG5lc3NcIjsgZmFsc2UgbWVhbnNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICB3ZSdsbCBzYWNyaWZpY2Ugc3BlZWQgZm9yIGNvcnJlY3RuZXNzLlxuICAgKi9pZignZmFsc2UnPT1pZ25vcmV8fCcwJz09aWdub3JlKXtpZ25vcmU9ZmFsc2U7fXRoaXMuYnJvd3NlcmJvdC5zZXRJZ25vcmVBdHRyaWJ1dGVzV2l0aG91dFZhbHVlKGlnbm9yZSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9XYWl0Rm9yQ29uZGl0aW9uPWZ1bmN0aW9uKHNjcmlwdCx0aW1lb3V0KXsvKipcbiAgICogUnVucyB0aGUgc3BlY2lmaWVkIEphdmFTY3JpcHQgc25pcHBldCByZXBlYXRlZGx5IHVudGlsIGl0IGV2YWx1YXRlcyB0byBcInRydWVcIi5cbiAgICogVGhlIHNuaXBwZXQgbWF5IGhhdmUgbXVsdGlwbGUgbGluZXMsIGJ1dCBvbmx5IHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgbGluZVxuICAgKiB3aWxsIGJlIGNvbnNpZGVyZWQuXG4gICAqXG4gICAqIDxwPk5vdGUgdGhhdCwgYnkgZGVmYXVsdCwgdGhlIHNuaXBwZXQgd2lsbCBiZSBydW4gaW4gdGhlIHJ1bm5lcidzIHRlc3Qgd2luZG93LCBub3QgaW4gdGhlIHdpbmRvd1xuICAgKiBvZiB5b3VyIGFwcGxpY2F0aW9uLiAgVG8gZ2V0IHRoZSB3aW5kb3cgb2YgeW91ciBhcHBsaWNhdGlvbiwgeW91IGNhbiB1c2VcbiAgICogdGhlIEphdmFTY3JpcHQgc25pcHBldCA8Y29kZT5zZWxlbml1bS5icm93c2VyYm90LmdldEN1cnJlbnRXaW5kb3coKTwvY29kZT4sIGFuZCB0aGVuXG4gICAqIHJ1biB5b3VyIEphdmFTY3JpcHQgaW4gdGhlcmU8L3A+XG4gICAqIEBwYXJhbSBzY3JpcHQgdGhlIEphdmFTY3JpcHQgc25pcHBldCB0byBydW5cbiAgICogQHBhcmFtIHRpbWVvdXQgYSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcywgYWZ0ZXIgd2hpY2ggdGhpcyBjb21tYW5kIHdpbGwgcmV0dXJuIHdpdGggYW4gZXJyb3JcbiAgICovcmV0dXJuIFNlbGVuaXVtLmRlY29yYXRlRnVuY3Rpb25XaXRoVGltZW91dChmdW5jdGlvbigpe3JldHVybiB0aGlzLmV2YWwoc2NyaXB0KTt9LHRpbWVvdXQpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvV2FpdEZvckNvbmRpdGlvbi5kb250Q2hlY2tBbGVydHNBbmRDb25maXJtcz10cnVlO1NlbGVuaXVtLnByb3RvdHlwZS5kb1NldFRpbWVvdXQ9ZnVuY3Rpb24odGltZW91dCl7LyoqXG4gICAqIFNwZWNpZmllcyB0aGUgYW1vdW50IG9mIHRpbWUgdGhhdCBTZWxlbml1bSB3aWxsIHdhaXQgZm9yIGFjdGlvbnMgdG8gY29tcGxldGUuXG4gICAqXG4gICAqIDxwPkFjdGlvbnMgdGhhdCByZXF1aXJlIHdhaXRpbmcgaW5jbHVkZSBcIm9wZW5cIiBhbmQgdGhlIFwid2FpdEZvcipcIiBhY3Rpb25zLjwvcD5cbiAgICogVGhlIGRlZmF1bHQgdGltZW91dCBpcyAzMCBzZWNvbmRzLlxuICAgKiBAcGFyYW0gdGltZW91dCBhIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzLCBhZnRlciB3aGljaCB0aGUgYWN0aW9uIHdpbGwgcmV0dXJuIHdpdGggYW4gZXJyb3JcbiAgICovaWYoIXRpbWVvdXQpe3RpbWVvdXQ9U2VsZW5pdW0uREVGQVVMVF9USU1FT1VUO310aGlzLmRlZmF1bHRUaW1lb3V0PXRpbWVvdXQ7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9XYWl0Rm9yUGFnZVRvTG9hZD1mdW5jdGlvbih0aW1lb3V0KXsvKipcbiAgICogV2FpdHMgZm9yIGEgbmV3IHBhZ2UgdG8gbG9hZC5cbiAgICpcbiAgICogPHA+WW91IGNhbiB1c2UgdGhpcyBjb21tYW5kIGluc3RlYWQgb2YgdGhlIFwiQW5kV2FpdFwiIHN1ZmZpeGVzLCBcImNsaWNrQW5kV2FpdFwiLCBcInNlbGVjdEFuZFdhaXRcIiwgXCJ0eXBlQW5kV2FpdFwiIGV0Yy5cbiAgICogKHdoaWNoIGFyZSBvbmx5IGF2YWlsYWJsZSBpbiB0aGUgSlMgQVBJKS48L3A+XG4gICAqXG4gICAqIDxwPlNlbGVuaXVtIGNvbnN0YW50bHkga2VlcHMgdHJhY2sgb2YgbmV3IHBhZ2VzIGxvYWRpbmcsIGFuZCBzZXRzIGEgXCJuZXdQYWdlTG9hZGVkXCJcbiAgICogZmxhZyB3aGVuIGl0IGZpcnN0IG5vdGljZXMgYSBwYWdlIGxvYWQuICBSdW5uaW5nIGFueSBvdGhlciBTZWxlbml1bSBjb21tYW5kIGFmdGVyXG4gICAqIHR1cm5zIHRoZSBmbGFnIHRvIGZhbHNlLiAgSGVuY2UsIGlmIHlvdSB3YW50IHRvIHdhaXQgZm9yIGEgcGFnZSB0byBsb2FkLCB5b3UgbXVzdFxuICAgKiB3YWl0IGltbWVkaWF0ZWx5IGFmdGVyIGEgU2VsZW5pdW0gY29tbWFuZCB0aGF0IGNhdXNlZCBhIHBhZ2UtbG9hZC48L3A+XG4gICAqIEBwYXJhbSB0aW1lb3V0IGEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMsIGFmdGVyIHdoaWNoIHRoaXMgY29tbWFuZCB3aWxsIHJldHVybiB3aXRoIGFuIGVycm9yXG4gICAqLyAvLyBpbiBwaS1tb2RlLCB0aGUgdGVzdCBhbmQgdGhlIGhhcm5lc3Mgc2hhcmUgdGhlIHdpbmRvdzsgdGh1cyBpZiB3ZSBhcmUgZXhlY3V0aW5nIHRoaXMgY29kZSwgdGhlbiB3ZSBoYXZlIGxvYWRlZFxuaWYod2luZG93Wydwcm94eUluamVjdGlvbk1vZGUnXT09bnVsbHx8IXdpbmRvd1sncHJveHlJbmplY3Rpb25Nb2RlJ10pe3JldHVybiB0aGlzLm1ha2VQYWdlTG9hZENvbmRpdGlvbih0aW1lb3V0KTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9XYWl0Rm9yRnJhbWVUb0xvYWQ9ZnVuY3Rpb24oX2ZyYW1lQWRkcmVzcyx0aW1lb3V0KXsvKipcbiAgICogV2FpdHMgZm9yIGEgbmV3IGZyYW1lIHRvIGxvYWQuXG4gICAqXG4gICAqIDxwPlNlbGVuaXVtIGNvbnN0YW50bHkga2VlcHMgdHJhY2sgb2YgbmV3IHBhZ2VzIGFuZCBmcmFtZXMgbG9hZGluZyxcbiAgICogYW5kIHNldHMgYSBcIm5ld1BhZ2VMb2FkZWRcIiBmbGFnIHdoZW4gaXQgZmlyc3Qgbm90aWNlcyBhIHBhZ2UgbG9hZC48L3A+XG4gICAqXG4gICAqIFNlZSB3YWl0Rm9yUGFnZVRvTG9hZCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGZyYW1lQWRkcmVzcyBGcmFtZUFkZHJlc3MgZnJvbSB0aGUgc2VydmVyIHNpZGVcbiAgICogQHBhcmFtIHRpbWVvdXQgYSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcywgYWZ0ZXIgd2hpY2ggdGhpcyBjb21tYW5kIHdpbGwgcmV0dXJuIHdpdGggYW4gZXJyb3JcbiAgICovIC8vIGluIHBpLW1vZGUsIHRoZSB0ZXN0IGFuZCB0aGUgaGFybmVzcyBzaGFyZSB0aGUgd2luZG93OyB0aHVzIGlmIHdlIGFyZSBleGVjdXRpbmcgdGhpcyBjb2RlLCB0aGVuIHdlIGhhdmUgbG9hZGVkXG5pZih3aW5kb3dbJ3Byb3h5SW5qZWN0aW9uTW9kZSddPT1udWxsfHwhd2luZG93Wydwcm94eUluamVjdGlvbk1vZGUnXSl7cmV0dXJuIHRoaXMubWFrZVBhZ2VMb2FkQ29uZGl0aW9uKHRpbWVvdXQpO319O1NlbGVuaXVtLnByb3RvdHlwZS5faXNOZXdQYWdlTG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5pc05ld1BhZ2VMb2FkZWQoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5fYWJvcnRYaHJSZXF1ZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5hYm9ydFhoclJlcXVlc3QoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb1dhaXRGb3JQYWdlVG9Mb2FkLmRvbnRDaGVja0FsZXJ0c0FuZENvbmZpcm1zPXRydWU7LyoqXG4gKiBFdmFsdWF0ZSBhIHBhcmFtZXRlciwgcGVyZm9ybWluZyBKYXZhU2NyaXB0IGV2YWx1YXRpb24gYW5kIHZhcmlhYmxlIHN1YnN0aXR1dGlvbi5cbiAqIElmIHRoZSBzdHJpbmcgbWF0Y2hlcyB0aGUgcGF0dGVybiBcImphdmFzY3JpcHR7IC4uLiB9XCIsIGV2YWx1YXRlIHRoZSBzdHJpbmcgYmV0d2VlbiB0aGUgYnJhY2VzLlxuICovU2VsZW5pdW0ucHJvdG90eXBlLnByZXByb2Nlc3NQYXJhbWV0ZXI9ZnVuY3Rpb24odmFsdWUpe2lmKCF2YWx1ZS5zY3JpcHQpey8vIG9ubHkgZm9yIG5vbi1zY3JpcHRzXG5sZXQgbWF0Y2g9dmFsdWUubWF0Y2goL15qYXZhc2NyaXB0XFx7KCgufFxccj9cXG4pKylcXH0kLyk7aWYobWF0Y2gmJm1hdGNoWzFdKXticm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe2xvZzp7dHlwZTond2FybicsbWVzc2FnZToncGFyYW1ldGVyIHByZXByb2Nlc3NpbmcgdXNpbmcgamF2YXNjcmlwdHt9IHRhZyBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGV4ZWN1dGUgc2NyaXB0J319KTtsZXQgcmVzdWx0PXRoaXMuZXZhbChtYXRjaFsxXSk7cmV0dXJuIHJlc3VsdD09bnVsbD9udWxsOnJlc3VsdC50b1N0cmluZygpO319cmV0dXJuIHZhbHVlO307U2VsZW5pdW0ucHJvdG90eXBlLnJlcGxhY2VLZXlzPWZ1bmN0aW9uKHN0cil7bGV0IGtleXM9W107bGV0IG1hdGNoPXN0ci5tYXRjaCgvXFwkXFx7XFx3K1xcfS9nKTtpZighbWF0Y2gpe2tleXMucHVzaChzdHIpO31lbHNle2xldCBpPTA7d2hpbGUoaTxzdHIubGVuZ3RoKXtsZXQgY3VycmVudEtleT1tYXRjaC5zaGlmdCgpLGN1cnJlbnRLZXlJbmRleD1zdHIuaW5kZXhPZihjdXJyZW50S2V5LGkpO2lmKGN1cnJlbnRLZXlJbmRleD5pKXsvLyBwdXNoIHRoZSBzdHJpbmcgYmVmb3JlIHRoZSBjdXJyZW50IGtleVxua2V5cy5wdXNoKHN0ci5zdWJzdHIoaSxjdXJyZW50S2V5SW5kZXgtaSkpO2k9Y3VycmVudEtleUluZGV4O31pZihjdXJyZW50S2V5KXtpZigvXlxcJFxce0tFWV9cXHcrXFx9Ly50ZXN0KGN1cnJlbnRLZXkpKXsvLyBpcyBhIGtleVxubGV0IGtleU5hbWU9Y3VycmVudEtleS5tYXRjaCgvXFwkXFx7S0VZXyhcXHcrKVxcfS8pWzFdO2xldCBrZXk9Ym90LktleWJvYXJkLktleXNba2V5TmFtZV07aWYoa2V5KXtrZXlzLnB1c2goa2V5KTt9ZWxzZXt0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXNlZCBrZXkgJHtrZXlOYW1lfWApO319ZWxzZXsvLyBub3QgYSBrZXksIGFuZCBub3QgYSBzdG9yZWQgdmFyaWFibGUsIHB1c2ggaXQgYXMtaXNcbmtleXMucHVzaChjdXJyZW50S2V5KTt9aSs9Y3VycmVudEtleS5sZW5ndGg7fWVsc2UgaWYoaTxzdHIubGVuZ3RoKXsvLyBwdXNoIHRoZSByZXN0IG9mIHRoZSBzdHJpbmdcbmtleXMucHVzaChzdHIuc3Vic3RyKGksc3RyLmxlbmd0aCkpO2k9c3RyLmxlbmd0aDt9fX1yZXR1cm4ga2V5czt9O1NlbGVuaXVtLnByb3RvdHlwZS5nZXRDb29raWU9ZnVuY3Rpb24oKXsvKipcbiAgICogUmV0dXJuIGFsbCBjb29raWVzIG9mIHRoZSBjdXJyZW50IHBhZ2UgdW5kZXIgdGVzdC5cbiAgICpcbiAgICogQHJldHVybiBzdHJpbmcgYWxsIGNvb2tpZXMgb2YgdGhlIGN1cnJlbnQgcGFnZSB1bmRlciB0ZXN0XG4gICAqL2xldCBkb2M9dGhpcy5icm93c2VyYm90LmdldERvY3VtZW50KCk7cmV0dXJuIGRvYy5jb29raWU7fTtTZWxlbml1bS5wcm90b3R5cGUuZ2V0Q29va2llQnlOYW1lPWZ1bmN0aW9uKG5hbWUpey8qKlxuICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgY29va2llIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lLCBvciB0aHJvd3MgYW4gZXJyb3IgaWYgdGhlIGNvb2tpZSBpcyBub3QgcHJlc2VudC5cbiAgICogQHBhcmFtIG5hbWUgdGhlIG5hbWUgb2YgdGhlIGNvb2tpZVxuICAgKiBAcmV0dXJuIHN0cmluZyB0aGUgdmFsdWUgb2YgdGhlIGNvb2tpZVxuICAgKi9sZXQgdj10aGlzLmJyb3dzZXJib3QuZ2V0Q29va2llQnlOYW1lKG5hbWUpO2lmKHY9PT1udWxsKXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcihcIkNvb2tpZSAnXCIrbmFtZStcIicgd2FzIG5vdCBmb3VuZFwiKTt9cmV0dXJuIHY7fTtTZWxlbml1bS5wcm90b3R5cGUuaXNDb29raWVQcmVzZW50PWZ1bmN0aW9uKG5hbWUpey8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYSBjb29raWUgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUgaXMgcHJlc2VudCwgb3IgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgY29va2llXG4gICAqIEByZXR1cm4gYm9vbGVhbiB0cnVlIGlmIGEgY29va2llIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lIGlzIHByZXNlbnQsIG9yIGZhbHNlIG90aGVyd2lzZS5cbiAgICovbGV0IHY9dGhpcy5icm93c2VyYm90LmdldENvb2tpZUJ5TmFtZShuYW1lKTtsZXQgYWJzZW50PXY9PT1udWxsO3JldHVybiFhYnNlbnQ7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9DcmVhdGVDb29raWU9ZnVuY3Rpb24obmFtZVZhbHVlUGFpcixvcHRpb25zU3RyaW5nKXsvKipcbiAgICogQ3JlYXRlIGEgbmV3IGNvb2tpZSB3aG9zZSBwYXRoIGFuZCBkb21haW4gYXJlIHNhbWUgd2l0aCB0aG9zZSBvZiBjdXJyZW50IHBhZ2VcbiAgICogdW5kZXIgdGVzdCwgdW5sZXNzIHlvdSBzcGVjaWZpZWQgYSBwYXRoIGZvciB0aGlzIGNvb2tpZSBleHBsaWNpdGx5LlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZVZhbHVlUGFpciBuYW1lIGFuZCB2YWx1ZSBvZiB0aGUgY29va2llIGluIGEgZm9ybWF0IFwibmFtZT12YWx1ZVwiXG4gICAqIEBwYXJhbSBvcHRpb25zU3RyaW5nIG9wdGlvbnMgZm9yIHRoZSBjb29raWUuIEN1cnJlbnRseSBzdXBwb3J0ZWQgb3B0aW9ucyBpbmNsdWRlICdwYXRoJywgJ21heF9hZ2UnIGFuZCAnZG9tYWluJy5cbiAgICogICAgICB0aGUgb3B0aW9uc1N0cmluZydzIGZvcm1hdCBpcyBcInBhdGg9L3BhdGgvLCBtYXhfYWdlPTYwLCBkb21haW49LmZvby5jb21cIi4gVGhlIG9yZGVyIG9mIG9wdGlvbnMgYXJlIGlycmVsZXZhbnQsIHRoZSB1bml0XG4gICAqICAgICAgb2YgdGhlIHZhbHVlIG9mICdtYXhfYWdlJyBpcyBzZWNvbmQuICBOb3RlIHRoYXQgc3BlY2lmeWluZyBhIGRvbWFpbiB0aGF0IGlzbid0IGEgc3Vic2V0IG9mIHRoZSBjdXJyZW50IGRvbWFpbiB3aWxsXG4gICAqICAgICAgdXN1YWxseSBmYWlsLlxuICAgKi8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG5sZXQgcmVzdWx0cz0vW15cXHM9XFxbXFxdXFwoXFwpLFwiXFwvXFw/QDo7XSs9W15cXHM9XFxbXFxdXFwoXFwpLFwiXFwvXFw/QDo7XSovLnRlc3QobmFtZVZhbHVlUGFpcik7aWYoIXJlc3VsdHMpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdJbnZhbGlkIHBhcmFtZXRlci4nKTt9bGV0IGNvb2tpZT1uYW1lVmFsdWVQYWlyLnRyaW0oKTtyZXN1bHRzPS9tYXhfYWdlPShcXGQrKS8uZXhlYyhvcHRpb25zU3RyaW5nKTtpZihyZXN1bHRzKXtsZXQgZXhwaXJlRGF0ZUluTWlsbGlzZWNvbmRzPW5ldyBEYXRlKCkuZ2V0VGltZSgpK3Jlc3VsdHNbMV0qMTAwMDtjb29raWUrPSc7IGV4cGlyZXM9JytuZXcgRGF0ZShleHBpcmVEYXRlSW5NaWxsaXNlY29uZHMpLnRvR01UU3RyaW5nKCk7fXJlc3VsdHM9L3BhdGg9KFteXFxzLF0rKVssXT8vLmV4ZWMob3B0aW9uc1N0cmluZyk7aWYocmVzdWx0cyl7bGV0IHBhdGg9cmVzdWx0c1sxXTtpZihicm93c2VyVmVyc2lvbi5raHRtbCl7Ly8gU2FmYXJpIGFuZCBjb25xdWVyZXIgZG9uJ3QgbGlrZSBwYXRocyB3aXRoIC8gYXQgdGhlIGVuZFxuaWYoJy8nIT1wYXRoKXtwYXRoPXBhdGgucmVwbGFjZSgvXFwvJC8sJycpO319Y29va2llKz0nOyBwYXRoPScrcGF0aDt9cmVzdWx0cz0vZG9tYWluPShbXlxccyxdKylbLF0/Ly5leGVjKG9wdGlvbnNTdHJpbmcpO2lmKHJlc3VsdHMpe2xldCBkb21haW49cmVzdWx0c1sxXTtjb29raWUrPSc7IGRvbWFpbj0nK2RvbWFpbjt9Ly9MT0cuZGVidWcoXCJTZXR0aW5nIGNvb2tpZSB0bzogXCIgKyBjb29raWUpO1xudGhpcy5icm93c2VyYm90LmdldERvY3VtZW50KCkuY29va2llPWNvb2tpZTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0RlbGV0ZUNvb2tpZT1mdW5jdGlvbihuYW1lLG9wdGlvbnNTdHJpbmcpey8qKlxuICAgKiBEZWxldGUgYSBuYW1lZCBjb29raWUgd2l0aCBzcGVjaWZpZWQgcGF0aCBhbmQgZG9tYWluLiAgQmUgY2FyZWZ1bDsgdG8gZGVsZXRlIGEgY29va2llLCB5b3VcbiAgICogbmVlZCB0byBkZWxldGUgaXQgdXNpbmcgdGhlIGV4YWN0IHNhbWUgcGF0aCBhbmQgZG9tYWluIHRoYXQgd2VyZSB1c2VkIHRvIGNyZWF0ZSB0aGUgY29va2llLlxuICAgKiBJZiB0aGUgcGF0aCBpcyB3cm9uZywgb3IgdGhlIGRvbWFpbiBpcyB3cm9uZywgdGhlIGNvb2tpZSBzaW1wbHkgd29uJ3QgYmUgZGVsZXRlZC4gIEFsc29cbiAgICogbm90ZSB0aGF0IHNwZWNpZnlpbmcgYSBkb21haW4gdGhhdCBpc24ndCBhIHN1YnNldCBvZiB0aGUgY3VycmVudCBkb21haW4gd2lsbCB1c3VhbGx5IGZhaWwuXG4gICAqXG4gICAqIFNpbmNlIHRoZXJlJ3Mgbm8gd2F5IHRvIGRpc2NvdmVyIGF0IHJ1bnRpbWUgdGhlIG9yaWdpbmFsIHBhdGggYW5kIGRvbWFpbiBvZiBhIGdpdmVuIGNvb2tpZSxcbiAgICogd2UndmUgYWRkZWQgYW4gb3B0aW9uIGNhbGxlZCAncmVjdXJzZScgdG8gdHJ5IGFsbCBzdWItZG9tYWlucyBvZiB0aGUgY3VycmVudCBkb21haW4gd2l0aFxuICAgKiBhbGwgcGF0aHMgdGhhdCBhcmUgYSBzdWJzZXQgb2YgdGhlIGN1cnJlbnQgcGF0aC4gIEJld2FyZTsgdGhpcyBvcHRpb24gY2FuIGJlIHNsb3cuICBJblxuICAgKiBiaWctTyBub3RhdGlvbiwgaXQgb3BlcmF0ZXMgaW4gTyhuKm0pIHRpbWUsIHdoZXJlIG4gaXMgdGhlIG51bWJlciBvZiBkb3RzIGluIHRoZSBkb21haW5cbiAgICogbmFtZSBhbmQgbSBpcyB0aGUgbnVtYmVyIG9mIHNsYXNoZXMgaW4gdGhlIHBhdGguXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBjb29raWUgdG8gYmUgZGVsZXRlZFxuICAgKiBAcGFyYW0gb3B0aW9uc1N0cmluZyBvcHRpb25zIGZvciB0aGUgY29va2llLiBDdXJyZW50bHkgc3VwcG9ydGVkIG9wdGlvbnMgaW5jbHVkZSAncGF0aCcsICdkb21haW4nXG4gICAqICAgICAgYW5kICdyZWN1cnNlLicgVGhlIG9wdGlvbnNTdHJpbmcncyBmb3JtYXQgaXMgXCJwYXRoPS9wYXRoLywgZG9tYWluPS5mb28uY29tLCByZWN1cnNlPXRydWVcIi5cbiAgICogICAgICBUaGUgb3JkZXIgb2Ygb3B0aW9ucyBhcmUgaXJyZWxldmFudC4gTm90ZSB0aGF0IHNwZWNpZnlpbmcgYSBkb21haW4gdGhhdCBpc24ndCBhIHN1YnNldCBvZlxuICAgKiAgICAgIHRoZSBjdXJyZW50IGRvbWFpbiB3aWxsIHVzdWFsbHkgZmFpbC5cbiAgICovIC8vIHNldCB0aGUgZXhwaXJlIHRpbWUgb2YgdGhlIGNvb2tpZSB0byBiZSBkZWxldGVkIHRvIG9uZSBtaW51dGUgYmVmb3JlIG5vdy5cbmxldCBwYXRoPScnO2xldCBkb21haW49Jyc7bGV0IHJlY3Vyc2U9ZmFsc2U7bGV0IG1hdGNoZWQ9ZmFsc2U7bGV0IHJlc3VsdHM9L3BhdGg9KFteXFxzLF0rKVssXT8vLmV4ZWMob3B0aW9uc1N0cmluZyk7aWYocmVzdWx0cyl7bWF0Y2hlZD10cnVlO3BhdGg9cmVzdWx0c1sxXTt9cmVzdWx0cz0vZG9tYWluPShbXlxccyxdKylbLF0/Ly5leGVjKG9wdGlvbnNTdHJpbmcpO2lmKHJlc3VsdHMpe21hdGNoZWQ9dHJ1ZTtkb21haW49cmVzdWx0c1sxXTt9cmVzdWx0cz0vcmVjdXJzZT0oW15cXHMsXSspWyxdPy8uZXhlYyhvcHRpb25zU3RyaW5nKTtpZihyZXN1bHRzKXttYXRjaGVkPXRydWU7cmVjdXJzZT1yZXN1bHRzWzFdO2lmKCdmYWxzZSc9PXJlY3Vyc2Upe3JlY3Vyc2U9ZmFsc2U7fX0vLyBUcmVhdCB0aGUgZW50aXJlIG9wdGlvbnNTdHJpbmcgYXMgYSBwYXRoIChmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkpXG5pZihvcHRpb25zU3RyaW5nJiYhbWF0Y2hlZCl7Ly9MT0cud2FybihcIlVzaW5nIGVudGlyZSBvcHRpb25zU3RyaW5nIGFzIGEgcGF0aDsgcGxlYXNlIGNoYW5nZSB0aGUgYXJndW1lbnQgdG8gZGVsZXRlQ29va2llIHRvIHVzZSBwYXRoPVwiICsgb3B0aW9uc1N0cmluZyk7XG5wYXRoPW9wdGlvbnNTdHJpbmc7fWlmKGJyb3dzZXJWZXJzaW9uLmtodG1sKXsvLyBTYWZhcmkgYW5kIGNvbnF1ZXJlciBkb24ndCBsaWtlIHBhdGhzIHdpdGggLyBhdCB0aGUgZW5kXG5pZignLychPXBhdGgpe3BhdGg9cGF0aC5yZXBsYWNlKC9cXC8kLywnJyk7fX1wYXRoPXBhdGgudHJpbSgpO2RvbWFpbj1kb21haW4udHJpbSgpO2xldCBjb29raWVOYW1lPW5hbWUudHJpbSgpO2lmKHJlY3Vyc2Upe3RoaXMuYnJvd3NlcmJvdC5yZWN1cnNpdmVseURlbGV0ZUNvb2tpZShjb29raWVOYW1lLGRvbWFpbixwYXRoKTt9ZWxzZXt0aGlzLmJyb3dzZXJib3QuZGVsZXRlQ29va2llKGNvb2tpZU5hbWUsZG9tYWluLHBhdGgpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb0RlbGV0ZUFsbFZpc2libGVDb29raWVzPWZ1bmN0aW9uKCl7LyoqIENhbGxzIGRlbGV0ZUNvb2tpZSB3aXRoIHJlY3Vyc2U9dHJ1ZSBvbiBhbGwgY29va2llcyB2aXNpYmxlIHRvIHRoZSBjdXJyZW50IHBhZ2UuXG4gICAqIEFzIG5vdGVkIG9uIHRoZSBkb2N1bWVudGF0aW9uIGZvciBkZWxldGVDb29raWUsIHJlY3Vyc2U9dHJ1ZSBjYW4gYmUgbXVjaCBzbG93ZXJcbiAgICogdGhhbiBzaW1wbHkgZGVsZXRpbmcgdGhlIGNvb2tpZXMgdXNpbmcgYSBrbm93biBkb21haW4vcGF0aC5cbiAgICovbGV0IHdpbj10aGlzLmJyb3dzZXJib3QuZ2V0Q3VycmVudFdpbmRvdygpO2xldCBkb2M9d2luLmRvY3VtZW50O2xldCBjb29raWVOYW1lcz10aGlzLmJyb3dzZXJib3QuZ2V0QWxsQ29va2llTmFtZXMoZG9jKTtsZXQgZG9tYWluPWRvYy5kb21haW47bGV0IHBhdGg9d2luLmxvY2F0aW9uLnBhdGhuYW1lO2ZvcihsZXQgaT0wO2k8Y29va2llTmFtZXMubGVuZ3RoO2krKyl7dGhpcy5icm93c2VyYm90LnJlY3Vyc2l2ZWx5RGVsZXRlQ29va2llKGNvb2tpZU5hbWVzW2ldLGRvbWFpbixwYXRoLHdpbik7fX07Ly9TZWxlbml1bS5wcm90b3R5cGUuZG9TZXRCcm93c2VyTG9nTGV2ZWwgPSBmdW5jdGlvbihsb2dMZXZlbCkge1xuLyoqXG4gKiBTZXRzIHRoZSB0aHJlc2hvbGQgZm9yIGJyb3dzZXItc2lkZSBsb2dnaW5nIG1lc3NhZ2VzOyBsb2cgbWVzc2FnZXMgYmVuZWF0aCB0aGlzIHRocmVzaG9sZCB3aWxsIGJlIGRpc2NhcmRlZC5cbiAqIFZhbGlkIGxvZ0xldmVsIHN0cmluZ3MgYXJlOiBcImRlYnVnXCIsIFwiaW5mb1wiLCBcIndhcm5cIiwgXCJlcnJvclwiIG9yIFwib2ZmXCIuXG4gKiBUbyBzZWUgdGhlIGJyb3dzZXIgbG9ncywgeW91IG5lZWQgdG9cbiAqIGVpdGhlciBzaG93IHRoZSBsb2cgd2luZG93IGluIEdVSSBtb2RlLCBvciBlbmFibGUgYnJvd3Nlci1zaWRlIGxvZ2dpbmcgaW4gU2VsZW5pdW0gUkMuXG4gKlxuICogQHBhcmFtIGxvZ0xldmVsIG9uZSBvZiB0aGUgZm9sbG93aW5nOiBcImRlYnVnXCIsIFwiaW5mb1wiLCBcIndhcm5cIiwgXCJlcnJvclwiIG9yIFwib2ZmXCJcbiAqLyAvKiAgICBpZiAobG9nTGV2ZWwgPT0gbnVsbCB8fCBsb2dMZXZlbCA9PSBcIlwiKSB7XG4gICAgICAgIHRocm93IG5ldyBTZWxlbml1bUVycm9yKFwiWW91IG11c3Qgc3BlY2lmeSBhIGxvZyBsZXZlbFwiKTtcbiAgICB9XG4gICAgbG9nTGV2ZWwgPSBsb2dMZXZlbC50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICgvL0xPRy5sb2dMZXZlbHNbbG9nTGV2ZWxdID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoXCJJbnZhbGlkIGxvZyBsZXZlbDogXCIgKyBsb2dMZXZlbCk7XG4gICAgfVxuICAgIC8vTE9HLnNldExvZ0xldmVsVGhyZXNob2xkKGxvZ0xldmVsKTtcbn0qL1NlbGVuaXVtLnByb3RvdHlwZS5kb0V4ZWN1dGVTY3JpcHQ9ZnVuY3Rpb24oc2NyaXB0LHZhck5hbWUpe2NvbnN0IHZhbHVlPXRoaXMuZXZhbChzY3JpcHQuc2NyaXB0LHNjcmlwdC5hcmd2KTtpZih2YWx1ZSYmdmFsdWUuY29uc3RydWN0b3IubmFtZT09PSdQcm9taXNlJyl7dGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBzeW5jIG9wZXJhdGlvbiwgaW5zdGVhZCByZWNlaXZlZCBQcm9taXNlJyk7fWlmKHZhck5hbWUpe3JldHVybiBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe3N0b3JlU3RyOnZhbHVlLHN0b3JlVmFyOnZhck5hbWV9KTt9fTtTZWxlbml1bS5wcm90b3R5cGUuZG9FeGVjdXRlQXN5bmNTY3JpcHQ9ZnVuY3Rpb24oc2NyaXB0LHZhck5hbWUpe2NvbnN0IHZhbHVlPXRoaXMuZXZhbChzY3JpcHQuc2NyaXB0LHNjcmlwdC5hcmd2KTtpZih2YWx1ZSYmdmFsdWUuY29uc3RydWN0b3IubmFtZSE9PSdQcm9taXNlJyl7dGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhc3luYyBvcGVyYXRpb24sIGluc3RlYWQgcmVjZWl2ZWQgJHt2YWx1ZT92YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lOnZhbHVlfWApO31yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKHY9PntpZih2YXJOYW1lKXtyZXR1cm4gYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtzdG9yZVN0cjp2LHN0b3JlVmFyOnZhck5hbWV9KTt9fSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9SdW5TY3JpcHQ9ZnVuY3Rpb24oc2NyaXB0KXsvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBcInNjcmlwdFwiIHRhZyBpbiB0aGUgYm9keSBvZiB0aGUgY3VycmVudCB0ZXN0IHdpbmRvdywgYW5kXG4gICAqIGFkZHMgdGhlIHNwZWNpZmllZCB0ZXh0IGludG8gdGhlIGJvZHkgb2YgdGhlIGNvbW1hbmQuICBTY3JpcHRzIHJ1biBpblxuICAgKiB0aGlzIHdheSBjYW4gb2Z0ZW4gYmUgZGVidWdnZWQgbW9yZSBlYXNpbHkgdGhhbiBzY3JpcHRzIGV4ZWN1dGVkIHVzaW5nXG4gICAqIFNlbGVuaXVtJ3MgXCJnZXRFdmFsXCIgY29tbWFuZC4gIEJld2FyZSB0aGF0IEpTIGV4Y2VwdGlvbnMgdGhyb3duIGluIHRoZXNlIHNjcmlwdFxuICAgKiB0YWdzIGFyZW4ndCBtYW5hZ2VkIGJ5IFNlbGVuaXVtLCBzbyB5b3Ugc2hvdWxkIHByb2JhYmx5IHdyYXAgeW91ciBzY3JpcHRcbiAgICogaW4gdHJ5L2NhdGNoIGJsb2NrcyBpZiB0aGVyZSBpcyBhbnkgY2hhbmNlIHRoYXQgdGhlIHNjcmlwdCB3aWxsIHRocm93XG4gICAqIGFuIGV4Y2VwdGlvbi5cbiAgICogQHBhcmFtIHNjcmlwdCB0aGUgSmF2YVNjcmlwdCBzbmlwcGV0IHRvIHJ1blxuICAgKi90aGlzLmV2YWwoc2NyaXB0LnNjcmlwdCxzY3JpcHQuYXJndik7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Sb2xsdXA9ZnVuY3Rpb24ocm9sbHVwTmFtZSxrd2FyZ3Mpey8qKlxuICAgKiBFeGVjdXRlcyBhIGNvbW1hbmQgcm9sbHVwLCB3aGljaCBpcyBhIHNlcmllcyBvZiBjb21tYW5kcyB3aXRoIGEgdW5pcXVlXG4gICAqIG5hbWUsIGFuZCBvcHRpb25hbGx5IGFyZ3VtZW50cyB0aGF0IGNvbnRyb2wgdGhlIGdlbmVyYXRpb24gb2YgdGhlIHNldCBvZlxuICAgKiBjb21tYW5kcy4gSWYgYW55IG9uZSBvZiB0aGUgcm9sbGVkLXVwIGNvbW1hbmRzIGZhaWxzLCB0aGUgcm9sbHVwIGlzXG4gICAqIGNvbnNpZGVyZWQgdG8gaGF2ZSBmYWlsZWQuIFJvbGx1cHMgbWF5IGFsc28gY29udGFpbiBuZXN0ZWQgcm9sbHVwcy5cbiAgICpcbiAgICogQHBhcmFtIHJvbGx1cE5hbWUgIHRoZSBuYW1lIG9mIHRoZSByb2xsdXAgY29tbWFuZFxuICAgKiBAcGFyYW0ga3dhcmdzICAgICAga2V5d29yZCBhcmd1bWVudHMgc3RyaW5nIHRoYXQgaW5mbHVlbmNlcyBob3cgdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICByb2xsdXAgZXhwYW5kcyBpbnRvIGNvbW1hbmRzXG4gICAqLyAvLyB3ZSBoYXZlIHRvIHRlbXBvcmFyaWx5IGhpamFjayB0aGUgY29tbWFuZFN0YXJ0ZWQsIG5leHRDb21tYW5kKCksXG4vLyBjb21tYW5kQ29tcGxldGUoKSwgYW5kIGNvbW1hbmRFcnJvcigpIG1ldGhvZHMgb2YgdGhlIFRlc3RMb29wIG9iamVjdC5cbi8vIFdoZW4gdGhlIGV4cGFuZGVkIHJvbGx1cCBjb21tYW5kcyBhcmUgZG9uZSBleGVjdXRpbmcgKG9yIGFuIGVycm9yIGhhc1xuLy8gb2NjdXJyZWQpLCB3ZSdsbCByZXN0b3JlIHRoZW0gdG8gdGhlaXIgb3JpZ2luYWwgdmFsdWVzLlxubGV0IGxvb3A9Y3VycmVudFRlc3R8fGh0bWxUZXN0UnVubmVyLmN1cnJlbnRUZXN0Oy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbmxldCBiYWNrdXBNYW5hZ2VyPXtiYWNrdXA6ZnVuY3Rpb24oKXtmb3IobGV0IGl0ZW0gaW4gdGhpcy5kYXRhKXt0aGlzLmRhdGFbaXRlbV09bG9vcFtpdGVtXTt9fSxyZXN0b3JlOmZ1bmN0aW9uKCl7Zm9yKGxldCBpdGVtIGluIHRoaXMuZGF0YSl7bG9vcFtpdGVtXT10aGlzLmRhdGFbaXRlbV07fX0sZGF0YTp7cmVxdWlyZXNDYWxsQmFjazpudWxsLGNvbW1hbmRTdGFydGVkOm51bGwsbmV4dENvbW1hbmQ6bnVsbCxjb21tYW5kQ29tcGxldGU6bnVsbCxjb21tYW5kRXJyb3I6bnVsbCxwZW5kaW5nUm9sbHVwQ29tbWFuZHM6bnVsbCxyb2xsdXBGYWlsZWQ6bnVsbCxyb2xsdXBGYWlsZWRNZXNzYWdlOm51bGx9Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG59O2xldCBydWxlPVJvbGx1cE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRSb2xsdXBSdWxlKHJvbGx1cE5hbWUpO2xldCBleHBhbmRlZENvbW1hbmRzPXJ1bGUuZ2V0RXhwYW5kZWRDb21tYW5kcyhrd2FyZ3MpOy8vIGhvbGQgeW91ciBicmVhdGggLi4uXG50cnl7YmFja3VwTWFuYWdlci5iYWNrdXAoKTtsb29wLnJlcXVpcmVzQ2FsbEJhY2s9ZmFsc2U7bG9vcC5jb21tYW5kU3RhcnRlZD1mdW5jdGlvbigpe307bG9vcC5uZXh0Q29tbWFuZD1mdW5jdGlvbigpe2lmKHRoaXMucGVuZGluZ1JvbGx1cENvbW1hbmRzLmxlbmd0aD09MCl7cmV0dXJuIG51bGw7fWxldCBjb21tYW5kPXRoaXMucGVuZGluZ1JvbGx1cENvbW1hbmRzLnNoaWZ0KCk7cmV0dXJuIGNvbW1hbmQ7fTtsb29wLmNvbW1hbmRDb21wbGV0ZT1mdW5jdGlvbihyZXN1bHQpe2lmKHJlc3VsdC5mYWlsZWQpe3RoaXMucm9sbHVwRmFpbGVkPXRydWU7dGhpcy5yb2xsdXBGYWlsdXJlTWVzc2FnZXMucHVzaChyZXN1bHQuZmFpbHVyZU1lc3NhZ2UpO31pZih0aGlzLnBlbmRpbmdSb2xsdXBDb21tYW5kcy5sZW5ndGg9PTApe3Jlc3VsdD17ZmFpbGVkOnRoaXMucm9sbHVwRmFpbGVkLGZhaWx1cmVNZXNzYWdlOnRoaXMucm9sbHVwRmFpbHVyZU1lc3NhZ2VzLmpvaW4oJzsgJykvL0xPRy5pbmZvKCdSb2xsdXAgZXhlY3V0aW9uIGNvbXBsZXRlOiAnICsgKHJlc3VsdC5mYWlsZWQgPyAnZmFpbGVkISAoc2VlIGVycm9yIG1lc3NhZ2VzIGJlbG93KScgOiAnb2snKSk7XG59O2JhY2t1cE1hbmFnZXIucmVzdG9yZSgpO3RoaXMuY29tbWFuZENvbXBsZXRlKHJlc3VsdCk7fX07bG9vcC5jb21tYW5kRXJyb3I9ZnVuY3Rpb24oZXJyb3JNZXNzYWdlKXsvL0xPRy5pbmZvKCdSb2xsdXAgZXhlY3V0aW9uIGNvbXBsZXRlOiBib21iZWQhJyk7XG5iYWNrdXBNYW5hZ2VyLnJlc3RvcmUoKTt0aGlzLmNvbW1hbmRFcnJvcihlcnJvck1lc3NhZ2UpO307bG9vcC5wZW5kaW5nUm9sbHVwQ29tbWFuZHM9ZXhwYW5kZWRDb21tYW5kcztsb29wLnJvbGx1cEZhaWxlZD1mYWxzZTtsb29wLnJvbGx1cEZhaWx1cmVNZXNzYWdlcz1bXTt9Y2F0Y2goZSl7Ly9MT0cuZXJyb3IoJ1JvbGx1cCBlcnJvcjogJyArIGUpO1xuYmFja3VwTWFuYWdlci5yZXN0b3JlKCk7fX07U2VsZW5pdW0ucHJvdG90eXBlLmRvQWRkU2NyaXB0PWZ1bmN0aW9uKHNjcmlwdENvbnRlbnQsc2NyaXB0VGFnSWQpey8qKlxuICAgKiBMb2FkcyBzY3JpcHQgY29udGVudCBpbnRvIGEgbmV3IHNjcmlwdCB0YWcgaW4gdGhlIFNlbGVuaXVtIGRvY3VtZW50LiBUaGlzXG4gICAqIGRpZmZlcnMgZnJvbSB0aGUgcnVuU2NyaXB0IGNvbW1hbmQgaW4gdGhhdCBydW5TY3JpcHQgYWRkcyB0aGUgc2NyaXB0IHRhZ1xuICAgKiB0byB0aGUgZG9jdW1lbnQgb2YgdGhlIEFVVCwgbm90IHRoZSBTZWxlbml1bSBkb2N1bWVudC4gVGhlIGZvbGxvd2luZ1xuICAgKiBlbnRpdGllcyBpbiB0aGUgc2NyaXB0IGNvbnRlbnQgYXJlIHJlcGxhY2VkIGJ5IHRoZSBjaGFyYWN0ZXJzIHRoZXlcbiAgICogcmVwcmVzZW50OlxuICAgKlxuICAgKiAgICAgJmx0O1xuICAgKiAgICAgJmd0O1xuICAgKiAgICAgJmFtcDtcbiAgICpcbiAgICogVGhlIGNvcnJlc3BvbmRpbmcgcmVtb3ZlIGNvbW1hbmQgaXMgcmVtb3ZlU2NyaXB0LlxuICAgKlxuICAgKiBAcGFyYW0gc2NyaXB0Q29udGVudCAgdGhlIEphdmFzY3JpcHQgY29udGVudCBvZiB0aGUgc2NyaXB0IHRvIGFkZFxuICAgKiBAcGFyYW0gc2NyaXB0VGFnSWQgICAgKG9wdGlvbmFsKSB0aGUgaWQgb2YgdGhlIG5ldyBzY3JpcHQgdGFnLiBJZlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lmaWVkLCBhbmQgYW4gZWxlbWVudCB3aXRoIHRoaXMgaWQgYWxyZWFkeVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RzLCB0aGlzIG9wZXJhdGlvbiB3aWxsIGZhaWwuXG4gICAqL2lmKHNjcmlwdFRhZ0lkJiZkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzY3JpcHRUYWdJZCkpe2xldCBtc2c9XCJFbGVtZW50IHdpdGggaWQgJ1wiK3NjcmlwdFRhZ0lkK1wiJyBhbHJlYWR5IGV4aXN0cyFcIjt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcihtc2cpO31sZXQgaGVhZD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO2xldCBzY3JpcHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7c2NyaXB0LnR5cGU9J3RleHQvamF2YXNjcmlwdCc7aWYoc2NyaXB0VGFnSWQpe3NjcmlwdC5pZD1zY3JpcHRUYWdJZDt9Ly8gcmVwbGFjZSBzb21lIGVudGl0aWVzXG5zY3JpcHRDb250ZW50PXNjcmlwdENvbnRlbnQucmVwbGFjZSgvJmx0Oy9nLCc8JykucmVwbGFjZSgvJmd0Oy9nLCc+JykucmVwbGFjZSgvJmFtcDsvZywnJicpO3NjcmlwdC50ZXh0PXNjcmlwdENvbnRlbnQ7aGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvUmVtb3ZlU2NyaXB0PWZ1bmN0aW9uKHNjcmlwdFRhZ0lkKXsvKipcbiAgICogUmVtb3ZlcyBhIHNjcmlwdCB0YWcgZnJvbSB0aGUgU2VsZW5pdW0gZG9jdW1lbnQgaWRlbnRpZmllZCBieSB0aGUgZ2l2ZW5cbiAgICogaWQuIERvZXMgbm90aGluZyBpZiB0aGUgcmVmZXJlbmNlZCB0YWcgZG9lc24ndCBleGlzdC5cbiAgICpcbiAgICogQHBhcmFtIHNjcmlwdFRhZ0lkICB0aGUgaWQgb2YgdGhlIHNjcmlwdCBlbGVtZW50IHRvIHJlbW92ZS5cbiAgICovbGV0IHNjcmlwdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChzY3JpcHRUYWdJZCk7aWYoc2NyaXB0JiZnZXRUYWdOYW1lKHNjcmlwdCk9PSdzY3JpcHQnKXtzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpO319O1NlbGVuaXVtLnByb3RvdHlwZS5kb1VzZVhwYXRoTGlicmFyeT1mdW5jdGlvbihsaWJyYXJ5TmFtZSl7LyoqXG4gICAqIEFsbG93cyBjaG9pY2Ugb2Ygb25lIG9mIHRoZSBhdmFpbGFibGUgbGlicmFyaWVzLlxuICAgKiBAcGFyYW0gbGlicmFyeU5hbWUgbmFtZSBvZiB0aGUgZGVzaXJlZCBsaWJyYXJ5XG4gICAqIE9ubHkgdGhlIGZvbGxvd2luZyBjYW4gYmUgY2hvc2VuOlxuICAgKiA8dWw+XG4gICAqICAgPGxpPlwiYWpheHNsdFwiIC0gR29vZ2xlJ3MgbGlicmFyeTwvbGk+XG4gICAqICAgPGxpPlwiamF2YXNjcmlwdC14cGF0aFwiIC0gQ3lib3p1IExhYnMnIGZhc3RlciBsaWJyYXJ5PC9saT5cbiAgICogICA8bGk+XCJycGMtb3B0aW1pemluZy1hamF4c2x0XCIgLSB0aGUgUlBDIG9wdGltaXppbmcgc3RyYXRlZ3ksIGRlbGVnYXRpbmcgdG8gYWpheHNsdDwvbGk+XG4gICAqICAgPGxpPlwicnBjLW9wdGltaXppbmctanN4cGF0aFwiIC0gdGhlIFJQQyBvcHRpbWl6aW5nIHN0cmF0ZWd5LCBkZWxlZ2F0aW5nIHRvIGphdmFzY3JpcHQteHBhdGg8L2xpPlxuICAgKiAgIDxsaT5cImRlZmF1bHRcIiAtIFRoZSBkZWZhdWx0IGxpYnJhcnkuICBDdXJyZW50bHkgdGhlIGRlZmF1bHQgbGlicmFyeSBpcyBcImFqYXhzbHRcIiAuPC9saT5cbiAgICogPC91bD5cbiAgICogSWYgbGlicmFyeU5hbWUgaXNuJ3Qgb25lIG9mIHRoZXNlLCBpdCBtYXkgYmUgdGhlIG5hbWUgb2YgYW5vdGhlciBlbmdpbmVcbiAgICogcmVnaXN0ZXJlZCB0byB0aGUgYnJvd3NlcmJvdCdzIFhQYXRoRXZhbHVhdG9yLCBmb3IgZXhhbXBsZSBieSBvdmVycmlkaW5nXG4gICAqIFhQYXRoRXZhbHVhdG9yLnByb3RvdHlwZS5pbml0KCkgLiBJZiBpdCBpcyBub3QgYSByZWdpc3RlcmVkIGVuZ2luZVxuICAgKiBlaXRoZXIsIHRoZW4gbm8gY2hhbmdlIHdpbGwgYmUgbWFkZS5cbiAgICovaWYoIXRoaXMuYnJvd3NlcmJvdC5nZXRYUGF0aEVuZ2luZShsaWJyYXJ5TmFtZSkpe3JldHVybjt9dGhpcy5icm93c2VyYm90LnNldFhQYXRoRW5naW5lKGxpYnJhcnlOYW1lKTt9Oy8qKlxuICogIEZhY3RvcnkgZm9yIGNyZWF0aW5nIFwiT3B0aW9uIExvY2F0b3JzXCIuXG4gKiAgQW4gT3B0aW9uTG9jYXRvciBpcyBhbiBvYmplY3QgZm9yIGRlYWxpbmcgd2l0aCBTZWxlY3Qgb3B0aW9ucyAoZS5nLiBmb3JcbiAqICBmaW5kaW5nIGEgc3BlY2lmaWVkIG9wdGlvbiwgb3IgYXNzZXJ0aW5nIHRoYXQgdGhlIHNlbGVjdGVkIG9wdGlvbiBvZlxuICogIFNlbGVjdCBlbGVtZW50IG1hdGNoZXMgc29tZSBjb25kaXRpb24uXG4gKiAgVGhlIHR5cGUgb2YgbG9jYXRvciByZXR1cm5lZCBieSB0aGUgZmFjdG9yeSBkZXBlbmRzIG9uIHRoZSBsb2NhdG9yIHN0cmluZzpcbiAqICAgICBsYWJlbD08ZXhwPiAgKE9wdGlvbkxvY2F0b3JCeUxhYmVsKVxuICogICAgIHZhbHVlPTxleHA+ICAoT3B0aW9uTG9jYXRvckJ5VmFsdWUpXG4gKiAgICAgaW5kZXg9PGV4cD4gIChPcHRpb25Mb2NhdG9yQnlJbmRleClcbiAqICAgICBpZD08ZXhwPiAgICAgKE9wdGlvbkxvY2F0b3JCeUlkKVxuICogICAgIDxleHA+IChkZWZhdWx0IGlzIE9wdGlvbkxvY2F0b3JCeUxhYmVsKS5cbiAqL2Z1bmN0aW9uIE9wdGlvbkxvY2F0b3JGYWN0b3J5KCl7fU9wdGlvbkxvY2F0b3JGYWN0b3J5LnByb3RvdHlwZS5mcm9tTG9jYXRvclN0cmluZz1mdW5jdGlvbihsb2NhdG9yU3RyaW5nKXtsZXQgbG9jYXRvclR5cGU9J2xhYmVsJztsZXQgbG9jYXRvclZhbHVlPWxvY2F0b3JTdHJpbmc7Ly8gSWYgdGhlcmUgaXMgYSBsb2NhdG9yIHByZWZpeCwgdXNlIHRoZSBzcGVjaWZpZWQgc3RyYXRlZ3lcbmxldCByZXN1bHQ9bG9jYXRvclN0cmluZy5tYXRjaCgvXihbYS16QS1aXSspPSguKikvKTtpZihyZXN1bHQpe2xvY2F0b3JUeXBlPXJlc3VsdFsxXTtsb2NhdG9yVmFsdWU9cmVzdWx0WzJdO31pZih0aGlzLm9wdGlvbkxvY2F0b3JzPT11bmRlZmluZWQpe3RoaXMucmVnaXN0ZXJPcHRpb25Mb2NhdG9ycygpO31pZih0aGlzLm9wdGlvbkxvY2F0b3JzW2xvY2F0b3JUeXBlXSl7cmV0dXJuIG5ldyB0aGlzLm9wdGlvbkxvY2F0b3JzW2xvY2F0b3JUeXBlXShsb2NhdG9yVmFsdWUpO310aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignVW5rbm93biBvcHRpb24gbG9jYXRvciB0eXBlOiAnK2xvY2F0b3JUeXBlKTt9Oy8qKlxuICogVG8gYWxsb3cgZm9yIGVhc3kgZXh0ZW5zaW9uLCBhbGwgb2YgdGhlIG9wdGlvbiBsb2NhdG9ycyBhcmUgZm91bmQgYnlcbiAqIHNlYXJjaGluZyBmb3IgYWxsIG1ldGhvZHMgb2YgT3B0aW9uTG9jYXRvckZhY3RvcnkucHJvdG90eXBlIHRoYXQgc3RhcnRcbiAqIHdpdGggXCJPcHRpb25Mb2NhdG9yQnlcIi5cbiAqIFRPRE86IENvbnNpZGVyIHVzaW5nIHRoZSB0ZXJtIFwiT3B0aW9uIFNwZWNpZmllclwiIGluc3RlYWQgb2YgXCJPcHRpb24gTG9jYXRvclwiLlxuICovT3B0aW9uTG9jYXRvckZhY3RvcnkucHJvdG90eXBlLnJlZ2lzdGVyT3B0aW9uTG9jYXRvcnM9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbkxvY2F0b3JzPXt9O2ZvcihsZXQgZnVuY3Rpb25OYW1lIGluIHRoaXMpe2xldCByZXN1bHQ9L09wdGlvbkxvY2F0b3JCeShbQS1aXS4rKSQvLmV4ZWMoZnVuY3Rpb25OYW1lKTtpZihyZXN1bHQhPW51bGwpe2xldCBsb2NhdG9yTmFtZT1sb3dlckZpcnN0Q2hhcihyZXN1bHRbMV0pO3RoaXMub3B0aW9uTG9jYXRvcnNbbG9jYXRvck5hbWVdPXRoaXNbZnVuY3Rpb25OYW1lXTt9fX07LyoqXG4gKiAgT3B0aW9uTG9jYXRvciBmb3Igb3B0aW9ucyBpZGVudGlmaWVkIGJ5IHRoZWlyIGxhYmVscy5cbiAqL09wdGlvbkxvY2F0b3JGYWN0b3J5LnByb3RvdHlwZS5PcHRpb25Mb2NhdG9yQnlMYWJlbD1mdW5jdGlvbihsYWJlbCl7dGhpcy5sYWJlbD1sYWJlbDt0aGlzLmxhYmVsTWF0Y2hlcj1uZXcgUGF0dGVybk1hdGNoZXIodGhpcy5sYWJlbCk7dGhpcy5maW5kT3B0aW9uPWZ1bmN0aW9uKGVsZW1lbnQpe2ZvcihsZXQgaT0wO2k8ZWxlbWVudC5vcHRpb25zLmxlbmd0aDtpKyspe2lmKHRoaXMubGFiZWxNYXRjaGVyLm1hdGNoZXMoZWxlbWVudC5vcHRpb25zW2ldLnRleHQpKXtyZXR1cm4gZWxlbWVudC5vcHRpb25zW2ldO319dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoXCJPcHRpb24gd2l0aCBsYWJlbCAnXCIrdGhpcy5sYWJlbCtcIicgbm90IGZvdW5kXCIpO307dGhpcy5hc3NlcnRTZWxlY3RlZD1mdW5jdGlvbihlbGVtZW50KXtsZXQgc2VsZWN0ZWRMYWJlbD1lbGVtZW50Lm9wdGlvbnNbZWxlbWVudC5zZWxlY3RlZEluZGV4XS50ZXh0O0Fzc2VydC5tYXRjaGVzKHRoaXMubGFiZWwsc2VsZWN0ZWRMYWJlbCk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufTt9Oy8qKlxuICogIE9wdGlvbkxvY2F0b3IgZm9yIG9wdGlvbnMgaWRlbnRpZmllZCBieSB0aGVpciB2YWx1ZXMuXG4gKi9PcHRpb25Mb2NhdG9yRmFjdG9yeS5wcm90b3R5cGUuT3B0aW9uTG9jYXRvckJ5VmFsdWU9ZnVuY3Rpb24odmFsdWUpe3RoaXMudmFsdWU9dmFsdWU7dGhpcy52YWx1ZU1hdGNoZXI9bmV3IFBhdHRlcm5NYXRjaGVyKHRoaXMudmFsdWUpO3RoaXMuZmluZE9wdGlvbj1mdW5jdGlvbihlbGVtZW50KXtmb3IobGV0IGk9MDtpPGVsZW1lbnQub3B0aW9ucy5sZW5ndGg7aSsrKXtpZih0aGlzLnZhbHVlTWF0Y2hlci5tYXRjaGVzKGVsZW1lbnQub3B0aW9uc1tpXS52YWx1ZSkpe3JldHVybiBlbGVtZW50Lm9wdGlvbnNbaV07fX10aHJvdyBuZXcgU2VsZW5pdW1FcnJvcihcIk9wdGlvbiB3aXRoIHZhbHVlICdcIit0aGlzLnZhbHVlK1wiJyBub3QgZm91bmRcIik7fTt0aGlzLmFzc2VydFNlbGVjdGVkPWZ1bmN0aW9uKGVsZW1lbnQpe2xldCBzZWxlY3RlZFZhbHVlPWVsZW1lbnQub3B0aW9uc1tlbGVtZW50LnNlbGVjdGVkSW5kZXhdLnZhbHVlO0Fzc2VydC5tYXRjaGVzKHRoaXMudmFsdWUsc2VsZWN0ZWRWYWx1ZSk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufTt9Oy8qKlxuICogIE9wdGlvbkxvY2F0b3IgZm9yIG9wdGlvbnMgaWRlbnRpZmllZCBieSB0aGVpciBpbmRleC5cbiAqL09wdGlvbkxvY2F0b3JGYWN0b3J5LnByb3RvdHlwZS5PcHRpb25Mb2NhdG9yQnlJbmRleD1mdW5jdGlvbihpbmRleCl7dGhpcy5pbmRleD1OdW1iZXIoaW5kZXgpO2lmKGlzTmFOKHRoaXMuaW5kZXgpfHx0aGlzLmluZGV4PDApe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdJbGxlZ2FsIEluZGV4OiAnK2luZGV4KTt9dGhpcy5maW5kT3B0aW9uPWZ1bmN0aW9uKGVsZW1lbnQpe2lmKGVsZW1lbnQub3B0aW9ucy5sZW5ndGg8PXRoaXMuaW5kZXgpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UuICBPbmx5ICcrZWxlbWVudC5vcHRpb25zLmxlbmd0aCsnIG9wdGlvbnMgYXZhaWxhYmxlJyk7fXJldHVybiBlbGVtZW50Lm9wdGlvbnNbdGhpcy5pbmRleF07fTt0aGlzLmFzc2VydFNlbGVjdGVkPWZ1bmN0aW9uKGVsZW1lbnQpe0Fzc2VydC5lcXVhbHModGhpcy5pbmRleCxlbGVtZW50LnNlbGVjdGVkSW5kZXgpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn07fTsvKipcbiAqICBPcHRpb25Mb2NhdG9yIGZvciBvcHRpb25zIGlkZW50aWZpZWQgYnkgdGhlaXIgaWQuXG4gKi9PcHRpb25Mb2NhdG9yRmFjdG9yeS5wcm90b3R5cGUuT3B0aW9uTG9jYXRvckJ5SWQ9ZnVuY3Rpb24oaWQpe3RoaXMuaWQ9aWQ7dGhpcy5pZE1hdGNoZXI9bmV3IFBhdHRlcm5NYXRjaGVyKHRoaXMuaWQpO3RoaXMuZmluZE9wdGlvbj1mdW5jdGlvbihlbGVtZW50KXtmb3IobGV0IGk9MDtpPGVsZW1lbnQub3B0aW9ucy5sZW5ndGg7aSsrKXtpZih0aGlzLmlkTWF0Y2hlci5tYXRjaGVzKGVsZW1lbnQub3B0aW9uc1tpXS5pZCkpe3JldHVybiBlbGVtZW50Lm9wdGlvbnNbaV07fX10aHJvdyBuZXcgU2VsZW5pdW1FcnJvcihcIk9wdGlvbiB3aXRoIGlkICdcIit0aGlzLmlkK1wiJyBub3QgZm91bmRcIik7fTt0aGlzLmFzc2VydFNlbGVjdGVkPWZ1bmN0aW9uKGVsZW1lbnQpe2xldCBzZWxlY3RlZElkPWVsZW1lbnQub3B0aW9uc1tlbGVtZW50LnNlbGVjdGVkSW5kZXhdLmlkO0Fzc2VydC5tYXRjaGVzKHRoaXMuaWQsc2VsZWN0ZWRJZCk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufTt9Oy8vRWRpdENvbnRlbnRFeHQsIExpbiBZdW4gV2VuLCBTRUxBQiwgQ1NJRSwgTkNLVSwgMjAxNi8xMS8xN1xuU2VsZW5pdW0ucHJvdG90eXBlLmRvRWRpdENvbnRlbnQ9ZnVuY3Rpb24obG9jYXRvcix2YWx1ZSl7LyoqXG4gICAqdG8gc2V0IHRleHQgaW4gdGhlIGVsZW1lbnQgd2hpY2gncyBjb25lbnRFZGl0YWJsZSBhdHRyaWJ1dGUgaXMgdHJ1ZVxuICAgKkBwYXJhbSBsb2NhdG9yIGFuIGVsZW1lbnQgbG9jYXRvclxuICAgKkBwYXJhbSB2YWx1ZSB0aGUgY29udGV4dCBvZiB0aGUgZWxlbWVudCBpbiBodG1sXG4gICAqL2xldCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtsZXQgZWRpdGFibGU9ZWxlbWVudC5jb250ZW50RWRpdGFibGU7aWYoZWRpdGFibGU9PSd0cnVlJyl7ZWxlbWVudC5pbm5lckhUTUw9ZXNjYXBlSFRNTCh2YWx1ZSk7fWVsc2V7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ1RoZSB2YWx1ZSBvZiBjb250ZW50RWRpdGFibGUgYXR0cmlidXRlIG9mIHRoaXMgZWxlbWVudCBpcyBub3QgdHJ1ZS4nKTt9fTsvLyBNb2RpZmllZCBwcm9tcHQgYnkgU2lkZWVYIGNvbWl0dGVycyAoQ29weXJpZ2h0IDIwMTcpXG5TZWxlbml1bS5wcm90b3R5cGUuZG9DaG9vc2VDYW5jZWxPbk5leHRQcm9tcHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5icm93c2VyYm90LmNhbmNlbE5leHRQcm9tcHQoKTt9O1NlbGVuaXVtLnByb3RvdHlwZS5kb0Fuc3dlck9uTmV4dFByb21wdD1mdW5jdGlvbihhbnN3ZXIpe3JldHVybiB0aGlzLmJyb3dzZXJib3Quc2V0TmV4dFByb21wdFJlc3VsdChhbnN3ZXIpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQXNzZXJ0UHJvbXB0PWZ1bmN0aW9uKG1lc3NhZ2Upe3JldHVybiB0aGlzLmJyb3dzZXJib3QuZ2V0UHJvbXB0TWVzc2FnZSgpLnRoZW4oZnVuY3Rpb24oYWN0dWFsTWVzc2FnZSl7aWYobWVzc2FnZSE9YWN0dWFsTWVzc2FnZSlyZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJQcm9tcHQgbWVzc2FnZSBkb2Vzbid0IG1hdGNoIGFjdHVhbCBtZXNzYWdlXCIpO2Vsc2UgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTt9KTt9Oy8vIE1vZGlmaWVkIGFsZXJ0IGJ5IFNpZGVlWCBjb21pdHRlcnMgKENvcHlyaWdodCAyMDE3KVxuU2VsZW5pdW0ucHJvdG90eXBlLmRvQXNzZXJ0QWxlcnQ9ZnVuY3Rpb24obWVzc2FnZSl7cmV0dXJuIHRoaXMuYnJvd3NlcmJvdC5nZXRBbGVydE1lc3NhZ2UoKS50aGVuKGZ1bmN0aW9uKGFjdHVhbE1lc3NhZ2Upe2lmKG1lc3NhZ2UhPWFjdHVhbE1lc3NhZ2UpcmV0dXJuIFByb21pc2UucmVqZWN0KFwiQWxlcnQgbWVzc2FnZSBkb2Vzbid0IG1hdGNoIGFjdHVhbCBtZXNzYWdlXCIpO2Vsc2UgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTt9KTt9Oy8vIE1vZGlmaWVkIGNvbmZpcm0gYnkgU2lkZWVYIGNvbWl0dGVycyAoQ29weXJpZ2h0IDIwMTcpXG5TZWxlbml1bS5wcm90b3R5cGUuZG9DaG9vc2VDYW5jZWxPbk5leHRDb25maXJtYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5icm93c2VyYm90LnNldE5leHRDb25maXJtYXRpb25SZXN1bHQoZmFsc2UpO307U2VsZW5pdW0ucHJvdG90eXBlLmRvQ2hvb3NlT2tPbk5leHRDb25maXJtYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5icm93c2VyYm90LnNldE5leHRDb25maXJtYXRpb25SZXN1bHQodHJ1ZSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9Bc3NlcnRDb25maXJtYXRpb249ZnVuY3Rpb24odmFsdWUpe3JldHVybiB0aGlzLmJyb3dzZXJib3QuZ2V0Q29uZmlybWF0aW9uTWVzc2FnZSgpLnRoZW4oZnVuY3Rpb24oYWN0dWFsTWVzc2FnZSl7aWYodmFsdWUhPWFjdHVhbE1lc3NhZ2UpcmV0dXJuIFByb21pc2UucmVqZWN0KFwiQ29uZmlybWF0aW9uIG1lc3NhZ2UgZG9lc24ndCBtYXRjaCBhY3R1YWwgbWVzc2FnZVwiKTtlbHNlIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7fSk7fTtTZWxlbml1bS5wcm90b3R5cGUuZG9TaG93RWxlbWVudD1mdW5jdGlvbihsb2NhdG9yKXtjb25zdCBlbGVtZW50Rm9ySW5qZWN0aW5nU3R5bGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO2VsZW1lbnRGb3JJbmplY3RpbmdTdHlsZS5yZWw9J3N0eWxlc2hlZXQnO2VsZW1lbnRGb3JJbmplY3RpbmdTdHlsZS5ocmVmPWJyb3dzZXIucnVudGltZS5nZXRVUkwoJy9hc3NldHMvaGlnaGxpZ2h0LmNzcycpOyhkb2N1bWVudC5oZWFkfHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKGVsZW1lbnRGb3JJbmplY3RpbmdTdHlsZSk7Y29uc3QgaGlnaGxpZ2h0RWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtoaWdobGlnaHRFbGVtZW50LmlkPSdzZWxlbml1bS1oaWdobGlnaHQnO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaGlnaGxpZ2h0RWxlbWVudCk7aWYobG9jYXRvci54KXtoaWdobGlnaHRFbGVtZW50LnN0eWxlLmxlZnQ9cGFyc2VJbnQobG9jYXRvci54KSsncHgnO2hpZ2hsaWdodEVsZW1lbnQuc3R5bGUudG9wPXBhcnNlSW50KGxvY2F0b3IueSkrJ3B4JztoaWdobGlnaHRFbGVtZW50LnN0eWxlLndpZHRoPXBhcnNlSW50KGxvY2F0b3Iud2lkdGgpKydweCc7aGlnaGxpZ2h0RWxlbWVudC5zdHlsZS5oZWlnaHQ9cGFyc2VJbnQobG9jYXRvci5oZWlnaHQpKydweCc7fWVsc2V7Y29uc3QgYm9keVJlY3RzPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtjb25zdCBlbGVtZW50PXRoaXMuYnJvd3NlcmJvdC5maW5kRWxlbWVudChsb2NhdG9yKTtjb25zdCBlbGVtZW50UmVjdHM9ZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtoaWdobGlnaHRFbGVtZW50LnN0eWxlLmxlZnQ9cGFyc2VJbnQoZWxlbWVudFJlY3RzLmxlZnQtYm9keVJlY3RzLmxlZnQpKydweCc7aGlnaGxpZ2h0RWxlbWVudC5zdHlsZS50b3A9cGFyc2VJbnQoZWxlbWVudFJlY3RzLnRvcC1ib2R5UmVjdHMudG9wKSsncHgnO2hpZ2hsaWdodEVsZW1lbnQuc3R5bGUud2lkdGg9cGFyc2VJbnQoZWxlbWVudFJlY3RzLndpZHRoKSsncHgnO2hpZ2hsaWdodEVsZW1lbnQuc3R5bGUuaGVpZ2h0PXBhcnNlSW50KGVsZW1lbnRSZWN0cy5oZWlnaHQpKydweCc7fWhpZ2hsaWdodEVsZW1lbnQuc3R5bGUucG9zaXRpb249J2Fic29sdXRlJztoaWdobGlnaHRFbGVtZW50LnN0eWxlLnpJbmRleD0nMTAwJztoaWdobGlnaHRFbGVtZW50LnN0eWxlLmRpc3BsYXk9J2Jsb2NrJztoaWdobGlnaHRFbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHM9J25vbmUnO3Njcm9sbEludG9WaWV3SWZOZWVkZWQoaGlnaGxpZ2h0RWxlbWVudCx7Y2VudGVySWZOZWVkZWQ6dHJ1ZX0pO2hpZ2hsaWdodEVsZW1lbnQuY2xhc3NOYW1lPSdhY3RpdmUtc2VsZW5pdW0taGlnaGxpZ2h0JztzZXRUaW1lb3V0KCgpPT57ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChoaWdobGlnaHRFbGVtZW50KTtlbGVtZW50Rm9ySW5qZWN0aW5nU3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50Rm9ySW5qZWN0aW5nU3R5bGUpO30sNTAwKTtyZXR1cm4nZWxlbWVudCBmb3VuZCc7fTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2NvbnRlbnQvc2VsZW5pdW0tYXBpLmpzXG4vLyBtb2R1bGUgaWQgPSAyMjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///227\n");

/***/ }),

/***/ 228:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__selenium_api__ = __webpack_require__(227);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__SeleniumError__ = __webpack_require__(110);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__commands_api__ = __webpack_require__(140);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__ = __webpack_require__(78);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils__ = __webpack_require__(111);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__PatternMatcher__ = __webpack_require__(229);\n/*\n * Copyright 2011 Software Freedom Conservancy\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n *\n */ /*\n * This script provides the Javascript API to drive the test application contained within\n * a Browser Window.\n * TODO:\n *    Add support for more events (keyboard and mouse)\n *    Allow to switch \"user-entry\" mode from mouse-based to keyboard-based, firing different\n *          events in different modes.\n */const browserVersion=new window.global.BrowserVersion();\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = browserVersion;\nwindow.global.browserVersion=browserVersion;// The window to which the commands will be sent.  For example, to click on a\n// popup window, first select that window, and then do a normal click command.\nclass BrowserBot{constructor(topLevelApplicationWindow){this.topWindow=topLevelApplicationWindow;this.topFrame=this.topWindow;this.baseUrl=window.location.href;__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].setWindow(window);//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/05/26\nthis.count=1;// the buttonWindow is the Selenium window\n// it contains the Run/Pause buttons... this should *not* be the AUT window\nthis.buttonWindow=window;this.currentWindow=this.topWindow;this.currentWindowName=null;this.allowNativeXpath=true;this.xpathEvaluator=new XPathEvaluator('ajaxslt');// change to \"javascript-xpath\" for the newer, faster engine\n// We need to know this in advance, in case the frame closes unexpectedly\nthis.isSubFrameSelected=false;this.altKeyDown=false;this.controlKeyDown=false;this.shiftKeyDown=false;this.metaKeyDown=false;this.modalDialogTest=null;this.recordedAlerts=new Array();this.recordedConfirmations=new Array();this.recordedPrompts=new Array();this.openedWindows={};//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/05/26\nthis.openedWindows['win_ser_local']=this.topWindow;this.nextConfirmResult=true;this.nextPromptResult='';this.newPageLoaded=false;this.pageLoadError=null;this.ignoreResponseCode=false;this.xhr=null;this.abortXhr=false;this.isXhrSent=false;this.isXhrDone=false;this.xhrOpenLocation=null;this.xhrResponseCode=null;this.xhrStatusText=null;this.shouldHighlightLocatedElement=false;this.uniqueId='seleniumMarker'+new Date().getTime();this.pollingForLoad=new Object();this.permDeniedCount=new Object();this.windowPollers=new Array();// DGF for backwards compatibility\nthis.browserbot=this;let self=this;Object.assign(this,PageBot.prototype);this._registerAllLocatorFunctions();this.recordPageLoad=function(){self.newPageLoaded=true;};this.isNewPageLoaded=function(){let e;if(this.pageLoadError){e=this.pageLoadError;this.pageLoadError=null;throw e;}if(self.ignoreResponseCode){return self.newPageLoaded;}else{if(self.isXhrSent&&self.isXhrDone){if(!(self.xhrResponseCode>=200&&self.xhrResponseCode<=399||self.xhrResponseCode==0)){// TODO: for IE status like: 12002, 12007, ... provide corresponding statusText messages also.\ne='XHR ERROR: URL = '+self.xhrOpenLocation+' Response_Code = '+self.xhrResponseCode+' Error_Message = '+self.xhrStatusText;self.abortXhr=false;self.isXhrSent=false;self.isXhrDone=false;self.xhrResponseCode=null;self.xhrStatusText=null;throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */](e);}}return self.newPageLoaded&&(self.isXhrSent?self.abortXhr||self.isXhrDone:true);}};this.setAllowNativeXPath=function(allow){this.xpathEvaluator.setAllowNativeXPath(allow);};this.setIgnoreAttributesWithoutValue=function(ignore){this.xpathEvaluator.setIgnoreAttributesWithoutValue(ignore);};this.setXPathEngine=function(engineName){this.xpathEvaluator.setCurrentEngine(engineName);};this.getXPathEngine=function(){return this.xpathEvaluator.getCurrentEngine();};}}\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = BrowserBot;\n// DGF PageBot exists for backwards compatibility with old user-extensions\nconst PageBot=function(){};BrowserBot.createForWindow=function(window,proxyInjectionMode){let browserbot;if(browserVersion.isIE){browserbot=new IEBrowserBot(window);}else if(browserVersion.isKonqueror){browserbot=new KonquerorBrowserBot(window);}else if(browserVersion.isOpera){browserbot=new OperaBrowserBot(window);}else if(browserVersion.isSafari){browserbot=new SafariBrowserBot(window);}else{// Use mozilla by default\nbrowserbot=new MozillaBrowserBot(window);}// getCurrentWindow has the side effect of modifying it to handle page loads etc\nbrowserbot.proxyInjectionMode=proxyInjectionMode;browserbot.getCurrentWindow();// for modifyWindow side effect.  This is not a transparent style\nreturn browserbot;};// todo: rename?  This doesn't actually \"do\" anything.\nBrowserBot.prototype.doModalDialogTest=function(test){this.modalDialogTest=test;};BrowserBot.prototype.cancelNextConfirmation=function(result){this.nextConfirmResult=result;};//BrowserBot.prototype.setNextPromptResult = function(result) {\n//this.nextResult = result;\n//};\nBrowserBot.prototype.hasAlerts=function(){return this.recordedAlerts.length>0;};BrowserBot.prototype.relayBotToRC=function(s){// DGF need to do this funny trick to see if we're in PI mode, because\n// \"this\" might be the window, rather than the browserbot (e.g. during window.alert)\nlet piMode=this.proxyInjectionMode;if(!piMode){if(typeof __WEBPACK_IMPORTED_MODULE_2__commands_api__[\"selenium\"]!='undefined'){piMode=__WEBPACK_IMPORTED_MODULE_2__commands_api__[\"selenium\"].browserbot&&__WEBPACK_IMPORTED_MODULE_2__commands_api__[\"selenium\"].browserbot.proxyInjectionMode;}}if(piMode){this.relayToRC('selenium.'+s);}};BrowserBot.prototype.relayToRC=function(){return null;};BrowserBot.prototype.resetPopups=function(){this.recordedAlerts=[];this.recordedConfirmations=[];this.recordedPrompts=[];};BrowserBot.prototype.getNextAlert=function(){let t=this.recordedAlerts.shift();if(t){t=t.replace(/\\n/g,' ');// because Selenese loses \\n's when retrieving text from HTML table\n}this.relayBotToRC('browserbot.recordedAlerts');return t;};BrowserBot.prototype.hasConfirmations=function(){return this.recordedConfirmations.length>0;};BrowserBot.prototype.getNextConfirmation=function(){let t=this.recordedConfirmations.shift();this.relayBotToRC('browserbot.recordedConfirmations');return t;};BrowserBot.prototype.hasPrompts=function(){return this.recordedPrompts.length>0;};BrowserBot.prototype.getNextPrompt=function(){let t=this.recordedPrompts.shift();this.relayBotToRC('browserbot.recordedPrompts');return t;};/* Fire a mouse event in a browser-compatible manner */BrowserBot.prototype.triggerMouseEvent=function(element,eventType,canBubble,clientX,clientY,button){clientX=clientX?clientX:0;clientY=clientY?clientY:0;//LOG.debug(\"triggerMouseEvent assumes setting screenX and screenY to 0 is ok\");\nlet screenX=0;let screenY=0;canBubble=typeof canBubble==undefined?true:canBubble;let doc=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"c\" /* default */].dom.getOwnerDocument(element);let view=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"c\" /* default */].dom.getWindow(doc);let evt=doc.createEvent('MouseEvents');if(evt.initMouseEvent){// see http://developer.mozilla.org/en/docs/DOM:event.button and\n// http://developer.mozilla.org/en/docs/DOM:event.initMouseEvent for button ternary logic logic\n//Safari\nevt.initMouseEvent(eventType,canBubble,true,view,1,screenX,screenY,clientX,clientY,this.controlKeyDown,this.altKeyDown,this.shiftKeyDown,this.metaKeyDown,button?button:0,null);}else{//LOG.warn(\"element doesn't have initMouseEvent; firing an event which should -- but doesn't -- have other mouse-event related attributes here, as well as controlKeyDown, altKeyDown, shiftKeyDown, metaKeyDown\");\nevt.initEvent(eventType,canBubble,true);evt.shiftKey=this.shiftKeyDown;evt.metaKey=this.metaKeyDown;evt.altKey=this.altKeyDown;evt.ctrlKey=this.controlKeyDown;if(button){evt.button=button;}}element.dispatchEvent(evt);};//DragAndDropExt, Shuo-Heng Shih, SELAB, CSIE, NCKU, 2016/10/17\nBrowserBot.prototype.triggerDragEvent=function(element,target){const getXpathOfElement=function(element){if(element==null){return'null';}if(element.parentElement==null){return'/'+element.tagName;}let siblingElement=element.parentElement.children;let tagCount=0;let totalTagCount=0;let isFound=false;for(let i=0;i<siblingElement.length;i++){if(siblingElement[i].tagName==element.tagName&&!isFound){tagCount++;totalTagCount++;}else if(siblingElement[i].tagName==element.tagName){totalTagCount++;}if(siblingElement[i]==element){isFound=true;}}if(totalTagCount>1){return getXpathOfElement(element.parentElement)+'/'+element.tagName+'['+tagCount+']';}return getXpathOfElement(element.parentElement)+'/'+element.tagName;};let script=\"                                              \\\n        function simulateDragDrop(sourceNode, destinationNode){\\\n        function createCustomEvent(type) {                     \\\n            var event = new CustomEvent('CustomEvent');        \\\n            event.initCustomEvent(type, true, true, null);     \\\n            event.dataTransfer = {                             \\\n                data: {                                        \\\n                },                                             \\\n                setData: function(type, val) {                 \\\n                    this.data[type] = val;                     \\\n                },                                             \\\n                getData: function(type) {                      \\\n                    return this.data[type];                    \\\n                }                                              \\\n            };                                                 \\\n            return event;                                      \\\n        }                                                      \\\n        function dispatchEvent(node, type, event) {            \\\n            if (node.dispatchEvent) {                          \\\n                return node.dispatchEvent(event);              \\\n            }                                                  \\\n            if (node.fireEvent) {                              \\\n                return node.fireEvent('on' + type, event);     \\\n            }                                                  \\\n        }                                                      \\\n        var event = createCustomEvent('dragstart');            \\\n        dispatchEvent(sourceNode, 'dragstart', event);         \\\n                                                               \\\n        var dropEvent = createCustomEvent('drop');             \\\n        dropEvent.dataTransfer = event.dataTransfer;           \\\n        dispatchEvent(destinationNode, 'drop', dropEvent);     \\\n                                                               \\\n        var dragEndEvent = createCustomEvent('dragend');       \\\n        dragEndEvent.dataTransfer = event.dataTransfer;        \\\n        dispatchEvent(sourceNode, 'dragend', dragEndEvent);    \\\n    }                                                          \\\n    simulateDragDrop(document.evaluate('\"+getXpathOfElement(element)+\"', document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue, document.evaluate('\"+getXpathOfElement(target)+\"', document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue);\\\n    \";let win=this.browserbot.getCurrentWindow();let doc=win.document;let scriptTag=doc.createElement('script');scriptTag.type='text/javascript';scriptTag.text=script;doc.body.appendChild(scriptTag);};BrowserBot.prototype._windowClosed=function(win){try{let c=win.closed;if(c==null)return true;return c;}catch(ignored){// Firefox 15+ may already have marked the win dead. Accessing it\n// causes an exception to be thrown. That exception tells us the window\n// is closed.\nreturn true;}};BrowserBot.uniqueKey=1;BrowserBot.prototype._modifyWindow=function(win){// In proxyInjectionMode, have to suppress //LOG calls in _modifyWindow to avoid an infinite loop\nif(this._windowClosed(win)){if(!this.proxyInjectionMode){//LOG.error(\"modifyWindow: Window was closed!\");\n}return null;}if(!this.proxyInjectionMode){}//LOG.debug('modifyWindow ' + this.uniqueId + \":\" + win[this.uniqueId]);\n// Assign a unique label for this window. We set this on a known attribute so we can reliably\n// find it later. This is slightly different from uniqueId.\nwin.seleniumKey=BrowserBot.uniqueKey++;try{this.modifyWindowToRecordPopUpDialogs(win,this);}catch(ex){console.error(ex);// eslint-disable-line no-console\n}//Commenting out for issue 1854\n//win[this.uniqueId] = 1;\n// In proxyInjection mode, we have our own mechanism for detecting page loads\nif(!this.proxyInjectionMode){this.modifySeparateTestWindowToDetectPageLoads(win);}if(win.frames&&win.frames.length&&win.frames.length>0){for(let i=0;i<win.frames.length;i++){try{this._modifyWindow(win.frames[i]);}catch(e){}// eslint-disable-line no-empty\n// we're just trying to be opportunistic; don't worry if this doesn't work out\n}}return win;};BrowserBot.prototype.selectWindow=function(target){if(!target||target=='null'){this._selectTopWindow();return;}let result=target.match(/^([a-zA-Z]+)=(.*)/);if(!result){this._selectWindowByWindowId(target);return;}let locatorType=result[1];let locatorValue=result[2];if(locatorType=='title'){this._selectWindowByTitle(locatorValue);}// TODO separate name and var into separate functions\nelse if(locatorType=='name'){this._selectWindowByName(locatorValue);}else if(locatorType=='var'){let win=this.getCurrentWindow().eval(locatorValue);if(win){this._selectWindowByName(win.name);}else{throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Window not found by var: '+locatorValue);}}else{throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Window locator not recognized: '+locatorType);}};BrowserBot.prototype.selectPopUp=function(windowId){if(!windowId||windowId=='null'){this._selectFirstNonTopWindow();}else{this._selectWindowByWindowId(windowId);}};BrowserBot.prototype._selectTopWindow=function(){this.currentWindowName=null;this.currentWindow=this.topWindow;this.topFrame=this.topWindow;this.isSubFrameSelected=false;};BrowserBot.prototype._selectWindowByWindowId=function(windowId){try{this._selectWindowByName(windowId);}catch(e){this._selectWindowByTitle(windowId);}};BrowserBot.prototype._selectWindowByName=function(target){this.currentWindow=this.getWindowByName(target,false);this.topFrame=this.currentWindow;this.currentWindowName=target;this.isSubFrameSelected=false;};BrowserBot.prototype._selectWindowByTitle=function(target){let windowName=this.getWindowNameByTitle(target);if(!windowName){this._selectTopWindow();}else{this._selectWindowByName(windowName);}};BrowserBot.prototype._selectFirstNonTopWindow=function(){let names=this.getNonTopWindowNames();if(names.length){this._selectWindowByName(names[0]);}};BrowserBot.prototype.selectFrame=function(target){let frame;if(target.indexOf('index=')==0){target=target.substr(6);frame=this.getCurrentWindow().frames[target];if(frame==null){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Not found: frames['+target+']');}if(!frame.document){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('frames['+target+'] is not a frame');}this.currentWindow=frame;this.isSubFrameSelected=true;}else if(target=='relative=up'||target=='relative=parent'){this.currentWindow=this.getCurrentWindow().parent;this.isSubFrameSelected=this._getFrameElement(this.currentWindow)!=null;}else if(target=='relative=top'){this.currentWindow=this.topFrame;this.isSubFrameSelected=false;}else{frame=this.findElement(target);if(frame==null){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Not found: '+target);}// now, did they give us a frame or a frame ELEMENT?\nlet match=false;if(frame.contentWindow){// this must be a frame element\nif(browserVersion.isHTA){// stupid HTA bug; can't get in the front door\ntarget=frame.contentWindow.name;}else{this.currentWindow=frame.contentWindow;this.isSubFrameSelected=true;match=true;}}else if(frame.document&&frame.location){// must be an actual window frame\nthis.currentWindow=frame;this.isSubFrameSelected=true;match=true;}if(!match){// neither, let's loop through the frame names\nlet win=this.getCurrentWindow();if(win&&win.frames&&win.frames.length){for(let i=0;i<win.frames.length;i++){if(win.frames[i].name==target){this.currentWindow=win.frames[i];this.isSubFrameSelected=true;match=true;break;}}}if(!match){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Not a frame: '+target);}}}// modifies the window\nthis.getCurrentWindow();};BrowserBot.prototype.doesThisFrameMatchFrameExpression=function(currentFrameString,target){let isDom=false;if(target.indexOf('dom=')==0){target=target.substr(4);isDom=true;}else if(target.indexOf('index=')==0){target='frames['+target.substr(6)+']';isDom=true;}let t;//Evalinsandbox\n// eslint-disable-next-line no-undef\nlet mySandbox=new Components.utils.Sandbox(this.currentWindow.location.href);mySandbox.currentFrameString=currentFrameString;mySandbox.target=target;try{// eslint-disable-next-line no-undef\nt=Components.utils.evalInSandbox(currentFrameString+'.'+target,mySandbox);//eval(\"t=\" + currentFrameString + \".\" + target);\n}catch(e){}// eslint-disable-line no-empty\nlet autWindow=this.browserbot.getCurrentWindow();if(t!=null){try{if(t.window==autWindow){return true;}if(t.window.uniqueId==autWindow.uniqueId){return true;}return false;}catch(permDenied){// DGF if the windows are incomparable, they're probably not the same...\n}}if(isDom){return false;}// eslint-disable-next-line no-undef\nlet currentFrame=Components.utils.evalInSandbox(currentFrameString,mySandbox);//var currentFrame;\n//eval(\"currentFrame=\" + currentFrameString);\nif(target=='relative=up'){if(currentFrame.window.parent==autWindow){return true;}return false;}if(target=='relative=top'){if(currentFrame.window.top==autWindow){return true;}return false;}if(currentFrame.window==autWindow.parent){if(autWindow.name==target){return true;}try{let element=this.findElement(target,currentFrame.window);if(element.contentWindow==autWindow){return true;}}catch(e){}// eslint-disable-line no-empty\n}return false;};BrowserBot.prototype.abortXhrRequest=function(){if(this.ignoreResponseCode){//LOG.debug(\"XHR response code being ignored. Nothing to abort.\");\n}else{if(this.abortXhr==false&&this.isXhrSent&&!this.isXhrDone){//LOG.info(\"abortXhrRequest(): aborting request\");\nthis.abortXhr=true;this.xhr.abort();}}};BrowserBot.prototype.onXhrStateChange=function(method){//LOG.info(\"onXhrStateChange(): xhr.readyState = \" + this.xhr.readyState + \" method = \" + method + \" time = \" + new Date().getTime());\nif(this.xhr.readyState==4){// check if the request got aborted.\nif(this.abortXhr==true){this.xhrResponseCode=0;this.xhrStatusText='Request Aborted';this.isXhrDone=true;return;}try{if(method=='HEAD'&&(this.xhr.status==501||this.xhr.status==405)){//LOG.info(\"onXhrStateChange(): HEAD ajax returned 501 or 405, retrying with GET\");\n// handle 501 response code from servers that do not support 'HEAD' method.\n// send GET ajax request with range 0-1.\nthis.xhr=new XMLHttpRequest();this.xhr.onreadystatechange=this.onXhrStateChange.bind(this,'GET');this.xhr.open('GET',this.xhrOpenLocation,true);this.xhr.setRequestHeader('Range','bytes:0-1');this.xhr.send('');this.isXhrSent=true;return;}this.xhrResponseCode=this.xhr.status;this.xhrStatusText=this.xhr.statusText;}catch(ex){//LOG.info(\"encountered exception while reading xhrResponseCode.\" + ex.message);\nthis.xhrResponseCode=-1;this.xhrStatusText='Request Error';}this.isXhrDone=true;}};BrowserBot.prototype.openWindow=function(url,windowID){if(url!=''){url='https://www.google.com';}if(browserVersion.isHTA){// in HTA mode, calling .open on the window interprets the url relative to that window\n// we need to absolute-ize the URL to make it consistent\nlet child=this.getCurrentWindow().open(url,windowID,'resizable=yes');__WEBPACK_IMPORTED_MODULE_2__commands_api__[\"selenium\"].browserbot.openedWindows[windowID]=child;}else{this.getCurrentWindow().open(url,windowID,'resizable=yes');}};BrowserBot.prototype.setIFrameLocation=function(iframe,location){iframe.src=location;};BrowserBot.prototype.getCurrentPage=function(){return this;};BrowserBot.prototype.windowNeedsModifying=function(win,uniqueId){// On anything but Firefox, checking the unique id is enough.\n// Firefox 4 introduces a race condition which selenium regularly loses.\ntry{// eslint-disable-next-line no-undef\nlet appInfo=Components.classes['@mozilla.org/xre/app-info;1'].getService(// eslint-disable-next-line no-undef\nComponents.interfaces.nsIXULAppInfo);// eslint-disable-next-line no-undef\nlet versionChecker=Components.classes['@mozilla.org/xpcom/version-comparator;1'// eslint-disable-next-line no-undef\n].getService(Components.interfaces.nsIVersionComparator);if(versionChecker.compare(appInfo.version,'4.0b1')>=0){return win.alert.toString().indexOf('native code')!=-1;}}catch(ignored){}// eslint-disable-line no-empty\nreturn!win[uniqueId];};BrowserBot.prototype.modifyWindowToRecordPopUpDialogs=function(originalWindow,browserBot){let self=this;// Apparently, Firefox 4 makes it possible to unwrap an object to find that\n// there's nothing in it.\nlet windowToModify=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(originalWindow);if(!windowToModify){windowToModify=originalWindow;}windowToModify.seleniumAlert=windowToModify.alert;if(!self.windowNeedsModifying(windowToModify,browserBot.uniqueId)){return;}windowToModify.alert=function(alert){browserBot.recordedAlerts.push(alert);self.relayBotToRC.call(self,'browserbot.recordedAlerts');};windowToModify.confirm=function(message){browserBot.recordedConfirmations.push(message);let result=browserBot.nextConfirmResult;browserBot.nextConfirmResult=true;self.relayBotToRC.call(self,'browserbot.recordedConfirmations');return result;};windowToModify.prompt=function(message){browserBot.recordedPrompts.push(message);let result=!browserBot.nextConfirmResult?null:browserBot.nextPromptResult;browserBot.nextConfirmResult=true;browserBot.nextPromptResult='';self.relayBotToRC.call(self,'browserbot.recordedPrompts');return result;};// Keep a reference to all popup windows by name\n// note that in IE the \"windowName\" argument must be a valid javascript identifier, it seems.\nlet originalOpen=windowToModify.open;let originalOpenReference;if(browserVersion.isHTA){originalOpenReference='selenium_originalOpen'+new Date().getTime();windowToModify[originalOpenReference]=windowToModify.open;}let isHTA=browserVersion.isHTA;let newOpen=function(url,windowName,windowFeatures,replaceFlag){let myOriginalOpen=originalOpen;if(isHTA){myOriginalOpen=this[originalOpenReference];}//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/05/26\nif(windowName==''||windowName=='_blank'||typeof windowName==='undefined'){windowName='win_ser_'+self.count;self.count+=1;}let openedWindow=myOriginalOpen(url,windowName,windowFeatures,replaceFlag);//LOG.debug(\"window.open call intercepted; window ID (which you can use with selectWindow()) is \\\"\" +  windowName + \"\\\"\");\nif(windowName!=null){openedWindow['seleniumWindowName']=windowName;}__WEBPACK_IMPORTED_MODULE_2__commands_api__[\"selenium\"].browserbot.openedWindows[windowName]=openedWindow;return openedWindow;};if(browserVersion.isHTA){originalOpenReference='selenium_originalOpen'+new Date().getTime();const newOpenReference='selenium_newOpen'+new Date().getTime();let setOriginalRef=\"this['\"+originalOpenReference+\"'] = this.open;\";if(windowToModify.eval){windowToModify.eval(setOriginalRef);windowToModify.open=newOpen;}else{// DGF why can't I eval here?  Seems like I'm querying the window at a bad time, maybe?\nsetOriginalRef+=\"this.open = this['\"+newOpenReference+\"'];\";windowToModify[newOpenReference]=newOpen;windowToModify.setTimeout(setOriginalRef,0);}}else{windowToModify.open=newOpen;}};/**\n * Call the supplied function when a the current page unloads and a new one loads.\n * This is done by polling continuously until the document changes and is fully loaded.\n */BrowserBot.prototype.modifySeparateTestWindowToDetectPageLoads=function(windowObject){// Since the unload event doesn't fire in Safari 1.3, we start polling immediately\nif(!windowObject){//LOG.warn(\"modifySeparateTestWindowToDetectPageLoads: no windowObject!\");\nreturn;}if(this._windowClosed(windowObject)){//LOG.info(\"modifySeparateTestWindowToDetectPageLoads: windowObject was closed\");\nreturn;}let oldMarker=this.isPollingForLoad(windowObject);if(oldMarker){//LOG.debug(\"modifySeparateTestWindowToDetectPageLoads: already polling this window: \" + oldMarker);\nreturn;}let marker='selenium'+new Date().getTime();//LOG.debug(\"Starting pollForLoad (\" + marker + \"): \" + windowObject.location);\nthis.pollingForLoad[marker]=true;// if this is a frame, add a load listener, otherwise, attach a poller\nlet frameElement=this._getFrameElement(windowObject);// DGF HTA mode can't attach load listeners to subframes (yuk!)\nlet htaSubFrame=this._isHTASubFrame(windowObject);if(frameElement&&!htaSubFrame){//LOG.debug(\"modifySeparateTestWindowToDetectPageLoads: this window is a frame; attaching a load listener\");\n//addLoadListener(frameElement, this.recordPageLoad); TODO: check if this is necessary\nframeElement[marker]=true;frameElement['frame'+this.uniqueId]=marker;//LOG.debug(\"dgf this.uniqueId=\"+this.uniqueId);\n//LOG.debug(\"dgf marker=\"+marker);\n//LOG.debug(\"dgf frameElement['frame'+this.uniqueId]=\"+frameElement['frame'+this.uniqueId]);\nframeElement[this.uniqueId]=marker;//LOG.debug(\"dgf frameElement[this.uniqueId]=\"+frameElement[this.uniqueId]);\n}else{windowObject.location[marker]=true;windowObject[this.uniqueId]=marker;this.pollForLoad(this.recordPageLoad,windowObject,windowObject.document,windowObject.location,windowObject.location.href,marker);}};BrowserBot.prototype._isHTASubFrame=function(){if(!browserVersion.isHTA)return false;// DGF this is wrong! what if \"win\" isn't the selected window?\nreturn this.isSubFrameSelected;};BrowserBot.prototype._getFrameElement=function(win){let frameElement=null;let caught;try{frameElement=win.frameElement;}catch(e){caught=true;}if(caught){// on IE, checking frameElement in a pop-up results in a \"No such interface supported\" exception\n// but it might have a frame element anyway!\nlet parentContainsIdenticallyNamedFrame=false;try{parentContainsIdenticallyNamedFrame=win.parent.frames[win.name];}catch(e){}// eslint-disable-line no-empty\n// this may fail if access is denied to the parent; in that case, assume it's not a pop-up\nif(parentContainsIdenticallyNamedFrame){// it can't be a coincidence that the parent has a frame with the same name as myself!\nlet result;try{result=parentContainsIdenticallyNamedFrame.frameElement;if(result){return result;}}catch(e){}// eslint-disable-line no-empty\n// it was worth a try! _getFrameElementsByName is often slow\nresult=this._getFrameElementByName(win.name,win.parent.document,win);return result;}}//LOG.debug(\"_getFrameElement: frameElement=\"+frameElement);\nif(frameElement){//LOG.debug(\"frameElement.name=\"+frameElement.name);\n}return frameElement;};BrowserBot.prototype._getFrameElementByName=function(name,doc,win){let frames;let frame;let i;frames=doc.getElementsByTagName('iframe');for(i=0;i<frames.length;i++){frame=frames[i];if(frame.name===name){return frame;}}frames=doc.getElementsByTagName('frame');for(i=0;i<frames.length;i++){frame=frames[i];if(frame.name===name){return frame;}}// DGF weird; we only call this function when we know the doc contains the frame\n//LOG.warn(\"_getFrameElementByName couldn't find a frame or iframe; checking every element for the name \" + name);\nreturn BrowserBot.prototype.locateElementByName(win.name,win.parent.document);};/**\n * Set up a polling timer that will keep checking the readyState of the document until it's complete.\n * Since we might call this before the original page is unloaded, we first check to see that the current location\n * or href is different from the original one.\n */BrowserBot.prototype.pollForLoad=function(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker){//LOG.debug(\"pollForLoad original (\" + marker + \"): \" + originalHref);\ntry{//Samit: Fix: open command sometimes fails if current url is chrome and new is not\nwindowObject=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(windowObject);if(this._windowClosed(windowObject)){//LOG.debug(\"pollForLoad WINDOW CLOSED (\" + marker + \")\");\ndelete this.pollingForLoad[marker];return;}let isSamePage=this._isSamePage(windowObject,originalDocument,originalLocation,originalHref,marker);let rs=this.getReadyState(windowObject,windowObject.document);if(!isSamePage&&rs=='complete'){let currentHref=windowObject.location.href;//LOG.debug(\"pollForLoad FINISHED (\" + marker + \"): \" + rs + \" (\" + currentHref + \")\");\ndelete this.pollingForLoad[marker];this._modifyWindow(windowObject);let newMarker=this.isPollingForLoad(windowObject);if(!newMarker){//LOG.debug(\"modifyWindow didn't start new poller: \" + newMarker);\nthis.modifySeparateTestWindowToDetectPageLoads(windowObject);}newMarker=this.isPollingForLoad(windowObject);let currentlySelectedWindow;let currentlySelectedWindowMarker;currentlySelectedWindow=this.getCurrentWindow(true);currentlySelectedWindowMarker=currentlySelectedWindow[this.uniqueId];//LOG.debug(\"pollForLoad (\" + marker + \") restarting \" + newMarker);\nif(/(TestRunner-splash|Blank)\\.html\\?start=true$/.test(currentHref)){//LOG.debug(\"pollForLoad Oh, it's just the starting page.  Never mind!\");\n}else if(currentlySelectedWindowMarker==newMarker){loadFunction(currentlySelectedWindow);}else{//LOG.debug(\"pollForLoad page load detected in non-current window; ignoring (currentlySelected=\"+currentlySelectedWindowMarker+\", detection in \"+newMarker+\")\");\n}return;}//LOG.debug(\"pollForLoad continue (\" + marker + \"): \" + currentHref);\nthis.reschedulePoller(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);}catch(e){//LOG.debug(\"Exception during pollForLoad; this should get noticed soon (\" + e.message + \")!\");\n//DGF this is supposed to get logged later; log it at debug just in case\n////LOG.exception(e);\nthis.pageLoadError=e;}};BrowserBot.prototype._isSamePage=function(windowObject,originalDocument,originalLocation,originalHref,marker){let currentDocument=windowObject.document;let currentLocation=windowObject.location;let currentHref=currentLocation.href;let sameDoc=this._isSameDocument(originalDocument,currentDocument);let sameLoc=originalLocation===currentLocation;// hash marks don't meant the page has loaded, so we need to strip them off if they exist...\nlet currentHash=currentHref.indexOf('#');if(currentHash>0){currentHref=currentHref.substring(0,currentHash);}let originalHash=originalHref.indexOf('#');if(originalHash>0){originalHref=originalHref.substring(0,originalHash);}//LOG.debug(\"_isSamePage: currentHref: \" + currentHref);\n//LOG.debug(\"_isSamePage: originalHref: \" + originalHref);\nlet sameHref=originalHref===currentHref;let markedLoc=currentLocation[marker];if(browserVersion.isKonqueror||browserVersion.isSafari){// the mark disappears too early on these browsers\nmarkedLoc=true;}// since this is some _very_ important logic, especially for PI and multiWindow mode, we should log all these out\n//LOG.debug(\"_isSamePage: sameDoc: \" + sameDoc);\n//LOG.debug(\"_isSamePage: sameLoc: \" + sameLoc);\n//LOG.debug(\"_isSamePage: sameHref: \" + sameHref);\n//LOG.debug(\"_isSamePage: markedLoc: \" + markedLoc);\nreturn sameDoc&&sameLoc&&sameHref&&markedLoc;};BrowserBot.prototype._isSameDocument=function(originalDocument,currentDocument){return originalDocument===currentDocument;};BrowserBot.prototype.getReadyState=function(windowObject,currentDocument){let rs=currentDocument.readyState;if(rs==null){if(this.buttonWindow!=null&&this.buttonWindow.document.readyState==null||// not proxy injection mode (and therefore buttonWindow isn't null)\ntop.document.readyState==null){// proxy injection mode (and therefore everything's in the top window, but buttonWindow doesn't exist)\n// uh oh!  we're probably on Firefox with no readyState extension installed!\n// We'll have to just take a guess as to when the document is loaded; this guess\n// will never be perfect. :-(\nif(typeof currentDocument.getElementsByTagName!='undefined'&&typeof currentDocument.getElementById!='undefined'&&(currentDocument.getElementsByTagName('body')[0]!=null||currentDocument.body!=null)){if(windowObject.frameElement&&windowObject.location.href=='about:blank'&&windowObject.frameElement.src!='about:blank'){//LOG.info(\"getReadyState not loaded, frame location was about:blank, but frame src = \" + windowObject.frameElement.src);\nreturn null;}//LOG.debug(\"getReadyState = windowObject.frames.length = \" + windowObject.frames.length);\nfor(let i=0;i<windowObject.frames.length;i++){//LOG.debug(\"i = \" + i);\nif(this.getReadyState(windowObject.frames[i],windowObject.frames[i].document)!='complete'){//LOG.debug(\"getReadyState aha! the nested frame \" + windowObject.frames[i].name + \" wasn't ready!\");\nreturn null;}}rs='complete';}else{//LOG.debug(\"pollForLoad readyState was null and DOM appeared to not be ready yet\");\n}}}else if(rs=='loading'&&browserVersion.isIE){//LOG.debug(\"pageUnloading = true!!!!\");\nthis.pageUnloading=true;}//LOG.debug(\"getReadyState returning \" + rs);\nreturn rs;};/** This function isn't used normally, but was the way we used to schedule pollers:\n asynchronously executed autonomous units.  This is deprecated, but remains here\n for future reference.\n */BrowserBot.prototype.XXXreschedulePoller=function(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker){let self=this;window.setTimeout(function(){self.pollForLoad(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);},500);};/** This function isn't used normally, but is useful for debugging asynchronous pollers\n * To enable it, rename it to \"reschedulePoller\", so it will override the\n * existing reschedulePoller function\n */BrowserBot.prototype.XXXreschedulePoller=function(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker){let doc=this.buttonWindow.document;let button=doc.createElement('button');let buttonName=doc.createTextNode(marker+' - '+windowObject.name);button.appendChild(buttonName);let tools=doc.getElementById('tools');let self=this;button.onclick=function(){tools.removeChild(button);self.pollForLoad(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);};tools.appendChild(button);window.setTimeout(button.onclick,500);};BrowserBot.prototype.reschedulePoller=function(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker){let self=this;let pollerFunction=function(){self.pollForLoad(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);};this.windowPollers.push(pollerFunction);};BrowserBot.prototype.runScheduledPollers=function(){//LOG.debug(\"runScheduledPollers\");\nlet oldPollers=this.windowPollers;this.windowPollers=new Array();for(let i=0;i<oldPollers.length;i++){oldPollers[i].call();}//LOG.debug(\"runScheduledPollers DONE\");\n};BrowserBot.prototype.isPollingForLoad=function(win){let marker;let frameElement=this._getFrameElement(win);let htaSubFrame=this._isHTASubFrame(win);if(frameElement&&!htaSubFrame){marker=frameElement['frame'+this.uniqueId];}else{marker=win[this.uniqueId];}if(!marker){//LOG.debug(\"isPollingForLoad false, missing uniqueId \" + this.uniqueId + \": \" + marker);\nreturn false;}if(!this.pollingForLoad[marker]){//LOG.debug(\"isPollingForLoad false, this.pollingForLoad[\" + marker + \"]: \" + this.pollingForLoad[marker]);\nreturn false;}return marker;};BrowserBot.prototype.getWindowByName=function(windowName,doNotModify){//LOG.debug(\"getWindowByName(\" + windowName + \")\");\n// First look in the map of opened windows\nlet targetWindow=this.openedWindows[windowName];if(!targetWindow){targetWindow=this.topWindow[windowName];}if(!targetWindow&&windowName=='_blank'){for(let winName in this.openedWindows){// _blank can match selenium_blank*, if it looks like it's OK (valid href, not closed)\nif(/^selenium_blank/.test(winName)){targetWindow=this.openedWindows[winName];let ok;try{if(!this._windowClosed(targetWindow)){ok=targetWindow.location.href;}}catch(e){}// eslint-disable-line no-empty\nif(ok)break;}}}if(!targetWindow){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Window does not exist. If this looks like a Selenium bug, make sure to read http://seleniumhq.org/docs/02_selenium_ide.html#alerts-popups-and-multiple-windows for potential workarounds.');}if(browserVersion.isHTA){try{targetWindow.location.href;}catch(e){targetWindow=window.open('',targetWindow.name);this.openedWindows[targetWindow.name]=targetWindow;}}if(!doNotModify){this._modifyWindow(targetWindow);}return targetWindow;};/**\n * Find a window name from the window title.\n */BrowserBot.prototype.getWindowNameByTitle=function(windowTitle){//LOG.debug(\"getWindowNameByTitle(\" + windowTitle + \")\");\n// First look in the map of opened windows and iterate them\nfor(let windowName in this.openedWindows){let targetWindow=this.openedWindows[windowName];// If the target window's title is our title\ntry{// TODO implement Pattern Matching here\nif(!this._windowClosed(targetWindow)&&targetWindow.document.title==windowTitle){return windowName;}}catch(e){// You'll often get Permission Denied errors here in IE\n// eh, if we can't read this window's title,\n// it's probably not available to us right now anyway\n}}try{if(this.topWindow.document.title==windowTitle){return'';}}catch(e){}// eslint-disable-line no-empty\n// IE Perm denied\nthrow new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Could not find window with title '+windowTitle);};BrowserBot.prototype.getNonTopWindowNames=function(){let nonTopWindowNames=[];for(let windowName in this.openedWindows){let win=this.openedWindows[windowName];if(!this._windowClosed(win)&&win!=this.topWindow){nonTopWindowNames.push(windowName);}}return nonTopWindowNames;};BrowserBot.prototype.getCurrentWindow=function(doNotModify){if(this.proxyInjectionMode){return window;}let testWindow=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(this.currentWindow);if(!doNotModify){this._modifyWindow(testWindow);//LOG.debug(\"getCurrentWindow newPageLoaded = false\");\nthis.newPageLoaded=false;}testWindow=this._handleClosedSubFrame(testWindow,doNotModify);__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].window_=testWindow;return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(testWindow);};/**\n * Offer a method the end-user can reliably use to retrieve the current window.\n * This should work even for windows with an XPCNativeWrapper. Returns the\n * current window object.\n */BrowserBot.prototype.getUserWindow=function(){let userWindow=this.getCurrentWindow(true);return userWindow;};BrowserBot.prototype._handleClosedSubFrame=function(testWindow,doNotModify){if(this.proxyInjectionMode){return testWindow;}if(this.isSubFrameSelected){let missing=true;if(testWindow.parent&&testWindow.parent.frames&&testWindow.parent.frames.length){for(let i=0;i<testWindow.parent.frames.length;i++){let frame=testWindow.parent.frames[i];if(frame==testWindow||frame.seleniumKey==testWindow.seleniumKey){missing=false;break;}}}if(missing){//LOG.warn(\"Current subframe appears to have closed; selecting top frame\");\nthis.selectFrame('relative=top');return this.getCurrentWindow(doNotModify);}}else if(this._windowClosed(testWindow)){//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/11/25\n/*var closedError = new SeleniumError(\"Current window or frame is closed!\");\n        closedError.windowClosed = true;\n        throw closedError;*/testWindow=this.topWindow;//select live object\n}return testWindow;};BrowserBot.prototype.setShouldHighlightElement=function(shouldHighlight){this.shouldHighlightLocatedElement=shouldHighlight;};/*****************************************************************/ /* BROWSER-SPECIFIC FUNCTIONS ONLY AFTER THIS LINE */BrowserBot.prototype._registerAllLocatorFunctions=function(){// TODO - don't do this in the constructor - only needed once ever\nthis.locationStrategies={};for(let functionName in this){let result=/^locateElementBy([A-Z].+)$/.exec(functionName);if(result!=null){let locatorFunction=this[functionName];if(typeof locatorFunction!='function'){continue;}// Use a specified prefix in preference to one generated from\n// the function name\nlet locatorPrefix=locatorFunction.prefix||result[1].toLowerCase();this.locationStrategies[locatorPrefix]=locatorFunction;}}/**\n   * Find a locator based on a prefix.\n   */this.findElementBy=function(locatorType,locator,inDocument,inWindow){let locatorFunction=this.locationStrategies[locatorType];if(!locatorFunction){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */](\"Unrecognised locator type: '\"+locatorType+\"'\");}return locatorFunction.call(this,locator,inDocument,inWindow);};/**\n   * The implicit locator, that is used when no prefix is supplied.\n   */this.locationStrategies['implicit']=function(locator,inDocument,inWindow){if(locator.startsWith('//')){return this.locateElementByXPath(locator,inDocument,inWindow);}if(locator.startsWith('document.')){return this.locateElementByDomTraversal(locator,inDocument,inWindow);}return this.locateElementByIdentifier(locator,inDocument,inWindow);};};BrowserBot.prototype.getDocument=function(){return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(this.getCurrentWindow().document);};BrowserBot.prototype.getTitle=function(){let t=this.getDocument().title;if(typeof t=='string'){t=t.trim();}return t;};BrowserBot.prototype.getCookieByName=function(cookieName,doc){if(!doc)doc=this.getDocument();let ck=doc.cookie;if(!ck)return null;let ckPairs=ck.split(/;/);for(let i=0;i<ckPairs.length;i++){let ckPair=ckPairs[i].trim();let ckNameValue=ckPair.split(/=/);let ckName=decodeURIComponent(ckNameValue[0]);if(ckName===cookieName){return decodeURIComponent(ckNameValue.slice(1).join('='));}}return null;};BrowserBot.prototype.getAllCookieNames=function(doc){if(!doc)doc=this.getDocument();let ck=doc.cookie;if(!ck)return[];let cookieNames=[];let ckPairs=ck.split(/;/);for(let i=0;i<ckPairs.length;i++){let ckPair=ckPairs[i].trim();let ckNameValue=ckPair.split(/=/);let ckName=decodeURIComponent(ckNameValue[0]);cookieNames.push(ckName);}return cookieNames;};BrowserBot.prototype.getAllRawCookieNames=function(doc){if(!doc)doc=this.getDocument();let ck=doc.cookie;if(!ck)return[];let cookieNames=[];let ckPairs=ck.split(/;/);for(let i=0;i<ckPairs.length;i++){let ckPair=ckPairs[i].trim();let ckNameValue=ckPair.split(/=/);let ckName=ckNameValue[0];cookieNames.push(ckName);}return cookieNames;};function encodeURIComponentWithASPHack(uri){let regularEncoding=encodeURIComponent(uri);let aggressiveEncoding=regularEncoding.replace('.','%2E');aggressiveEncoding=aggressiveEncoding.replace('_','%5F');return aggressiveEncoding;}BrowserBot.prototype.deleteCookie=function(cookieName,domain,path,doc){if(!doc)doc=this.getDocument();let expireDateInMilliseconds=new Date().getTime()+-1*1000;// we can't really be sure if we're dealing with encoded or unencoded cookie names\nlet _cookieName;let rawCookieNames=this.getAllRawCookieNames(doc);for(let rawCookieNumber in rawCookieNames){if(rawCookieNames[rawCookieNumber]==cookieName){_cookieName=cookieName;break;}else if(rawCookieNames[rawCookieNumber]==encodeURIComponent(cookieName)){_cookieName=encodeURIComponent(cookieName);break;}else if(rawCookieNames[rawCookieNumber]==encodeURIComponentWithASPHack(cookieName)){_cookieName=encodeURIComponentWithASPHack(cookieName);break;}}let cookie=_cookieName+'=deleted; ';if(path){cookie+='path='+path+'; ';}if(domain){cookie+='domain='+domain+'; ';}cookie+='expires='+new Date(expireDateInMilliseconds).toGMTString();//LOG.debug(\"Setting cookie to: \" + cookie);\ndoc.cookie=cookie;};/** Try to delete cookie, return false if it didn't work */BrowserBot.prototype._maybeDeleteCookie=function(cookieName,domain,path,doc){this.deleteCookie(cookieName,domain,path,doc);return!this.getCookieByName(cookieName,doc);};BrowserBot.prototype._recursivelyDeleteCookieDomains=function(cookieName,domain,path,doc){let deleted=this._maybeDeleteCookie(cookieName,domain,path,doc);if(deleted)return true;let dotIndex=domain.indexOf('.');if(dotIndex==0){return this._recursivelyDeleteCookieDomains(cookieName,domain.substring(1),path,doc);}else if(dotIndex!=-1){return this._recursivelyDeleteCookieDomains(cookieName,domain.substring(dotIndex),path,doc);}else{// No more dots; try just not passing in a domain at all\nreturn this._maybeDeleteCookie(cookieName,null,path,doc);}};BrowserBot.prototype._recursivelyDeleteCookie=function(cookieName,domain,path,doc){let slashIndex=path.lastIndexOf('/');let finalIndex=path.length-1;if(slashIndex==finalIndex){slashIndex--;}if(slashIndex!=-1){const deleted=this._recursivelyDeleteCookie(cookieName,domain,path.substring(0,slashIndex+1),doc);if(deleted)return true;}return this._recursivelyDeleteCookieDomains(cookieName,domain,path,doc);};BrowserBot.prototype.recursivelyDeleteCookie=function(cookieName,domain,path,win){if(!win)win=this.getCurrentWindow();let doc=win.document;if(!domain){domain=doc.domain;}if(!path){path=win.location.pathname;}let deleted=this._recursivelyDeleteCookie(cookieName,'.'+domain,path,doc);if(deleted)return;// Finally try a null path (Try it last because it's uncommon)\ndeleted=this._recursivelyDeleteCookieDomains(cookieName,'.'+domain,null,doc);if(deleted)return;throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */](\"Couldn't delete cookie \"+cookieName);};/*\n * Finds an element on the current page, using various lookup protocols\n */BrowserBot.prototype.findElementOrNull=function(locator,win){locator=Object(__WEBPACK_IMPORTED_MODULE_4__utils__[\"f\" /* parse_locator */])(locator);if(win==null){win=this.getCurrentWindow();}let element=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].locators.findElement({[locator.type]:locator.string},win.document);element=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(element);// Element was not found by any locator function.\nreturn element;};BrowserBot.prototype.findElement=function(locator,win){let element=this.findElementOrNull(locator,win);if(element==null)throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Element '+locator+' not found');return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(element);};/**\n * Finds a list of elements using the same mechanism as webdriver.\n *\n * @param {string} how The finding mechanism to use.\n * @param {string} using The selector to use.\n * @param {Document|Element} root The root of the search path.\n */BrowserBot.prototype.findElementsLikeWebDriver=function(how,using,root){let by={};by[how]=using;let all=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].locators.findElements(by,root);let toReturn='';for(let i=0;i<all.length-1;i++){toReturn+=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].inject.cache.addElement(__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(all[i]))+',';}if(all[all.length-1]){toReturn+=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].inject.cache.addElement(__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].firefox.unwrap(all[all.length-1]));}return toReturn;};/**\n * In non-IE browsers, getElementById() does not search by name.  Instead, we\n * we search separately by id and name.\n */BrowserBot.prototype.locateElementByIdentifier=function(identifier,inDocument,inWindow){// HBC - use \"this\" instead of \"BrowserBot.prototype\"; otherwise we lose\n// the non-prototype fields of the object!\nreturn this.locateElementById(identifier,inDocument,inWindow)||BrowserBot.prototype.locateElementByName(identifier,inDocument,inWindow)||null;};/**\n * Find the element with id - can't rely on getElementById, coz it returns by name as well in IE..\n */BrowserBot.prototype.locateElementById=function(identifier,inDocument){let element=inDocument.getElementById(identifier);if(element&&element.getAttribute('id')===identifier){return element;}else if(browserVersion.isIE||browserVersion.isOpera){// SEL-484\nlet elements=inDocument.getElementsByTagName('*');for(let i=0,n=elements.length;i<n;++i){element=elements[i];if(element.tagName.toLowerCase()=='form'){if(element.attributes['id'].nodeValue==identifier){return element;}}else if(element.getAttribute('id')==identifier){return element;}}return null;}else{return null;}};/**\n * Find an element by name, refined by (optional) element-filter\n * expressions.\n */BrowserBot.prototype.locateElementByName=function(locator,document){let elements=document.getElementsByTagName('*');//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/11/23\n/*\n        var filters = locator.split(' ');\n        filters[0] = 'name=' + filters[0];\n\n        while (filters.length) {\n            var filter = filters.shift();\n            elements = this.selectElements(filter, elements, 'value');\n        }\n        */let filter='name='+locator;elements=this.selectElements(filter,elements,'value');if(elements.length>0){return elements[0];}return null;};/**\n * Finds an element using by evaluating the specfied string.\n */BrowserBot.prototype.locateElementByDomTraversal=function(domTraversal){let element=null;//Evalinsandbox\n// eslint-disable-next-line no-undef\nlet mySandbox=new Components.utils.Sandbox(this.currentWindow.location.href);mySandbox.domTraversal=domTraversal;try{// eslint-disable-next-line no-undef\nelement=Components.utils.evalInSandbox(domTraversal,mySandbox);//element = eval(domTraversal);\n}catch(e){return null;}if(!element){return null;}return element;};BrowserBot.prototype.locateElementByDomTraversal.prefix='dom';BrowserBot.prototype.locateElementByStoredReference=function(locator){try{return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].locators.findElement('stored='+locator);}catch(e){return null;}};BrowserBot.prototype.locateElementByStoredReference.prefix='stored';BrowserBot.prototype.locateElementByWebDriver=function(locator){try{return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"b\" /* core */].locators.findElement('webdriver='+locator);}catch(e){return null;}};BrowserBot.prototype.locateElementByWebDriver.prefix='webdriver';/**\n * Finds an element identified by the xpath expression. Expressions _must_\n * begin with \"//\".\n */BrowserBot.prototype.locateElementByXPath=function(xpath,inDocument){return this.xpathEvaluator.selectSingleNode(inDocument,xpath,null,inDocument.createNSResolver?inDocument.createNSResolver(inDocument.documentElement):this._namespaceResolver);};/**\n * Find many elements using xpath.\n *\n * @param {string} xpath XPath expression to search for.\n * @param {=Document} inDocument The document to search in.\n * @param {=Window} inWindow The window the document is in.\n */BrowserBot.prototype.locateElementsByXPath=function(xpath,inDocument){return this.xpathEvaluator.selectNodes(inDocument,xpath,null,inDocument.createNSResolver?inDocument.createNSResolver(inDocument.documentElement):this._namespaceResolver);};BrowserBot.prototype._namespaceResolver=function(prefix){if(prefix=='html'||prefix=='xhtml'||prefix=='x'){return'http://www.w3.org/1999/xhtml';}else if(prefix=='mathml'){return'http://www.w3.org/1998/Math/MathML';}else if(prefix=='svg'){return'http://www.w3.org/2000/svg';}else{throw new Error('Unknown namespace: '+prefix+'.');}};/**\n * Returns the number of xpath results.\n */BrowserBot.prototype.evaluateXPathCount=function(selector,inDocument){let locator=Object(__WEBPACK_IMPORTED_MODULE_4__utils__[\"f\" /* parse_locator */])(selector);if(locator.type=='xpath'||locator.type=='implicit'){return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].locators.findElements({xpath:locator.string},inDocument).length;}else{//LOG.error(\"Locator does not use XPath strategy: \" + selector);\nreturn 0;}};/**\n * Returns the number of css results.\n */BrowserBot.prototype.evaluateCssCount=function(selector,inDocument){let locator=Object(__WEBPACK_IMPORTED_MODULE_4__utils__[\"f\" /* parse_locator */])(selector);if(locator.type=='css'||locator.type=='implicit'){return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].locators.findElements({css:locator.string},inDocument).length;}else{//LOG.error(\"Locator does not use CSS strategy: \" + selector);\nreturn 0;}};/**\n * Finds a link element with text matching the expression supplied. Expressions must\n * begin with \"link:\".\n */BrowserBot.prototype.locateElementByLinkText=function(linkText,inDocument){let links=inDocument.getElementsByTagName('a');for(let i=0;i<links.length;i++){let element=links[i];if(__WEBPACK_IMPORTED_MODULE_5__PatternMatcher__[\"a\" /* default */].matches(linkText,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].dom.getVisibleText(element))){return element;}}return null;};BrowserBot.prototype.locateElementByLinkText.prefix='link';/**\n * Returns an attribute based on an attribute locator. This is made up of an element locator\n * suffixed with @attribute-name.\n */BrowserBot.prototype.findAttribute=function(locator){// Split into locator + attributeName\nlet attributePos=locator.lastIndexOf('@');let elementLocator=locator.slice(0,attributePos);let attributeName=locator.slice(attributePos+1);// Find the element.\nlet element=this.findElement(elementLocator);let attributeValue=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].dom.getAttribute(element,attributeName);return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"c\" /* default */].isDefAndNotNull(attributeValue)?attributeValue.toString():null;};/*\n * Select the specified option and trigger the relevant events of the element.\n */BrowserBot.prototype.selectOption=function(element,optionToSelect){__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);let changed=false;for(let i=0;i<element.options.length;i++){let option=element.options[i];if(option.selected&&option!=optionToSelect){option.selected=false;changed=true;}else if(!option.selected&&option==optionToSelect){option.selected=true;changed=true;}}if(changed){__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.CHANGE);}};/*\n * Select the specified option and trigger the relevant events of the element.\n */BrowserBot.prototype.addSelection=function(element,option){this.checkMultiselect(element);__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);if(!option.selected){option.selected=true;__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.CHANGE);}};/*\n * Select the specified option and trigger the relevant events of the element.\n */BrowserBot.prototype.removeSelection=function(element,option){this.checkMultiselect(element);__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);if(option.selected){option.selected=false;__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.CHANGE);}};BrowserBot.prototype.checkMultiselect=function(element){if(!element.multiple){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Not a multi-select');}};BrowserBot.prototype.replaceText=function(element,stringValue){__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.SELECT);let maxLengthAttr=element.getAttribute('maxLength');let actualValue=stringValue;if(maxLengthAttr!=null){let maxLength=parseInt(maxLengthAttr);if(stringValue.length>maxLength){actualValue=stringValue.substr(0,maxLength);}}if(Object(__WEBPACK_IMPORTED_MODULE_4__utils__[\"c\" /* getTagName */])(element)=='body'){if(element.ownerDocument&&element.ownerDocument.designMode){let designMode=new String(element.ownerDocument.designMode).toLowerCase();if(designMode=='on'){// this must be a rich text control!\nelement.innerHTML=actualValue;}}}else{element.value=actualValue;}// DGF this used to be skipped in chrome URLs, but no longer.  Is xpcnativewrappers to blame?\ntry{__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.CHANGE);}catch(e){}// eslint-disable-line no-empty\n};BrowserBot.prototype.clickElement=function(element,clientX,clientY){this._fireEventOnElement('click',element,clientX,clientY);};BrowserBot.prototype.doubleClickElement=function(element,clientX,clientY){this._fireEventOnElement('dblclick',element,clientX,clientY);};// The contextmenu event is fired when the user right-clicks to open the context menu\nBrowserBot.prototype.contextMenuOnElement=function(element,clientX,clientY){this._fireEventOnElement('contextmenu',element,clientX,clientY);};//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/05/26\n//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/11/17\nBrowserBot.prototype._modifyElementTarget=function(e){let element=this.findClickableElement(e)||e;if(element.target){if(element.target=='_blank'||/^selenium_blank/.test(element.target)){let tagName=Object(__WEBPACK_IMPORTED_MODULE_4__utils__[\"c\" /* getTagName */])(element);if(tagName=='a'||tagName=='form'){const newTarget='win_ser_'+this.count;this.count+=1;this.browserbot.openWindow('',newTarget);element.target=newTarget;}}else{const newTarget=element.target;this.browserbot.openWindow('',newTarget);element.target=newTarget;}}};//UnnamedWinIFrameExt, Jie-Lin You, SELAB, CSIE, NCKU, 2016/11/17\nBrowserBot.prototype.findClickableElement=function(e){if(!e.tagName)return null;let tagName=e.tagName.toLowerCase();let type=e.type;if(e.hasAttribute('onclick')||e.hasAttribute('href')||e.hasAttribute('url')||tagName=='button'||tagName=='input'&&(type=='submit'||type=='button'||type=='image'||type=='radio'||type=='checkbox'||type=='reset')){return e;}else{if(e.parentNode!=null){return this.findClickableElement(e.parentNode);}else{return null;}}};BrowserBot.prototype._handleClickingImagesInsideLinks=function(targetWindow,element){let itrElement=element;while(itrElement!=null){if(itrElement.href){targetWindow.location.href=itrElement.href;break;}itrElement=itrElement.parentNode;}};BrowserBot.prototype._getTargetWindow=function(element){let targetWindow=element.ownerDocument.defaultView;if(element.target){targetWindow=this._getFrameFromGlobal(element.target);}return targetWindow;};BrowserBot.prototype._getFrameFromGlobal=function(target){if(target=='_self'){return this.getCurrentWindow();}if(target=='_top'){return this.topFrame;}else if(target=='_parent'){return this.getCurrentWindow().parent;}else if(target=='_blank'){// TODO should this set cleverer window defaults?\nreturn this.getCurrentWindow().open('','_blank');}let frameElement=this.findElementBy('implicit',target,this.topFrame.document,this.topFrame);if(frameElement){return frameElement.contentWindow;}let win=this.getWindowByName(target);if(win)return win;return this.getCurrentWindow().open('',target);};BrowserBot.prototype.bodyText=function(){if(!this.getDocument().body){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */](\"Couldn't access document.body.  Is this HTML page fully loaded?\");}return __WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].dom.getVisibleText(this.getDocument().body);};BrowserBot.prototype.getAllButtons=function(){let elements=this.getDocument().getElementsByTagName('input');let result=[];for(let i=0;i<elements.length;i++){if(elements[i].type=='button'||elements[i].type=='submit'||elements[i].type=='reset'){result.push(elements[i].id);}}return result;};BrowserBot.prototype.getAllFields=function(){let elements=this.getDocument().getElementsByTagName('input');let result=[];for(let i=0;i<elements.length;i++){if(elements[i].type=='text'){result.push(elements[i].id);}}return result;};BrowserBot.prototype.getAllLinks=function(){let elements=this.getDocument().getElementsByTagName('a');let result=[];for(let i=0;i<elements.length;i++){result.push(elements[i].id);}return result;};function isDefined(value){return typeof value!=undefined;}BrowserBot.prototype.goBack=function(){this.getCurrentWindow().history.back();};BrowserBot.prototype.goForward=function(){this.getCurrentWindow().history.forward();};BrowserBot.prototype.close=function(){if(browserVersion.isIE){// fix \"do you want to close this window\" warning in IE\n// You can only close windows that you have opened.\n// So, let's \"open\" it.\ntry{this.topFrame.name=new Date().getTime();window.open('',this.topFrame.name,'');this.topFrame.close();return;}catch(e){}// eslint-disable-line no-empty\n}if(browserVersion.isChrome||browserVersion.isSafari||browserVersion.isOpera){this.topFrame.close();}else{this.getCurrentWindow().eval('window.top.close();');}};BrowserBot.prototype.refresh=function(){this.getCurrentWindow().location.reload(true);};/**\n * Refine a list of elements using a filter.\n */BrowserBot.prototype.selectElementsBy=function(filterType,filter,elements){let filterFunction=BrowserBot.filterFunctions[filterType];if(!filterFunction){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */](\"Unrecognised element-filter type: '\"+filterType+\"'\");}return filterFunction(filter,elements);};BrowserBot.filterFunctions={};BrowserBot.filterFunctions.name=function(name,elements){let selectedElements=[];for(let i=0;i<elements.length;i++){if(elements[i].name===name){selectedElements.push(elements[i]);}}return selectedElements;};BrowserBot.filterFunctions.value=function(value,elements){let selectedElements=[];for(let i=0;i<elements.length;i++){if(elements[i].value===value){selectedElements.push(elements[i]);}}return selectedElements;};BrowserBot.filterFunctions.index=function(index,elements){index=Number(index);if(isNaN(index)||index<0){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Illegal Index: '+index);}if(elements.length<=index){throw new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Index out of range: '+index);}return[elements[index]];};BrowserBot.prototype.selectElements=function(filterExpr,elements,defaultFilterType){let filterType=defaultFilterType||'value';// If there is a filter prefix, use the specified strategy\nlet result=filterExpr.match(/^([A-Za-z]+)=(.+)/);if(result){filterType=result[1].toLowerCase();filterExpr=result[2];}return this.selectElementsBy(filterType,filterExpr,elements);};/**\n * Find an element by css selector\n */BrowserBot.prototype.locateElementByCss=function(locator,document){let elements=__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].locators.findElements({css:locator},document);if(elements.length!=0)return elements[0];return null;};/* prompt */BrowserBot.prototype.cancelNextPrompt=function(){return this.setNextPromptResult(null);};BrowserBot.prototype.setNextPromptResult=function(result){this.promptResponse=false;let self=this;window.postMessage({direction:'from-content-script',command:'setNextPromptResult',target:result},'*');let response=new Promise(function(resolve,reject){let count=0;let interval=setInterval(function(){if(!self.promptResponse){count++;if(count>60){reject('No response');clearInterval(interval);}}else{resolve();self.promptResponse=false;clearInterval(interval);}},500);});return response;};BrowserBot.prototype.getPromptMessage=function(){this.promptResponse=false;this.promptMessage=null;let self=this;window.postMessage({direction:'from-content-script',command:'getPromptMessage'},'*');let response=new Promise(function(resolve,reject){let count=0;let interval=setInterval(function(){if(!self.promptResponse){count++;if(count>60){reject('No response');clearInterval(interval);}}else{resolve(self.promptMessage);self.promptResponse=false;self.promptMessage=null;clearInterval(interval);}},500);});return response;};// confirm\nBrowserBot.prototype.setNextConfirmationResult=function(result){this.confirmationResponse=false;let self=this;window.postMessage({direction:'from-content-script',command:'setNextConfirmationResult',target:result},'*');let response=new Promise(function(resolve,reject){let count=0;let interval=setInterval(function(){if(!self.confirmationResponse){count++;if(count>60){reject('No response');clearInterval(interval);}}else{resolve();self.confirmationResponse=false;clearInterval(interval);}},500);});return response;};BrowserBot.prototype.getConfirmationMessage=function(){this.confirmationResponse=false;this.confirmationMessage=null;let self=this;window.postMessage({direction:'from-content-script',command:'getConfirmationMessage'},'*');let response=new Promise(function(resolve,reject){let count=0;let interval=setInterval(function(){if(!self.confirmationResponse){count++;if(count>60){reject('No response');clearInterval(interval);}}else{resolve(self.confirmationMessage);self.confirmationResponse=false;self.confirmationMessage=null;clearInterval(interval);}},500);});return response;};BrowserBot.prototype.getAlertMessage=function(){let self=this;let response=new Promise(function(resolve,reject){let count=0;let interval=setInterval(function(){if(!self.alertResponse){count++;if(count>60){reject('No response!!!!');clearInterval(interval);}}else{resolve(self.alertMessage);self.alertResponse=false;self.alertMessage=null;clearInterval(interval);}},500);});return response;};/*****************************************************************/ /* BROWSER-SPECIFIC FUNCTIONS ONLY AFTER THIS LINE */class MozillaBrowserBot extends BrowserBot{constructor(frame){super(frame);}}\n/* unused harmony export MozillaBrowserBot */\nclass KonquerorBrowserBot extends BrowserBot{constructor(frame){super(frame);}}\n/* unused harmony export KonquerorBrowserBot */\nKonquerorBrowserBot.prototype.setIFrameLocation=function(iframe,location){// Window doesn't fire onload event when setting src to the current value,\n// so we set it to blank first.\niframe.src='about:blank';iframe.src=location;};KonquerorBrowserBot.prototype._isSameDocument=function(originalDocument,currentDocument){// under Konqueror, there may be this case:\n// originalDocument and currentDocument are different objects\n// while their location are same.\nif(originalDocument){return originalDocument.location==currentDocument.location;}else{return originalDocument===currentDocument;}};class SafariBrowserBot extends BrowserBot{constructor(frame){super(frame);}}\n/* unused harmony export SafariBrowserBot */\nSafariBrowserBot.prototype.setIFrameLocation=KonquerorBrowserBot.prototype.setIFrameLocation;class OperaBrowserBot extends BrowserBot{constructor(frame){super(frame);}}\n/* unused harmony export OperaBrowserBot */\nOperaBrowserBot.prototype.setIFrameLocation=function(iframe,location){if(iframe.src==location){iframe.src=location+'?reload';}else{iframe.src=location;}};class IEBrowserBot extends BrowserBot{constructor(frame){super(frame);}}\n/* unused harmony export IEBrowserBot */\nIEBrowserBot.prototype._handleClosedSubFrame=function(testWindow,doNotModify){if(this.proxyInjectionMode){return testWindow;}try{testWindow.location.href;this.permDenied=0;}catch(e){this.permDenied++;}if(this._windowClosed(testWindow)||this.permDenied>4){if(this.isSubFrameSelected){//LOG.warn(\"Current subframe appears to have closed; selecting top frame\");\nthis.selectFrame('relative=top');return this.getCurrentWindow(doNotModify);}else{let closedError=new __WEBPACK_IMPORTED_MODULE_1__SeleniumError__[\"a\" /* default */]('Current window or frame is closed!');closedError.windowClosed=true;throw closedError;}}return testWindow;};IEBrowserBot.prototype.modifyWindowToRecordPopUpDialogs=function(windowToModify,browserBot){BrowserBot.prototype.modifyWindowToRecordPopUpDialogs(windowToModify,browserBot);// we will call the previous version of this method from within our own interception\nlet oldShowModalDialog=windowToModify.showModalDialog;windowToModify.showModalDialog=function(url,args,features){// Get relative directory to where TestRunner.html lives\n// A risky assumption is that the user's TestRunner is named TestRunner.html\nlet doc_location=document.location.toString();let end_of_base_ref=doc_location.indexOf('TestRunner.html');let base_ref=doc_location.substring(0,end_of_base_ref);let runInterval='';// Only set run interval if options is defined\nif(typeof window.runOptions!='undefined'){runInterval='&runInterval='+runOptions.runInterval;// eslint-disable-line no-undef\n}let testRunnerURL='TestRunner.html?auto=true&singletest='+escape(browserBot.modalDialogTest)+'&autoURL='+escape(url)+runInterval;let fullURL=base_ref+testRunnerURL;browserBot.modalDialogTest=null;// If using proxy injection mode\nif(this.proxyInjectionMode){fullURL=url;}let returnValue=oldShowModalDialog(fullURL,args,features);return returnValue;};};IEBrowserBot.prototype.modifySeparateTestWindowToDetectPageLoads=function(windowObject){this.pageUnloading=false;let self=this;let pageUnloadDetector=function(){self.pageUnloading=true;};if(windowObject.addEventListener){windowObject.addEventListener('beforeunload',pageUnloadDetector,true);}else{windowObject.attachEvent('onbeforeunload',pageUnloadDetector);}BrowserBot.prototype.modifySeparateTestWindowToDetectPageLoads.call(this,windowObject);};IEBrowserBot.prototype.pollForLoad=function(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker){//LOG.debug(\"IEBrowserBot.pollForLoad: \" + marker);\nif(!this.permDeniedCount[marker])this.permDeniedCount[marker]=0;BrowserBot.prototype.pollForLoad.call(this,loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);if(this.pageLoadError){if(this.pageUnloading){//LOG.debug(\"pollForLoad UNLOADING (\" + marker + \"): caught exception while firing events on unloading page: \" + this.pageLoadError.message);\nthis.reschedulePoller(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);this.pageLoadError=null;return;}else if((this.pageLoadError.message=='Permission denied'||/^Access is denied/.test(this.pageLoadError.message))&&this.permDeniedCount[marker]++<8){if(this.permDeniedCount[marker]>4){let canAccessThisWindow;let canAccessCurrentlySelectedWindow;try{windowObject.location.href;canAccessThisWindow=true;}catch(e){}// eslint-disable-line no-empty\ntry{this.getCurrentWindow(true).location.href;canAccessCurrentlySelectedWindow=true;}catch(e){}// eslint-disable-line no-empty\nif(canAccessCurrentlySelectedWindow&!canAccessThisWindow){//LOG.debug(\"pollForLoad (\" + marker + \") ABORTING: \" + this.pageLoadError.message + \" (\" + this.permDeniedCount[marker] + \"), but the currently selected window is fine\");\n// returning without rescheduling\nthis.pageLoadError=null;return;}}//LOG.debug(\"pollForLoad (\" + marker + \"): \" + this.pageLoadError.message + \" (\" + this.permDeniedCount[marker] + \"), waiting to see if it goes away\");\nthis.reschedulePoller(loadFunction,windowObject,originalDocument,originalLocation,originalHref,marker);this.pageLoadError=null;return;}//handy for debugging!\n//throw this.pageLoadError;\n}};IEBrowserBot.prototype._windowClosed=function(win){try{let c=win.closed;// frame windows claim to be non-closed when their parents are closed\n// but you can't access their document objects in that case\nif(!c){try{win.document;}catch(de){if(de.message=='Permission denied'){// the window is probably unloading, which means it's probably not closed yet\nreturn false;}else if(/^Access is denied/.test(de.message)){// rare variation on \"Permission denied\"?\n//LOG.debug(\"IEBrowserBot.windowClosed: got \" + de.message + \" (this.pageUnloading=\" + this.pageUnloading + \"); assuming window is unloading, probably not closed yet\");\nreturn false;}else{// this is probably one of those frame window situations\n//LOG.debug(\"IEBrowserBot.windowClosed: couldn't read win.document, assume closed: \" + de.message + \" (this.pageUnloading=\" + this.pageUnloading + \")\");\nreturn true;}}}if(c==null){//LOG.debug(\"IEBrowserBot.windowClosed: win.closed was null, assuming closed\");\nreturn true;}return c;}catch(e){//LOG.debug(\"IEBrowserBot._windowClosed: Got an exception trying to read win.closed; we'll have to take a guess!\");\nif(browserVersion.isHTA){if(e.message=='Permission denied'){// the window is probably unloading, which means it's not closed yet\nreturn false;}else{// there's a good chance that we've lost contact with the window object if it is closed\nreturn true;}}else{// the window is probably unloading, which means it's not closed yet\nreturn false;}}};/**\n * In IE, getElementById() also searches by name - this is an optimisation for IE.\n */IEBrowserBot.prototype.locateElementByIdentifer=function(identifier,inDocument){return inDocument.getElementById(identifier);};SafariBrowserBot.prototype.modifyWindowToRecordPopUpDialogs=function(windowToModify,browserBot){BrowserBot.prototype.modifyWindowToRecordPopUpDialogs(windowToModify,browserBot);let originalOpen=windowToModify.open;/*\n   * Safari seems to be broken, so that when we manually trigger the onclick method\n   * of a button/href, any window.open calls aren't resolved relative to the app location.\n   * So here we replace the open() method with one that does resolve the url correctly.\n   */windowToModify.open=function(url,windowName,windowFeatures,replaceFlag){if(url.startsWith('http://')||url.startsWith('https://')||url.startsWith('/')){return originalOpen(url,windowName,windowFeatures,replaceFlag);}// Reduce the current path to the directory\nlet currentPath=windowToModify.location.pathname||'/';currentPath=currentPath.replace(/\\/[^\\/]*$/,'/');// eslint-disable-line no-useless-escape\n// Remove any leading \"./\" from the new url.\nurl=url.replace(/^\\.\\//,'');const newUrl=currentPath+url;let openedWindow=originalOpen(newUrl,windowName,windowFeatures,replaceFlag);//LOG.debug(\"window.open call intercepted; window ID (which you can use with selectWindow()) is \\\"\" +  windowName + \"\\\"\");\nif(windowName!=null){openedWindow['seleniumWindowName']=windowName;}return openedWindow;};};MozillaBrowserBot.prototype._fireEventOnElement=function(eventType,element,clientX,clientY){let win=this.getCurrentWindow();__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);// Add an event listener that detects if the default action has been prevented.\n// (This is caused by a javascript onclick handler returning false)\n// we capture the whole event, rather than the getPreventDefault() state at the time,\n// because we need to let the entire event bubbling and capturing to go through\n// before making a decision on whether we should force the href\nelement.addEventListener(eventType,function(){},false);//this._modifyElementTarget(element);\n// Trigger the event.\nthis.browserbot.triggerMouseEvent(element,eventType,true,clientX,clientY);if(this._windowClosed(win)){return;}// Perform the link action if preventDefault was set.\n// In chrome URL, the link action is already executed by triggerMouseEvent.\n//if (!browserVersion.isChrome && savedEvent != null && savedEvent.getPreventDefault && !savedEvent.getPreventDefault()) {\n/*\n    if (!browserVersion.isChrome && savedEvent != null && savedEvent.defaultPrevented && !savedEvent.defaultPrevented()) {\n        var targetWindow = this.browserbot._getTargetWindow(element);\n        if (element.href) {\n            targetWindow.location.href = element.href;\n        } else {\n            this.browserbot._handleClickingImagesInsideLinks(targetWindow, element);\n        }\n    }\n    */};OperaBrowserBot.prototype._fireEventOnElement=function(eventType,element,clientX,clientY){let win=this.getCurrentWindow();__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);this._modifyElementTarget(element);// Trigger the click event.\nthis.browserbot.triggerMouseEvent(element,eventType,true,clientX,clientY);if(this._windowClosed(win)){return;}};KonquerorBrowserBot.prototype._fireEventOnElement=function(eventType,element,clientX,clientY){let win=this.getCurrentWindow();__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);this._modifyElementTarget(element);if(element[eventType]){element[eventType]();}else{this.browserbot.triggerMouseEvent(element,eventType,true,clientX,clientY);}if(this._windowClosed(win)){return;}};SafariBrowserBot.prototype._fireEventOnElement=function(eventType,element,clientX,clientY){__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);this._modifyElementTarget(element);// For form element it is simple.\nif(element[eventType]){element[eventType]();}// For links and other elements, event emulation is required.\nelse{// todo: deal with anchors?\nthis.browserbot.triggerMouseEvent(element,eventType,true,clientX,clientY);}};SafariBrowserBot.prototype.refresh=function(){let win=this.getCurrentWindow();if(win.location.hash){// DGF Safari refuses to refresh when there's a hash symbol in the URL\nwin.location.hash='';let actuallyReload=function(){win.location.reload(true);};window.setTimeout(actuallyReload,1);}else{win.location.reload(true);}};IEBrowserBot.prototype._fireEventOnElement=function(eventType,element,clientX,clientY){let win=this.getCurrentWindow();__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.FOCUS);let wasChecked=element.checked;// Set a flag that records if the page will unload - this isn't always accurate, because\n// <a href=\"javascript:alert('foo'):\"> triggers the onbeforeunload event, even thought the page won't unload\nlet pageUnloading=false;let pageUnloadDetector=function(){pageUnloading=true;};if(win.addEventListener){win.addEventListener('beforeunload',pageUnloadDetector,true);}else{win.attachEvent('onbeforeunload',pageUnloadDetector);}this._modifyElementTarget(element);if(element[eventType]){element[eventType]();}else{this.browserbot.triggerMouseEvent(element,eventType,true,clientX,clientY);}// If the page is going to unload - still attempt to fire any subsequent events.\n// However, we can't guarantee that the page won't unload half way through, so we need to handle exceptions.\ntry{if(win.removeEventListener){win.removeEventListener('onbeforeunload',pageUnloadDetector,true);}else{win.detachEvent('onbeforeunload',pageUnloadDetector);}if(this._windowClosed(win)){return;}// Onchange event is not triggered automatically in IE.\nif(isDefined(element.checked)&&wasChecked!=element.checked){__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.fire(element,__WEBPACK_IMPORTED_MODULE_3__closure_polyfill__[\"a\" /* bot */].events.EventType.CHANGE);}}catch(e){// If the page is unloading, we may get a \"Permission denied\" or \"Unspecified error\".\n// Just ignore it, because the document may have unloaded.\nif(pageUnloading){//LOG.logHook = function() {\n//};\n//LOG.warn(\"Caught exception when firing events on unloading page: \" + e.message);\nreturn;}throw e;}};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9zZWxlbml1bS1icm93c2VyYm90LmpzPzExMzAiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAyMDExIFNvZnR3YXJlIEZyZWVkb20gQ29uc2VydmFuY3lcbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovIC8qXG4gKiBUaGlzIHNjcmlwdCBwcm92aWRlcyB0aGUgSmF2YXNjcmlwdCBBUEkgdG8gZHJpdmUgdGhlIHRlc3QgYXBwbGljYXRpb24gY29udGFpbmVkIHdpdGhpblxuICogYSBCcm93c2VyIFdpbmRvdy5cbiAqIFRPRE86XG4gKiAgICBBZGQgc3VwcG9ydCBmb3IgbW9yZSBldmVudHMgKGtleWJvYXJkIGFuZCBtb3VzZSlcbiAqICAgIEFsbG93IHRvIHN3aXRjaCBcInVzZXItZW50cnlcIiBtb2RlIGZyb20gbW91c2UtYmFzZWQgdG8ga2V5Ym9hcmQtYmFzZWQsIGZpcmluZyBkaWZmZXJlbnRcbiAqICAgICAgICAgIGV2ZW50cyBpbiBkaWZmZXJlbnQgbW9kZXMuXG4gKi9pbXBvcnQgX1NlbGVuaXVtIGZyb20nLi9zZWxlbml1bS1hcGknO2ltcG9ydCBTZWxlbml1bUVycm9yIGZyb20nLi9TZWxlbml1bUVycm9yJztpbXBvcnR7c2VsZW5pdW19ZnJvbScuL2NvbW1hbmRzLWFwaSc7aW1wb3J0IGdvb2cse2JvdCxjb3JlfWZyb20nLi9jbG9zdXJlLXBvbHlmaWxsJztpbXBvcnR7Z2V0VGFnTmFtZSxwYXJzZV9sb2NhdG9yfWZyb20nLi91dGlscyc7aW1wb3J0IFBhdHRlcm5NYXRjaGVyIGZyb20nLi9QYXR0ZXJuTWF0Y2hlcic7ZXhwb3J0IGNvbnN0IGJyb3dzZXJWZXJzaW9uPW5ldyB3aW5kb3cuZ2xvYmFsLkJyb3dzZXJWZXJzaW9uKCk7d2luZG93Lmdsb2JhbC5icm93c2VyVmVyc2lvbj1icm93c2VyVmVyc2lvbjsvLyBUaGUgd2luZG93IHRvIHdoaWNoIHRoZSBjb21tYW5kcyB3aWxsIGJlIHNlbnQuICBGb3IgZXhhbXBsZSwgdG8gY2xpY2sgb24gYVxuLy8gcG9wdXAgd2luZG93LCBmaXJzdCBzZWxlY3QgdGhhdCB3aW5kb3csIGFuZCB0aGVuIGRvIGEgbm9ybWFsIGNsaWNrIGNvbW1hbmQuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcm93c2VyQm90e2NvbnN0cnVjdG9yKHRvcExldmVsQXBwbGljYXRpb25XaW5kb3cpe3RoaXMudG9wV2luZG93PXRvcExldmVsQXBwbGljYXRpb25XaW5kb3c7dGhpcy50b3BGcmFtZT10aGlzLnRvcFdpbmRvdzt0aGlzLmJhc2VVcmw9d2luZG93LmxvY2F0aW9uLmhyZWY7Ym90LnNldFdpbmRvdyh3aW5kb3cpOy8vVW5uYW1lZFdpbklGcmFtZUV4dCwgSmllLUxpbiBZb3UsIFNFTEFCLCBDU0lFLCBOQ0tVLCAyMDE2LzA1LzI2XG50aGlzLmNvdW50PTE7Ly8gdGhlIGJ1dHRvbldpbmRvdyBpcyB0aGUgU2VsZW5pdW0gd2luZG93XG4vLyBpdCBjb250YWlucyB0aGUgUnVuL1BhdXNlIGJ1dHRvbnMuLi4gdGhpcyBzaG91bGQgKm5vdCogYmUgdGhlIEFVVCB3aW5kb3dcbnRoaXMuYnV0dG9uV2luZG93PXdpbmRvdzt0aGlzLmN1cnJlbnRXaW5kb3c9dGhpcy50b3BXaW5kb3c7dGhpcy5jdXJyZW50V2luZG93TmFtZT1udWxsO3RoaXMuYWxsb3dOYXRpdmVYcGF0aD10cnVlO3RoaXMueHBhdGhFdmFsdWF0b3I9bmV3IFhQYXRoRXZhbHVhdG9yKCdhamF4c2x0Jyk7Ly8gY2hhbmdlIHRvIFwiamF2YXNjcmlwdC14cGF0aFwiIGZvciB0aGUgbmV3ZXIsIGZhc3RlciBlbmdpbmVcbi8vIFdlIG5lZWQgdG8ga25vdyB0aGlzIGluIGFkdmFuY2UsIGluIGNhc2UgdGhlIGZyYW1lIGNsb3NlcyB1bmV4cGVjdGVkbHlcbnRoaXMuaXNTdWJGcmFtZVNlbGVjdGVkPWZhbHNlO3RoaXMuYWx0S2V5RG93bj1mYWxzZTt0aGlzLmNvbnRyb2xLZXlEb3duPWZhbHNlO3RoaXMuc2hpZnRLZXlEb3duPWZhbHNlO3RoaXMubWV0YUtleURvd249ZmFsc2U7dGhpcy5tb2RhbERpYWxvZ1Rlc3Q9bnVsbDt0aGlzLnJlY29yZGVkQWxlcnRzPW5ldyBBcnJheSgpO3RoaXMucmVjb3JkZWRDb25maXJtYXRpb25zPW5ldyBBcnJheSgpO3RoaXMucmVjb3JkZWRQcm9tcHRzPW5ldyBBcnJheSgpO3RoaXMub3BlbmVkV2luZG93cz17fTsvL1VubmFtZWRXaW5JRnJhbWVFeHQsIEppZS1MaW4gWW91LCBTRUxBQiwgQ1NJRSwgTkNLVSwgMjAxNi8wNS8yNlxudGhpcy5vcGVuZWRXaW5kb3dzWyd3aW5fc2VyX2xvY2FsJ109dGhpcy50b3BXaW5kb3c7dGhpcy5uZXh0Q29uZmlybVJlc3VsdD10cnVlO3RoaXMubmV4dFByb21wdFJlc3VsdD0nJzt0aGlzLm5ld1BhZ2VMb2FkZWQ9ZmFsc2U7dGhpcy5wYWdlTG9hZEVycm9yPW51bGw7dGhpcy5pZ25vcmVSZXNwb25zZUNvZGU9ZmFsc2U7dGhpcy54aHI9bnVsbDt0aGlzLmFib3J0WGhyPWZhbHNlO3RoaXMuaXNYaHJTZW50PWZhbHNlO3RoaXMuaXNYaHJEb25lPWZhbHNlO3RoaXMueGhyT3BlbkxvY2F0aW9uPW51bGw7dGhpcy54aHJSZXNwb25zZUNvZGU9bnVsbDt0aGlzLnhoclN0YXR1c1RleHQ9bnVsbDt0aGlzLnNob3VsZEhpZ2hsaWdodExvY2F0ZWRFbGVtZW50PWZhbHNlO3RoaXMudW5pcXVlSWQ9J3NlbGVuaXVtTWFya2VyJytuZXcgRGF0ZSgpLmdldFRpbWUoKTt0aGlzLnBvbGxpbmdGb3JMb2FkPW5ldyBPYmplY3QoKTt0aGlzLnBlcm1EZW5pZWRDb3VudD1uZXcgT2JqZWN0KCk7dGhpcy53aW5kb3dQb2xsZXJzPW5ldyBBcnJheSgpOy8vIERHRiBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbnRoaXMuYnJvd3NlcmJvdD10aGlzO2xldCBzZWxmPXRoaXM7T2JqZWN0LmFzc2lnbih0aGlzLFBhZ2VCb3QucHJvdG90eXBlKTt0aGlzLl9yZWdpc3RlckFsbExvY2F0b3JGdW5jdGlvbnMoKTt0aGlzLnJlY29yZFBhZ2VMb2FkPWZ1bmN0aW9uKCl7c2VsZi5uZXdQYWdlTG9hZGVkPXRydWU7fTt0aGlzLmlzTmV3UGFnZUxvYWRlZD1mdW5jdGlvbigpe2xldCBlO2lmKHRoaXMucGFnZUxvYWRFcnJvcil7ZT10aGlzLnBhZ2VMb2FkRXJyb3I7dGhpcy5wYWdlTG9hZEVycm9yPW51bGw7dGhyb3cgZTt9aWYoc2VsZi5pZ25vcmVSZXNwb25zZUNvZGUpe3JldHVybiBzZWxmLm5ld1BhZ2VMb2FkZWQ7fWVsc2V7aWYoc2VsZi5pc1hoclNlbnQmJnNlbGYuaXNYaHJEb25lKXtpZighKHNlbGYueGhyUmVzcG9uc2VDb2RlPj0yMDAmJnNlbGYueGhyUmVzcG9uc2VDb2RlPD0zOTl8fHNlbGYueGhyUmVzcG9uc2VDb2RlPT0wKSl7Ly8gVE9ETzogZm9yIElFIHN0YXR1cyBsaWtlOiAxMjAwMiwgMTIwMDcsIC4uLiBwcm92aWRlIGNvcnJlc3BvbmRpbmcgc3RhdHVzVGV4dCBtZXNzYWdlcyBhbHNvLlxuZT0nWEhSIEVSUk9SOiBVUkwgPSAnK3NlbGYueGhyT3BlbkxvY2F0aW9uKycgUmVzcG9uc2VfQ29kZSA9ICcrc2VsZi54aHJSZXNwb25zZUNvZGUrJyBFcnJvcl9NZXNzYWdlID0gJytzZWxmLnhoclN0YXR1c1RleHQ7c2VsZi5hYm9ydFhocj1mYWxzZTtzZWxmLmlzWGhyU2VudD1mYWxzZTtzZWxmLmlzWGhyRG9uZT1mYWxzZTtzZWxmLnhoclJlc3BvbnNlQ29kZT1udWxsO3NlbGYueGhyU3RhdHVzVGV4dD1udWxsO3Rocm93IG5ldyBTZWxlbml1bUVycm9yKGUpO319cmV0dXJuIHNlbGYubmV3UGFnZUxvYWRlZCYmKHNlbGYuaXNYaHJTZW50P3NlbGYuYWJvcnRYaHJ8fHNlbGYuaXNYaHJEb25lOnRydWUpO319O3RoaXMuc2V0QWxsb3dOYXRpdmVYUGF0aD1mdW5jdGlvbihhbGxvdyl7dGhpcy54cGF0aEV2YWx1YXRvci5zZXRBbGxvd05hdGl2ZVhQYXRoKGFsbG93KTt9O3RoaXMuc2V0SWdub3JlQXR0cmlidXRlc1dpdGhvdXRWYWx1ZT1mdW5jdGlvbihpZ25vcmUpe3RoaXMueHBhdGhFdmFsdWF0b3Iuc2V0SWdub3JlQXR0cmlidXRlc1dpdGhvdXRWYWx1ZShpZ25vcmUpO307dGhpcy5zZXRYUGF0aEVuZ2luZT1mdW5jdGlvbihlbmdpbmVOYW1lKXt0aGlzLnhwYXRoRXZhbHVhdG9yLnNldEN1cnJlbnRFbmdpbmUoZW5naW5lTmFtZSk7fTt0aGlzLmdldFhQYXRoRW5naW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueHBhdGhFdmFsdWF0b3IuZ2V0Q3VycmVudEVuZ2luZSgpO307fX0vLyBER0YgUGFnZUJvdCBleGlzdHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggb2xkIHVzZXItZXh0ZW5zaW9uc1xuY29uc3QgUGFnZUJvdD1mdW5jdGlvbigpe307QnJvd3NlckJvdC5jcmVhdGVGb3JXaW5kb3c9ZnVuY3Rpb24od2luZG93LHByb3h5SW5qZWN0aW9uTW9kZSl7bGV0IGJyb3dzZXJib3Q7aWYoYnJvd3NlclZlcnNpb24uaXNJRSl7YnJvd3NlcmJvdD1uZXcgSUVCcm93c2VyQm90KHdpbmRvdyk7fWVsc2UgaWYoYnJvd3NlclZlcnNpb24uaXNLb25xdWVyb3Ipe2Jyb3dzZXJib3Q9bmV3IEtvbnF1ZXJvckJyb3dzZXJCb3Qod2luZG93KTt9ZWxzZSBpZihicm93c2VyVmVyc2lvbi5pc09wZXJhKXticm93c2VyYm90PW5ldyBPcGVyYUJyb3dzZXJCb3Qod2luZG93KTt9ZWxzZSBpZihicm93c2VyVmVyc2lvbi5pc1NhZmFyaSl7YnJvd3NlcmJvdD1uZXcgU2FmYXJpQnJvd3NlckJvdCh3aW5kb3cpO31lbHNley8vIFVzZSBtb3ppbGxhIGJ5IGRlZmF1bHRcbmJyb3dzZXJib3Q9bmV3IE1vemlsbGFCcm93c2VyQm90KHdpbmRvdyk7fS8vIGdldEN1cnJlbnRXaW5kb3cgaGFzIHRoZSBzaWRlIGVmZmVjdCBvZiBtb2RpZnlpbmcgaXQgdG8gaGFuZGxlIHBhZ2UgbG9hZHMgZXRjXG5icm93c2VyYm90LnByb3h5SW5qZWN0aW9uTW9kZT1wcm94eUluamVjdGlvbk1vZGU7YnJvd3NlcmJvdC5nZXRDdXJyZW50V2luZG93KCk7Ly8gZm9yIG1vZGlmeVdpbmRvdyBzaWRlIGVmZmVjdC4gIFRoaXMgaXMgbm90IGEgdHJhbnNwYXJlbnQgc3R5bGVcbnJldHVybiBicm93c2VyYm90O307Ly8gdG9kbzogcmVuYW1lPyAgVGhpcyBkb2Vzbid0IGFjdHVhbGx5IFwiZG9cIiBhbnl0aGluZy5cbkJyb3dzZXJCb3QucHJvdG90eXBlLmRvTW9kYWxEaWFsb2dUZXN0PWZ1bmN0aW9uKHRlc3Qpe3RoaXMubW9kYWxEaWFsb2dUZXN0PXRlc3Q7fTtCcm93c2VyQm90LnByb3RvdHlwZS5jYW5jZWxOZXh0Q29uZmlybWF0aW9uPWZ1bmN0aW9uKHJlc3VsdCl7dGhpcy5uZXh0Q29uZmlybVJlc3VsdD1yZXN1bHQ7fTsvL0Jyb3dzZXJCb3QucHJvdG90eXBlLnNldE5leHRQcm9tcHRSZXN1bHQgPSBmdW5jdGlvbihyZXN1bHQpIHtcbi8vdGhpcy5uZXh0UmVzdWx0ID0gcmVzdWx0O1xuLy99O1xuQnJvd3NlckJvdC5wcm90b3R5cGUuaGFzQWxlcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVjb3JkZWRBbGVydHMubGVuZ3RoPjA7fTtCcm93c2VyQm90LnByb3RvdHlwZS5yZWxheUJvdFRvUkM9ZnVuY3Rpb24ocyl7Ly8gREdGIG5lZWQgdG8gZG8gdGhpcyBmdW5ueSB0cmljayB0byBzZWUgaWYgd2UncmUgaW4gUEkgbW9kZSwgYmVjYXVzZVxuLy8gXCJ0aGlzXCIgbWlnaHQgYmUgdGhlIHdpbmRvdywgcmF0aGVyIHRoYW4gdGhlIGJyb3dzZXJib3QgKGUuZy4gZHVyaW5nIHdpbmRvdy5hbGVydClcbmxldCBwaU1vZGU9dGhpcy5wcm94eUluamVjdGlvbk1vZGU7aWYoIXBpTW9kZSl7aWYodHlwZW9mIHNlbGVuaXVtIT0ndW5kZWZpbmVkJyl7cGlNb2RlPXNlbGVuaXVtLmJyb3dzZXJib3QmJnNlbGVuaXVtLmJyb3dzZXJib3QucHJveHlJbmplY3Rpb25Nb2RlO319aWYocGlNb2RlKXt0aGlzLnJlbGF5VG9SQygnc2VsZW5pdW0uJytzKTt9fTtCcm93c2VyQm90LnByb3RvdHlwZS5yZWxheVRvUkM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbDt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLnJlc2V0UG9wdXBzPWZ1bmN0aW9uKCl7dGhpcy5yZWNvcmRlZEFsZXJ0cz1bXTt0aGlzLnJlY29yZGVkQ29uZmlybWF0aW9ucz1bXTt0aGlzLnJlY29yZGVkUHJvbXB0cz1bXTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldE5leHRBbGVydD1mdW5jdGlvbigpe2xldCB0PXRoaXMucmVjb3JkZWRBbGVydHMuc2hpZnQoKTtpZih0KXt0PXQucmVwbGFjZSgvXFxuL2csJyAnKTsvLyBiZWNhdXNlIFNlbGVuZXNlIGxvc2VzIFxcbidzIHdoZW4gcmV0cmlldmluZyB0ZXh0IGZyb20gSFRNTCB0YWJsZVxufXRoaXMucmVsYXlCb3RUb1JDKCdicm93c2VyYm90LnJlY29yZGVkQWxlcnRzJyk7cmV0dXJuIHQ7fTtCcm93c2VyQm90LnByb3RvdHlwZS5oYXNDb25maXJtYXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVjb3JkZWRDb25maXJtYXRpb25zLmxlbmd0aD4wO307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0TmV4dENvbmZpcm1hdGlvbj1mdW5jdGlvbigpe2xldCB0PXRoaXMucmVjb3JkZWRDb25maXJtYXRpb25zLnNoaWZ0KCk7dGhpcy5yZWxheUJvdFRvUkMoJ2Jyb3dzZXJib3QucmVjb3JkZWRDb25maXJtYXRpb25zJyk7cmV0dXJuIHQ7fTtCcm93c2VyQm90LnByb3RvdHlwZS5oYXNQcm9tcHRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVjb3JkZWRQcm9tcHRzLmxlbmd0aD4wO307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0TmV4dFByb21wdD1mdW5jdGlvbigpe2xldCB0PXRoaXMucmVjb3JkZWRQcm9tcHRzLnNoaWZ0KCk7dGhpcy5yZWxheUJvdFRvUkMoJ2Jyb3dzZXJib3QucmVjb3JkZWRQcm9tcHRzJyk7cmV0dXJuIHQ7fTsvKiBGaXJlIGEgbW91c2UgZXZlbnQgaW4gYSBicm93c2VyLWNvbXBhdGlibGUgbWFubmVyICovQnJvd3NlckJvdC5wcm90b3R5cGUudHJpZ2dlck1vdXNlRXZlbnQ9ZnVuY3Rpb24oZWxlbWVudCxldmVudFR5cGUsY2FuQnViYmxlLGNsaWVudFgsY2xpZW50WSxidXR0b24pe2NsaWVudFg9Y2xpZW50WD9jbGllbnRYOjA7Y2xpZW50WT1jbGllbnRZP2NsaWVudFk6MDsvL0xPRy5kZWJ1ZyhcInRyaWdnZXJNb3VzZUV2ZW50IGFzc3VtZXMgc2V0dGluZyBzY3JlZW5YIGFuZCBzY3JlZW5ZIHRvIDAgaXMgb2tcIik7XG5sZXQgc2NyZWVuWD0wO2xldCBzY3JlZW5ZPTA7Y2FuQnViYmxlPXR5cGVvZiBjYW5CdWJibGU9PXVuZGVmaW5lZD90cnVlOmNhbkJ1YmJsZTtsZXQgZG9jPWdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQoZWxlbWVudCk7bGV0IHZpZXc9Z29vZy5kb20uZ2V0V2luZG93KGRvYyk7bGV0IGV2dD1kb2MuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7aWYoZXZ0LmluaXRNb3VzZUV2ZW50KXsvLyBzZWUgaHR0cDovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL0RPTTpldmVudC5idXR0b24gYW5kXG4vLyBodHRwOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvRE9NOmV2ZW50LmluaXRNb3VzZUV2ZW50IGZvciBidXR0b24gdGVybmFyeSBsb2dpYyBsb2dpY1xuLy9TYWZhcmlcbmV2dC5pbml0TW91c2VFdmVudChldmVudFR5cGUsY2FuQnViYmxlLHRydWUsdmlldywxLHNjcmVlblgsc2NyZWVuWSxjbGllbnRYLGNsaWVudFksdGhpcy5jb250cm9sS2V5RG93bix0aGlzLmFsdEtleURvd24sdGhpcy5zaGlmdEtleURvd24sdGhpcy5tZXRhS2V5RG93bixidXR0b24/YnV0dG9uOjAsbnVsbCk7fWVsc2V7Ly9MT0cud2FybihcImVsZW1lbnQgZG9lc24ndCBoYXZlIGluaXRNb3VzZUV2ZW50OyBmaXJpbmcgYW4gZXZlbnQgd2hpY2ggc2hvdWxkIC0tIGJ1dCBkb2Vzbid0IC0tIGhhdmUgb3RoZXIgbW91c2UtZXZlbnQgcmVsYXRlZCBhdHRyaWJ1dGVzIGhlcmUsIGFzIHdlbGwgYXMgY29udHJvbEtleURvd24sIGFsdEtleURvd24sIHNoaWZ0S2V5RG93biwgbWV0YUtleURvd25cIik7XG5ldnQuaW5pdEV2ZW50KGV2ZW50VHlwZSxjYW5CdWJibGUsdHJ1ZSk7ZXZ0LnNoaWZ0S2V5PXRoaXMuc2hpZnRLZXlEb3duO2V2dC5tZXRhS2V5PXRoaXMubWV0YUtleURvd247ZXZ0LmFsdEtleT10aGlzLmFsdEtleURvd247ZXZ0LmN0cmxLZXk9dGhpcy5jb250cm9sS2V5RG93bjtpZihidXR0b24pe2V2dC5idXR0b249YnV0dG9uO319ZWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2dCk7fTsvL0RyYWdBbmREcm9wRXh0LCBTaHVvLUhlbmcgU2hpaCwgU0VMQUIsIENTSUUsIE5DS1UsIDIwMTYvMTAvMTdcbkJyb3dzZXJCb3QucHJvdG90eXBlLnRyaWdnZXJEcmFnRXZlbnQ9ZnVuY3Rpb24oZWxlbWVudCx0YXJnZXQpe2NvbnN0IGdldFhwYXRoT2ZFbGVtZW50PWZ1bmN0aW9uKGVsZW1lbnQpe2lmKGVsZW1lbnQ9PW51bGwpe3JldHVybidudWxsJzt9aWYoZWxlbWVudC5wYXJlbnRFbGVtZW50PT1udWxsKXtyZXR1cm4nLycrZWxlbWVudC50YWdOYW1lO31sZXQgc2libGluZ0VsZW1lbnQ9ZWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuO2xldCB0YWdDb3VudD0wO2xldCB0b3RhbFRhZ0NvdW50PTA7bGV0IGlzRm91bmQ9ZmFsc2U7Zm9yKGxldCBpPTA7aTxzaWJsaW5nRWxlbWVudC5sZW5ndGg7aSsrKXtpZihzaWJsaW5nRWxlbWVudFtpXS50YWdOYW1lPT1lbGVtZW50LnRhZ05hbWUmJiFpc0ZvdW5kKXt0YWdDb3VudCsrO3RvdGFsVGFnQ291bnQrKzt9ZWxzZSBpZihzaWJsaW5nRWxlbWVudFtpXS50YWdOYW1lPT1lbGVtZW50LnRhZ05hbWUpe3RvdGFsVGFnQ291bnQrKzt9aWYoc2libGluZ0VsZW1lbnRbaV09PWVsZW1lbnQpe2lzRm91bmQ9dHJ1ZTt9fWlmKHRvdGFsVGFnQ291bnQ+MSl7cmV0dXJuIGdldFhwYXRoT2ZFbGVtZW50KGVsZW1lbnQucGFyZW50RWxlbWVudCkrJy8nK2VsZW1lbnQudGFnTmFtZSsnWycrdGFnQ291bnQrJ10nO31yZXR1cm4gZ2V0WHBhdGhPZkVsZW1lbnQoZWxlbWVudC5wYXJlbnRFbGVtZW50KSsnLycrZWxlbWVudC50YWdOYW1lO307bGV0IHNjcmlwdD1cIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFxuICAgICAgICBmdW5jdGlvbiBzaW11bGF0ZURyYWdEcm9wKHNvdXJjZU5vZGUsIGRlc3RpbmF0aW9uTm9kZSl7XFxcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ3VzdG9tRXZlbnQodHlwZSkgeyAgICAgICAgICAgICAgICAgICAgIFxcXG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7ICAgICAgICBcXFxuICAgICAgICAgICAgZXZlbnQuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIHRydWUsIHRydWUsIG51bGwpOyAgICAgXFxcbiAgICAgICAgICAgIGV2ZW50LmRhdGFUcmFuc2ZlciA9IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXG4gICAgICAgICAgICAgICAgZGF0YTogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFxuICAgICAgICAgICAgICAgIH0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcbiAgICAgICAgICAgICAgICBzZXREYXRhOiBmdW5jdGlvbih0eXBlLCB2YWwpIHsgICAgICAgICAgICAgICAgIFxcXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVt0eXBlXSA9IHZhbDsgICAgICAgICAgICAgICAgICAgICBcXFxuICAgICAgICAgICAgICAgIH0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcbiAgICAgICAgICAgICAgICBnZXREYXRhOiBmdW5jdGlvbih0eXBlKSB7ICAgICAgICAgICAgICAgICAgICAgIFxcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbdHlwZV07ICAgICAgICAgICAgICAgICAgICBcXFxuICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcbiAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXG4gICAgICAgICAgICByZXR1cm4gZXZlbnQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFxuICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcbiAgICAgICAgZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChub2RlLCB0eXBlLCBldmVudCkgeyAgICAgICAgICAgIFxcXG4gICAgICAgICAgICBpZiAobm9kZS5kaXNwYXRjaEV2ZW50KSB7ICAgICAgICAgICAgICAgICAgICAgICAgICBcXFxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnQpOyAgICAgICAgICAgICAgXFxcbiAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXG4gICAgICAgICAgICBpZiAobm9kZS5maXJlRXZlbnQpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlLmZpcmVFdmVudCgnb24nICsgdHlwZSwgZXZlbnQpOyAgICAgXFxcbiAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXG4gICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFxuICAgICAgICB2YXIgZXZlbnQgPSBjcmVhdGVDdXN0b21FdmVudCgnZHJhZ3N0YXJ0Jyk7ICAgICAgICAgICAgXFxcbiAgICAgICAgZGlzcGF0Y2hFdmVudChzb3VyY2VOb2RlLCAnZHJhZ3N0YXJ0JywgZXZlbnQpOyAgICAgICAgIFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFxuICAgICAgICB2YXIgZHJvcEV2ZW50ID0gY3JlYXRlQ3VzdG9tRXZlbnQoJ2Ryb3AnKTsgICAgICAgICAgICAgXFxcbiAgICAgICAgZHJvcEV2ZW50LmRhdGFUcmFuc2ZlciA9IGV2ZW50LmRhdGFUcmFuc2ZlcjsgICAgICAgICAgIFxcXG4gICAgICAgIGRpc3BhdGNoRXZlbnQoZGVzdGluYXRpb25Ob2RlLCAnZHJvcCcsIGRyb3BFdmVudCk7ICAgICBcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcbiAgICAgICAgdmFyIGRyYWdFbmRFdmVudCA9IGNyZWF0ZUN1c3RvbUV2ZW50KCdkcmFnZW5kJyk7ICAgICAgIFxcXG4gICAgICAgIGRyYWdFbmRFdmVudC5kYXRhVHJhbnNmZXIgPSBldmVudC5kYXRhVHJhbnNmZXI7ICAgICAgICBcXFxuICAgICAgICBkaXNwYXRjaEV2ZW50KHNvdXJjZU5vZGUsICdkcmFnZW5kJywgZHJhZ0VuZEV2ZW50KTsgICAgXFxcbiAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXG4gICAgc2ltdWxhdGVEcmFnRHJvcChkb2N1bWVudC5ldmFsdWF0ZSgnXCIrZ2V0WHBhdGhPZkVsZW1lbnQoZWxlbWVudCkrXCInLCBkb2N1bWVudCwgbnVsbCwgWFBhdGhSZXN1bHQuRklSU1RfT1JERVJFRF9OT0RFX1RZUEUsIG51bGwpLnNpbmdsZU5vZGVWYWx1ZSwgZG9jdW1lbnQuZXZhbHVhdGUoJ1wiK2dldFhwYXRoT2ZFbGVtZW50KHRhcmdldCkrXCInLCBkb2N1bWVudCwgbnVsbCwgWFBhdGhSZXN1bHQuRklSU1RfT1JERVJFRF9OT0RFX1RZUEUsIG51bGwpLnNpbmdsZU5vZGVWYWx1ZSk7XFxcbiAgICBcIjtsZXQgd2luPXRoaXMuYnJvd3NlcmJvdC5nZXRDdXJyZW50V2luZG93KCk7bGV0IGRvYz13aW4uZG9jdW1lbnQ7bGV0IHNjcmlwdFRhZz1kb2MuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7c2NyaXB0VGFnLnR5cGU9J3RleHQvamF2YXNjcmlwdCc7c2NyaXB0VGFnLnRleHQ9c2NyaXB0O2RvYy5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdFRhZyk7fTtCcm93c2VyQm90LnByb3RvdHlwZS5fd2luZG93Q2xvc2VkPWZ1bmN0aW9uKHdpbil7dHJ5e2xldCBjPXdpbi5jbG9zZWQ7aWYoYz09bnVsbClyZXR1cm4gdHJ1ZTtyZXR1cm4gYzt9Y2F0Y2goaWdub3JlZCl7Ly8gRmlyZWZveCAxNSsgbWF5IGFscmVhZHkgaGF2ZSBtYXJrZWQgdGhlIHdpbiBkZWFkLiBBY2Nlc3NpbmcgaXRcbi8vIGNhdXNlcyBhbiBleGNlcHRpb24gdG8gYmUgdGhyb3duLiBUaGF0IGV4Y2VwdGlvbiB0ZWxscyB1cyB0aGUgd2luZG93XG4vLyBpcyBjbG9zZWQuXG5yZXR1cm4gdHJ1ZTt9fTtCcm93c2VyQm90LnVuaXF1ZUtleT0xO0Jyb3dzZXJCb3QucHJvdG90eXBlLl9tb2RpZnlXaW5kb3c9ZnVuY3Rpb24od2luKXsvLyBJbiBwcm94eUluamVjdGlvbk1vZGUsIGhhdmUgdG8gc3VwcHJlc3MgLy9MT0cgY2FsbHMgaW4gX21vZGlmeVdpbmRvdyB0byBhdm9pZCBhbiBpbmZpbml0ZSBsb29wXG5pZih0aGlzLl93aW5kb3dDbG9zZWQod2luKSl7aWYoIXRoaXMucHJveHlJbmplY3Rpb25Nb2RlKXsvL0xPRy5lcnJvcihcIm1vZGlmeVdpbmRvdzogV2luZG93IHdhcyBjbG9zZWQhXCIpO1xufXJldHVybiBudWxsO31pZighdGhpcy5wcm94eUluamVjdGlvbk1vZGUpe30vL0xPRy5kZWJ1ZygnbW9kaWZ5V2luZG93ICcgKyB0aGlzLnVuaXF1ZUlkICsgXCI6XCIgKyB3aW5bdGhpcy51bmlxdWVJZF0pO1xuLy8gQXNzaWduIGEgdW5pcXVlIGxhYmVsIGZvciB0aGlzIHdpbmRvdy4gV2Ugc2V0IHRoaXMgb24gYSBrbm93biBhdHRyaWJ1dGUgc28gd2UgY2FuIHJlbGlhYmx5XG4vLyBmaW5kIGl0IGxhdGVyLiBUaGlzIGlzIHNsaWdodGx5IGRpZmZlcmVudCBmcm9tIHVuaXF1ZUlkLlxud2luLnNlbGVuaXVtS2V5PUJyb3dzZXJCb3QudW5pcXVlS2V5Kys7dHJ5e3RoaXMubW9kaWZ5V2luZG93VG9SZWNvcmRQb3BVcERpYWxvZ3Mod2luLHRoaXMpO31jYXRjaChleCl7Y29uc29sZS5lcnJvcihleCk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG59Ly9Db21tZW50aW5nIG91dCBmb3IgaXNzdWUgMTg1NFxuLy93aW5bdGhpcy51bmlxdWVJZF0gPSAxO1xuLy8gSW4gcHJveHlJbmplY3Rpb24gbW9kZSwgd2UgaGF2ZSBvdXIgb3duIG1lY2hhbmlzbSBmb3IgZGV0ZWN0aW5nIHBhZ2UgbG9hZHNcbmlmKCF0aGlzLnByb3h5SW5qZWN0aW9uTW9kZSl7dGhpcy5tb2RpZnlTZXBhcmF0ZVRlc3RXaW5kb3dUb0RldGVjdFBhZ2VMb2Fkcyh3aW4pO31pZih3aW4uZnJhbWVzJiZ3aW4uZnJhbWVzLmxlbmd0aCYmd2luLmZyYW1lcy5sZW5ndGg+MCl7Zm9yKGxldCBpPTA7aTx3aW4uZnJhbWVzLmxlbmd0aDtpKyspe3RyeXt0aGlzLl9tb2RpZnlXaW5kb3cod2luLmZyYW1lc1tpXSk7fWNhdGNoKGUpe30vLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XG4vLyB3ZSdyZSBqdXN0IHRyeWluZyB0byBiZSBvcHBvcnR1bmlzdGljOyBkb24ndCB3b3JyeSBpZiB0aGlzIGRvZXNuJ3Qgd29yayBvdXRcbn19cmV0dXJuIHdpbjt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLnNlbGVjdFdpbmRvdz1mdW5jdGlvbih0YXJnZXQpe2lmKCF0YXJnZXR8fHRhcmdldD09J251bGwnKXt0aGlzLl9zZWxlY3RUb3BXaW5kb3coKTtyZXR1cm47fWxldCByZXN1bHQ9dGFyZ2V0Lm1hdGNoKC9eKFthLXpBLVpdKyk9KC4qKS8pO2lmKCFyZXN1bHQpe3RoaXMuX3NlbGVjdFdpbmRvd0J5V2luZG93SWQodGFyZ2V0KTtyZXR1cm47fWxldCBsb2NhdG9yVHlwZT1yZXN1bHRbMV07bGV0IGxvY2F0b3JWYWx1ZT1yZXN1bHRbMl07aWYobG9jYXRvclR5cGU9PSd0aXRsZScpe3RoaXMuX3NlbGVjdFdpbmRvd0J5VGl0bGUobG9jYXRvclZhbHVlKTt9Ly8gVE9ETyBzZXBhcmF0ZSBuYW1lIGFuZCB2YXIgaW50byBzZXBhcmF0ZSBmdW5jdGlvbnNcbmVsc2UgaWYobG9jYXRvclR5cGU9PSduYW1lJyl7dGhpcy5fc2VsZWN0V2luZG93QnlOYW1lKGxvY2F0b3JWYWx1ZSk7fWVsc2UgaWYobG9jYXRvclR5cGU9PSd2YXInKXtsZXQgd2luPXRoaXMuZ2V0Q3VycmVudFdpbmRvdygpLmV2YWwobG9jYXRvclZhbHVlKTtpZih3aW4pe3RoaXMuX3NlbGVjdFdpbmRvd0J5TmFtZSh3aW4ubmFtZSk7fWVsc2V7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ1dpbmRvdyBub3QgZm91bmQgYnkgdmFyOiAnK2xvY2F0b3JWYWx1ZSk7fX1lbHNle3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdXaW5kb3cgbG9jYXRvciBub3QgcmVjb2duaXplZDogJytsb2NhdG9yVHlwZSk7fX07QnJvd3NlckJvdC5wcm90b3R5cGUuc2VsZWN0UG9wVXA9ZnVuY3Rpb24od2luZG93SWQpe2lmKCF3aW5kb3dJZHx8d2luZG93SWQ9PSdudWxsJyl7dGhpcy5fc2VsZWN0Rmlyc3ROb25Ub3BXaW5kb3coKTt9ZWxzZXt0aGlzLl9zZWxlY3RXaW5kb3dCeVdpbmRvd0lkKHdpbmRvd0lkKTt9fTtCcm93c2VyQm90LnByb3RvdHlwZS5fc2VsZWN0VG9wV2luZG93PWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50V2luZG93TmFtZT1udWxsO3RoaXMuY3VycmVudFdpbmRvdz10aGlzLnRvcFdpbmRvdzt0aGlzLnRvcEZyYW1lPXRoaXMudG9wV2luZG93O3RoaXMuaXNTdWJGcmFtZVNlbGVjdGVkPWZhbHNlO307QnJvd3NlckJvdC5wcm90b3R5cGUuX3NlbGVjdFdpbmRvd0J5V2luZG93SWQ9ZnVuY3Rpb24od2luZG93SWQpe3RyeXt0aGlzLl9zZWxlY3RXaW5kb3dCeU5hbWUod2luZG93SWQpO31jYXRjaChlKXt0aGlzLl9zZWxlY3RXaW5kb3dCeVRpdGxlKHdpbmRvd0lkKTt9fTtCcm93c2VyQm90LnByb3RvdHlwZS5fc2VsZWN0V2luZG93QnlOYW1lPWZ1bmN0aW9uKHRhcmdldCl7dGhpcy5jdXJyZW50V2luZG93PXRoaXMuZ2V0V2luZG93QnlOYW1lKHRhcmdldCxmYWxzZSk7dGhpcy50b3BGcmFtZT10aGlzLmN1cnJlbnRXaW5kb3c7dGhpcy5jdXJyZW50V2luZG93TmFtZT10YXJnZXQ7dGhpcy5pc1N1YkZyYW1lU2VsZWN0ZWQ9ZmFsc2U7fTtCcm93c2VyQm90LnByb3RvdHlwZS5fc2VsZWN0V2luZG93QnlUaXRsZT1mdW5jdGlvbih0YXJnZXQpe2xldCB3aW5kb3dOYW1lPXRoaXMuZ2V0V2luZG93TmFtZUJ5VGl0bGUodGFyZ2V0KTtpZighd2luZG93TmFtZSl7dGhpcy5fc2VsZWN0VG9wV2luZG93KCk7fWVsc2V7dGhpcy5fc2VsZWN0V2luZG93QnlOYW1lKHdpbmRvd05hbWUpO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLl9zZWxlY3RGaXJzdE5vblRvcFdpbmRvdz1mdW5jdGlvbigpe2xldCBuYW1lcz10aGlzLmdldE5vblRvcFdpbmRvd05hbWVzKCk7aWYobmFtZXMubGVuZ3RoKXt0aGlzLl9zZWxlY3RXaW5kb3dCeU5hbWUobmFtZXNbMF0pO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLnNlbGVjdEZyYW1lPWZ1bmN0aW9uKHRhcmdldCl7bGV0IGZyYW1lO2lmKHRhcmdldC5pbmRleE9mKCdpbmRleD0nKT09MCl7dGFyZ2V0PXRhcmdldC5zdWJzdHIoNik7ZnJhbWU9dGhpcy5nZXRDdXJyZW50V2luZG93KCkuZnJhbWVzW3RhcmdldF07aWYoZnJhbWU9PW51bGwpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdOb3QgZm91bmQ6IGZyYW1lc1snK3RhcmdldCsnXScpO31pZighZnJhbWUuZG9jdW1lbnQpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdmcmFtZXNbJyt0YXJnZXQrJ10gaXMgbm90IGEgZnJhbWUnKTt9dGhpcy5jdXJyZW50V2luZG93PWZyYW1lO3RoaXMuaXNTdWJGcmFtZVNlbGVjdGVkPXRydWU7fWVsc2UgaWYodGFyZ2V0PT0ncmVsYXRpdmU9dXAnfHx0YXJnZXQ9PSdyZWxhdGl2ZT1wYXJlbnQnKXt0aGlzLmN1cnJlbnRXaW5kb3c9dGhpcy5nZXRDdXJyZW50V2luZG93KCkucGFyZW50O3RoaXMuaXNTdWJGcmFtZVNlbGVjdGVkPXRoaXMuX2dldEZyYW1lRWxlbWVudCh0aGlzLmN1cnJlbnRXaW5kb3cpIT1udWxsO31lbHNlIGlmKHRhcmdldD09J3JlbGF0aXZlPXRvcCcpe3RoaXMuY3VycmVudFdpbmRvdz10aGlzLnRvcEZyYW1lO3RoaXMuaXNTdWJGcmFtZVNlbGVjdGVkPWZhbHNlO31lbHNle2ZyYW1lPXRoaXMuZmluZEVsZW1lbnQodGFyZ2V0KTtpZihmcmFtZT09bnVsbCl7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ05vdCBmb3VuZDogJyt0YXJnZXQpO30vLyBub3csIGRpZCB0aGV5IGdpdmUgdXMgYSBmcmFtZSBvciBhIGZyYW1lIEVMRU1FTlQ/XG5sZXQgbWF0Y2g9ZmFsc2U7aWYoZnJhbWUuY29udGVudFdpbmRvdyl7Ly8gdGhpcyBtdXN0IGJlIGEgZnJhbWUgZWxlbWVudFxuaWYoYnJvd3NlclZlcnNpb24uaXNIVEEpey8vIHN0dXBpZCBIVEEgYnVnOyBjYW4ndCBnZXQgaW4gdGhlIGZyb250IGRvb3JcbnRhcmdldD1mcmFtZS5jb250ZW50V2luZG93Lm5hbWU7fWVsc2V7dGhpcy5jdXJyZW50V2luZG93PWZyYW1lLmNvbnRlbnRXaW5kb3c7dGhpcy5pc1N1YkZyYW1lU2VsZWN0ZWQ9dHJ1ZTttYXRjaD10cnVlO319ZWxzZSBpZihmcmFtZS5kb2N1bWVudCYmZnJhbWUubG9jYXRpb24pey8vIG11c3QgYmUgYW4gYWN0dWFsIHdpbmRvdyBmcmFtZVxudGhpcy5jdXJyZW50V2luZG93PWZyYW1lO3RoaXMuaXNTdWJGcmFtZVNlbGVjdGVkPXRydWU7bWF0Y2g9dHJ1ZTt9aWYoIW1hdGNoKXsvLyBuZWl0aGVyLCBsZXQncyBsb29wIHRocm91Z2ggdGhlIGZyYW1lIG5hbWVzXG5sZXQgd2luPXRoaXMuZ2V0Q3VycmVudFdpbmRvdygpO2lmKHdpbiYmd2luLmZyYW1lcyYmd2luLmZyYW1lcy5sZW5ndGgpe2ZvcihsZXQgaT0wO2k8d2luLmZyYW1lcy5sZW5ndGg7aSsrKXtpZih3aW4uZnJhbWVzW2ldLm5hbWU9PXRhcmdldCl7dGhpcy5jdXJyZW50V2luZG93PXdpbi5mcmFtZXNbaV07dGhpcy5pc1N1YkZyYW1lU2VsZWN0ZWQ9dHJ1ZTttYXRjaD10cnVlO2JyZWFrO319fWlmKCFtYXRjaCl7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ05vdCBhIGZyYW1lOiAnK3RhcmdldCk7fX19Ly8gbW9kaWZpZXMgdGhlIHdpbmRvd1xudGhpcy5nZXRDdXJyZW50V2luZG93KCk7fTtCcm93c2VyQm90LnByb3RvdHlwZS5kb2VzVGhpc0ZyYW1lTWF0Y2hGcmFtZUV4cHJlc3Npb249ZnVuY3Rpb24oY3VycmVudEZyYW1lU3RyaW5nLHRhcmdldCl7bGV0IGlzRG9tPWZhbHNlO2lmKHRhcmdldC5pbmRleE9mKCdkb209Jyk9PTApe3RhcmdldD10YXJnZXQuc3Vic3RyKDQpO2lzRG9tPXRydWU7fWVsc2UgaWYodGFyZ2V0LmluZGV4T2YoJ2luZGV4PScpPT0wKXt0YXJnZXQ9J2ZyYW1lc1snK3RhcmdldC5zdWJzdHIoNikrJ10nO2lzRG9tPXRydWU7fWxldCB0Oy8vRXZhbGluc2FuZGJveFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5sZXQgbXlTYW5kYm94PW5ldyBDb21wb25lbnRzLnV0aWxzLlNhbmRib3godGhpcy5jdXJyZW50V2luZG93LmxvY2F0aW9uLmhyZWYpO215U2FuZGJveC5jdXJyZW50RnJhbWVTdHJpbmc9Y3VycmVudEZyYW1lU3RyaW5nO215U2FuZGJveC50YXJnZXQ9dGFyZ2V0O3RyeXsvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbnQ9Q29tcG9uZW50cy51dGlscy5ldmFsSW5TYW5kYm94KGN1cnJlbnRGcmFtZVN0cmluZysnLicrdGFyZ2V0LG15U2FuZGJveCk7Ly9ldmFsKFwidD1cIiArIGN1cnJlbnRGcmFtZVN0cmluZyArIFwiLlwiICsgdGFyZ2V0KTtcbn1jYXRjaChlKXt9Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxubGV0IGF1dFdpbmRvdz10aGlzLmJyb3dzZXJib3QuZ2V0Q3VycmVudFdpbmRvdygpO2lmKHQhPW51bGwpe3RyeXtpZih0LndpbmRvdz09YXV0V2luZG93KXtyZXR1cm4gdHJ1ZTt9aWYodC53aW5kb3cudW5pcXVlSWQ9PWF1dFdpbmRvdy51bmlxdWVJZCl7cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9Y2F0Y2gocGVybURlbmllZCl7Ly8gREdGIGlmIHRoZSB3aW5kb3dzIGFyZSBpbmNvbXBhcmFibGUsIHRoZXkncmUgcHJvYmFibHkgbm90IHRoZSBzYW1lLi4uXG59fWlmKGlzRG9tKXtyZXR1cm4gZmFsc2U7fS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxubGV0IGN1cnJlbnRGcmFtZT1Db21wb25lbnRzLnV0aWxzLmV2YWxJblNhbmRib3goY3VycmVudEZyYW1lU3RyaW5nLG15U2FuZGJveCk7Ly92YXIgY3VycmVudEZyYW1lO1xuLy9ldmFsKFwiY3VycmVudEZyYW1lPVwiICsgY3VycmVudEZyYW1lU3RyaW5nKTtcbmlmKHRhcmdldD09J3JlbGF0aXZlPXVwJyl7aWYoY3VycmVudEZyYW1lLndpbmRvdy5wYXJlbnQ9PWF1dFdpbmRvdyl7cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9aWYodGFyZ2V0PT0ncmVsYXRpdmU9dG9wJyl7aWYoY3VycmVudEZyYW1lLndpbmRvdy50b3A9PWF1dFdpbmRvdyl7cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9aWYoY3VycmVudEZyYW1lLndpbmRvdz09YXV0V2luZG93LnBhcmVudCl7aWYoYXV0V2luZG93Lm5hbWU9PXRhcmdldCl7cmV0dXJuIHRydWU7fXRyeXtsZXQgZWxlbWVudD10aGlzLmZpbmRFbGVtZW50KHRhcmdldCxjdXJyZW50RnJhbWUud2luZG93KTtpZihlbGVtZW50LmNvbnRlbnRXaW5kb3c9PWF1dFdpbmRvdyl7cmV0dXJuIHRydWU7fX1jYXRjaChlKXt9Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxufXJldHVybiBmYWxzZTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmFib3J0WGhyUmVxdWVzdD1mdW5jdGlvbigpe2lmKHRoaXMuaWdub3JlUmVzcG9uc2VDb2RlKXsvL0xPRy5kZWJ1ZyhcIlhIUiByZXNwb25zZSBjb2RlIGJlaW5nIGlnbm9yZWQuIE5vdGhpbmcgdG8gYWJvcnQuXCIpO1xufWVsc2V7aWYodGhpcy5hYm9ydFhocj09ZmFsc2UmJnRoaXMuaXNYaHJTZW50JiYhdGhpcy5pc1hockRvbmUpey8vTE9HLmluZm8oXCJhYm9ydFhoclJlcXVlc3QoKTogYWJvcnRpbmcgcmVxdWVzdFwiKTtcbnRoaXMuYWJvcnRYaHI9dHJ1ZTt0aGlzLnhoci5hYm9ydCgpO319fTtCcm93c2VyQm90LnByb3RvdHlwZS5vblhoclN0YXRlQ2hhbmdlPWZ1bmN0aW9uKG1ldGhvZCl7Ly9MT0cuaW5mbyhcIm9uWGhyU3RhdGVDaGFuZ2UoKTogeGhyLnJlYWR5U3RhdGUgPSBcIiArIHRoaXMueGhyLnJlYWR5U3RhdGUgKyBcIiBtZXRob2QgPSBcIiArIG1ldGhvZCArIFwiIHRpbWUgPSBcIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbmlmKHRoaXMueGhyLnJlYWR5U3RhdGU9PTQpey8vIGNoZWNrIGlmIHRoZSByZXF1ZXN0IGdvdCBhYm9ydGVkLlxuaWYodGhpcy5hYm9ydFhocj09dHJ1ZSl7dGhpcy54aHJSZXNwb25zZUNvZGU9MDt0aGlzLnhoclN0YXR1c1RleHQ9J1JlcXVlc3QgQWJvcnRlZCc7dGhpcy5pc1hockRvbmU9dHJ1ZTtyZXR1cm47fXRyeXtpZihtZXRob2Q9PSdIRUFEJyYmKHRoaXMueGhyLnN0YXR1cz09NTAxfHx0aGlzLnhoci5zdGF0dXM9PTQwNSkpey8vTE9HLmluZm8oXCJvblhoclN0YXRlQ2hhbmdlKCk6IEhFQUQgYWpheCByZXR1cm5lZCA1MDEgb3IgNDA1LCByZXRyeWluZyB3aXRoIEdFVFwiKTtcbi8vIGhhbmRsZSA1MDEgcmVzcG9uc2UgY29kZSBmcm9tIHNlcnZlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCAnSEVBRCcgbWV0aG9kLlxuLy8gc2VuZCBHRVQgYWpheCByZXF1ZXN0IHdpdGggcmFuZ2UgMC0xLlxudGhpcy54aHI9bmV3IFhNTEh0dHBSZXF1ZXN0KCk7dGhpcy54aHIub25yZWFkeXN0YXRlY2hhbmdlPXRoaXMub25YaHJTdGF0ZUNoYW5nZS5iaW5kKHRoaXMsJ0dFVCcpO3RoaXMueGhyLm9wZW4oJ0dFVCcsdGhpcy54aHJPcGVuTG9jYXRpb24sdHJ1ZSk7dGhpcy54aHIuc2V0UmVxdWVzdEhlYWRlcignUmFuZ2UnLCdieXRlczowLTEnKTt0aGlzLnhoci5zZW5kKCcnKTt0aGlzLmlzWGhyU2VudD10cnVlO3JldHVybjt9dGhpcy54aHJSZXNwb25zZUNvZGU9dGhpcy54aHIuc3RhdHVzO3RoaXMueGhyU3RhdHVzVGV4dD10aGlzLnhoci5zdGF0dXNUZXh0O31jYXRjaChleCl7Ly9MT0cuaW5mbyhcImVuY291bnRlcmVkIGV4Y2VwdGlvbiB3aGlsZSByZWFkaW5nIHhoclJlc3BvbnNlQ29kZS5cIiArIGV4Lm1lc3NhZ2UpO1xudGhpcy54aHJSZXNwb25zZUNvZGU9LTE7dGhpcy54aHJTdGF0dXNUZXh0PSdSZXF1ZXN0IEVycm9yJzt9dGhpcy5pc1hockRvbmU9dHJ1ZTt9fTtCcm93c2VyQm90LnByb3RvdHlwZS5vcGVuV2luZG93PWZ1bmN0aW9uKHVybCx3aW5kb3dJRCl7aWYodXJsIT0nJyl7dXJsPSdodHRwczovL3d3dy5nb29nbGUuY29tJzt9aWYoYnJvd3NlclZlcnNpb24uaXNIVEEpey8vIGluIEhUQSBtb2RlLCBjYWxsaW5nIC5vcGVuIG9uIHRoZSB3aW5kb3cgaW50ZXJwcmV0cyB0aGUgdXJsIHJlbGF0aXZlIHRvIHRoYXQgd2luZG93XG4vLyB3ZSBuZWVkIHRvIGFic29sdXRlLWl6ZSB0aGUgVVJMIHRvIG1ha2UgaXQgY29uc2lzdGVudFxubGV0IGNoaWxkPXRoaXMuZ2V0Q3VycmVudFdpbmRvdygpLm9wZW4odXJsLHdpbmRvd0lELCdyZXNpemFibGU9eWVzJyk7c2VsZW5pdW0uYnJvd3NlcmJvdC5vcGVuZWRXaW5kb3dzW3dpbmRvd0lEXT1jaGlsZDt9ZWxzZXt0aGlzLmdldEN1cnJlbnRXaW5kb3coKS5vcGVuKHVybCx3aW5kb3dJRCwncmVzaXphYmxlPXllcycpO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLnNldElGcmFtZUxvY2F0aW9uPWZ1bmN0aW9uKGlmcmFtZSxsb2NhdGlvbil7aWZyYW1lLnNyYz1sb2NhdGlvbjt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldEN1cnJlbnRQYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM7fTtCcm93c2VyQm90LnByb3RvdHlwZS53aW5kb3dOZWVkc01vZGlmeWluZz1mdW5jdGlvbih3aW4sdW5pcXVlSWQpey8vIE9uIGFueXRoaW5nIGJ1dCBGaXJlZm94LCBjaGVja2luZyB0aGUgdW5pcXVlIGlkIGlzIGVub3VnaC5cbi8vIEZpcmVmb3ggNCBpbnRyb2R1Y2VzIGEgcmFjZSBjb25kaXRpb24gd2hpY2ggc2VsZW5pdW0gcmVndWxhcmx5IGxvc2VzLlxudHJ5ey8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxubGV0IGFwcEluZm89Q29tcG9uZW50cy5jbGFzc2VzWydAbW96aWxsYS5vcmcveHJlL2FwcC1pbmZvOzEnXS5nZXRTZXJ2aWNlKC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSVhVTEFwcEluZm8pOy8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxubGV0IHZlcnNpb25DaGVja2VyPUNvbXBvbmVudHMuY2xhc3Nlc1snQG1vemlsbGEub3JnL3hwY29tL3ZlcnNpb24tY29tcGFyYXRvcjsxJy8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXS5nZXRTZXJ2aWNlKENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lWZXJzaW9uQ29tcGFyYXRvcik7aWYodmVyc2lvbkNoZWNrZXIuY29tcGFyZShhcHBJbmZvLnZlcnNpb24sJzQuMGIxJyk+PTApe3JldHVybiB3aW4uYWxlcnQudG9TdHJpbmcoKS5pbmRleE9mKCduYXRpdmUgY29kZScpIT0tMTt9fWNhdGNoKGlnbm9yZWQpe30vLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XG5yZXR1cm4hd2luW3VuaXF1ZUlkXTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLm1vZGlmeVdpbmRvd1RvUmVjb3JkUG9wVXBEaWFsb2dzPWZ1bmN0aW9uKG9yaWdpbmFsV2luZG93LGJyb3dzZXJCb3Qpe2xldCBzZWxmPXRoaXM7Ly8gQXBwYXJlbnRseSwgRmlyZWZveCA0IG1ha2VzIGl0IHBvc3NpYmxlIHRvIHVud3JhcCBhbiBvYmplY3QgdG8gZmluZCB0aGF0XG4vLyB0aGVyZSdzIG5vdGhpbmcgaW4gaXQuXG5sZXQgd2luZG93VG9Nb2RpZnk9Y29yZS5maXJlZm94LnVud3JhcChvcmlnaW5hbFdpbmRvdyk7aWYoIXdpbmRvd1RvTW9kaWZ5KXt3aW5kb3dUb01vZGlmeT1vcmlnaW5hbFdpbmRvdzt9d2luZG93VG9Nb2RpZnkuc2VsZW5pdW1BbGVydD13aW5kb3dUb01vZGlmeS5hbGVydDtpZighc2VsZi53aW5kb3dOZWVkc01vZGlmeWluZyh3aW5kb3dUb01vZGlmeSxicm93c2VyQm90LnVuaXF1ZUlkKSl7cmV0dXJuO313aW5kb3dUb01vZGlmeS5hbGVydD1mdW5jdGlvbihhbGVydCl7YnJvd3NlckJvdC5yZWNvcmRlZEFsZXJ0cy5wdXNoKGFsZXJ0KTtzZWxmLnJlbGF5Qm90VG9SQy5jYWxsKHNlbGYsJ2Jyb3dzZXJib3QucmVjb3JkZWRBbGVydHMnKTt9O3dpbmRvd1RvTW9kaWZ5LmNvbmZpcm09ZnVuY3Rpb24obWVzc2FnZSl7YnJvd3NlckJvdC5yZWNvcmRlZENvbmZpcm1hdGlvbnMucHVzaChtZXNzYWdlKTtsZXQgcmVzdWx0PWJyb3dzZXJCb3QubmV4dENvbmZpcm1SZXN1bHQ7YnJvd3NlckJvdC5uZXh0Q29uZmlybVJlc3VsdD10cnVlO3NlbGYucmVsYXlCb3RUb1JDLmNhbGwoc2VsZiwnYnJvd3NlcmJvdC5yZWNvcmRlZENvbmZpcm1hdGlvbnMnKTtyZXR1cm4gcmVzdWx0O307d2luZG93VG9Nb2RpZnkucHJvbXB0PWZ1bmN0aW9uKG1lc3NhZ2Upe2Jyb3dzZXJCb3QucmVjb3JkZWRQcm9tcHRzLnB1c2gobWVzc2FnZSk7bGV0IHJlc3VsdD0hYnJvd3NlckJvdC5uZXh0Q29uZmlybVJlc3VsdD9udWxsOmJyb3dzZXJCb3QubmV4dFByb21wdFJlc3VsdDticm93c2VyQm90Lm5leHRDb25maXJtUmVzdWx0PXRydWU7YnJvd3NlckJvdC5uZXh0UHJvbXB0UmVzdWx0PScnO3NlbGYucmVsYXlCb3RUb1JDLmNhbGwoc2VsZiwnYnJvd3NlcmJvdC5yZWNvcmRlZFByb21wdHMnKTtyZXR1cm4gcmVzdWx0O307Ly8gS2VlcCBhIHJlZmVyZW5jZSB0byBhbGwgcG9wdXAgd2luZG93cyBieSBuYW1lXG4vLyBub3RlIHRoYXQgaW4gSUUgdGhlIFwid2luZG93TmFtZVwiIGFyZ3VtZW50IG11c3QgYmUgYSB2YWxpZCBqYXZhc2NyaXB0IGlkZW50aWZpZXIsIGl0IHNlZW1zLlxubGV0IG9yaWdpbmFsT3Blbj13aW5kb3dUb01vZGlmeS5vcGVuO2xldCBvcmlnaW5hbE9wZW5SZWZlcmVuY2U7aWYoYnJvd3NlclZlcnNpb24uaXNIVEEpe29yaWdpbmFsT3BlblJlZmVyZW5jZT0nc2VsZW5pdW1fb3JpZ2luYWxPcGVuJytuZXcgRGF0ZSgpLmdldFRpbWUoKTt3aW5kb3dUb01vZGlmeVtvcmlnaW5hbE9wZW5SZWZlcmVuY2VdPXdpbmRvd1RvTW9kaWZ5Lm9wZW47fWxldCBpc0hUQT1icm93c2VyVmVyc2lvbi5pc0hUQTtsZXQgbmV3T3Blbj1mdW5jdGlvbih1cmwsd2luZG93TmFtZSx3aW5kb3dGZWF0dXJlcyxyZXBsYWNlRmxhZyl7bGV0IG15T3JpZ2luYWxPcGVuPW9yaWdpbmFsT3BlbjtpZihpc0hUQSl7bXlPcmlnaW5hbE9wZW49dGhpc1tvcmlnaW5hbE9wZW5SZWZlcmVuY2VdO30vL1VubmFtZWRXaW5JRnJhbWVFeHQsIEppZS1MaW4gWW91LCBTRUxBQiwgQ1NJRSwgTkNLVSwgMjAxNi8wNS8yNlxuaWYod2luZG93TmFtZT09Jyd8fHdpbmRvd05hbWU9PSdfYmxhbmsnfHx0eXBlb2Ygd2luZG93TmFtZT09PSd1bmRlZmluZWQnKXt3aW5kb3dOYW1lPSd3aW5fc2VyXycrc2VsZi5jb3VudDtzZWxmLmNvdW50Kz0xO31sZXQgb3BlbmVkV2luZG93PW15T3JpZ2luYWxPcGVuKHVybCx3aW5kb3dOYW1lLHdpbmRvd0ZlYXR1cmVzLHJlcGxhY2VGbGFnKTsvL0xPRy5kZWJ1ZyhcIndpbmRvdy5vcGVuIGNhbGwgaW50ZXJjZXB0ZWQ7IHdpbmRvdyBJRCAod2hpY2ggeW91IGNhbiB1c2Ugd2l0aCBzZWxlY3RXaW5kb3coKSkgaXMgXFxcIlwiICsgIHdpbmRvd05hbWUgKyBcIlxcXCJcIik7XG5pZih3aW5kb3dOYW1lIT1udWxsKXtvcGVuZWRXaW5kb3dbJ3NlbGVuaXVtV2luZG93TmFtZSddPXdpbmRvd05hbWU7fXNlbGVuaXVtLmJyb3dzZXJib3Qub3BlbmVkV2luZG93c1t3aW5kb3dOYW1lXT1vcGVuZWRXaW5kb3c7cmV0dXJuIG9wZW5lZFdpbmRvdzt9O2lmKGJyb3dzZXJWZXJzaW9uLmlzSFRBKXtvcmlnaW5hbE9wZW5SZWZlcmVuY2U9J3NlbGVuaXVtX29yaWdpbmFsT3BlbicrbmV3IERhdGUoKS5nZXRUaW1lKCk7Y29uc3QgbmV3T3BlblJlZmVyZW5jZT0nc2VsZW5pdW1fbmV3T3BlbicrbmV3IERhdGUoKS5nZXRUaW1lKCk7bGV0IHNldE9yaWdpbmFsUmVmPVwidGhpc1snXCIrb3JpZ2luYWxPcGVuUmVmZXJlbmNlK1wiJ10gPSB0aGlzLm9wZW47XCI7aWYod2luZG93VG9Nb2RpZnkuZXZhbCl7d2luZG93VG9Nb2RpZnkuZXZhbChzZXRPcmlnaW5hbFJlZik7d2luZG93VG9Nb2RpZnkub3Blbj1uZXdPcGVuO31lbHNley8vIERHRiB3aHkgY2FuJ3QgSSBldmFsIGhlcmU/ICBTZWVtcyBsaWtlIEknbSBxdWVyeWluZyB0aGUgd2luZG93IGF0IGEgYmFkIHRpbWUsIG1heWJlP1xuc2V0T3JpZ2luYWxSZWYrPVwidGhpcy5vcGVuID0gdGhpc1snXCIrbmV3T3BlblJlZmVyZW5jZStcIiddO1wiO3dpbmRvd1RvTW9kaWZ5W25ld09wZW5SZWZlcmVuY2VdPW5ld09wZW47d2luZG93VG9Nb2RpZnkuc2V0VGltZW91dChzZXRPcmlnaW5hbFJlZiwwKTt9fWVsc2V7d2luZG93VG9Nb2RpZnkub3Blbj1uZXdPcGVuO319Oy8qKlxuICogQ2FsbCB0aGUgc3VwcGxpZWQgZnVuY3Rpb24gd2hlbiBhIHRoZSBjdXJyZW50IHBhZ2UgdW5sb2FkcyBhbmQgYSBuZXcgb25lIGxvYWRzLlxuICogVGhpcyBpcyBkb25lIGJ5IHBvbGxpbmcgY29udGludW91c2x5IHVudGlsIHRoZSBkb2N1bWVudCBjaGFuZ2VzIGFuZCBpcyBmdWxseSBsb2FkZWQuXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5tb2RpZnlTZXBhcmF0ZVRlc3RXaW5kb3dUb0RldGVjdFBhZ2VMb2Fkcz1mdW5jdGlvbih3aW5kb3dPYmplY3Qpey8vIFNpbmNlIHRoZSB1bmxvYWQgZXZlbnQgZG9lc24ndCBmaXJlIGluIFNhZmFyaSAxLjMsIHdlIHN0YXJ0IHBvbGxpbmcgaW1tZWRpYXRlbHlcbmlmKCF3aW5kb3dPYmplY3Qpey8vTE9HLndhcm4oXCJtb2RpZnlTZXBhcmF0ZVRlc3RXaW5kb3dUb0RldGVjdFBhZ2VMb2Fkczogbm8gd2luZG93T2JqZWN0IVwiKTtcbnJldHVybjt9aWYodGhpcy5fd2luZG93Q2xvc2VkKHdpbmRvd09iamVjdCkpey8vTE9HLmluZm8oXCJtb2RpZnlTZXBhcmF0ZVRlc3RXaW5kb3dUb0RldGVjdFBhZ2VMb2Fkczogd2luZG93T2JqZWN0IHdhcyBjbG9zZWRcIik7XG5yZXR1cm47fWxldCBvbGRNYXJrZXI9dGhpcy5pc1BvbGxpbmdGb3JMb2FkKHdpbmRvd09iamVjdCk7aWYob2xkTWFya2VyKXsvL0xPRy5kZWJ1ZyhcIm1vZGlmeVNlcGFyYXRlVGVzdFdpbmRvd1RvRGV0ZWN0UGFnZUxvYWRzOiBhbHJlYWR5IHBvbGxpbmcgdGhpcyB3aW5kb3c6IFwiICsgb2xkTWFya2VyKTtcbnJldHVybjt9bGV0IG1hcmtlcj0nc2VsZW5pdW0nK25ldyBEYXRlKCkuZ2V0VGltZSgpOy8vTE9HLmRlYnVnKFwiU3RhcnRpbmcgcG9sbEZvckxvYWQgKFwiICsgbWFya2VyICsgXCIpOiBcIiArIHdpbmRvd09iamVjdC5sb2NhdGlvbik7XG50aGlzLnBvbGxpbmdGb3JMb2FkW21hcmtlcl09dHJ1ZTsvLyBpZiB0aGlzIGlzIGEgZnJhbWUsIGFkZCBhIGxvYWQgbGlzdGVuZXIsIG90aGVyd2lzZSwgYXR0YWNoIGEgcG9sbGVyXG5sZXQgZnJhbWVFbGVtZW50PXRoaXMuX2dldEZyYW1lRWxlbWVudCh3aW5kb3dPYmplY3QpOy8vIERHRiBIVEEgbW9kZSBjYW4ndCBhdHRhY2ggbG9hZCBsaXN0ZW5lcnMgdG8gc3ViZnJhbWVzICh5dWshKVxubGV0IGh0YVN1YkZyYW1lPXRoaXMuX2lzSFRBU3ViRnJhbWUod2luZG93T2JqZWN0KTtpZihmcmFtZUVsZW1lbnQmJiFodGFTdWJGcmFtZSl7Ly9MT0cuZGVidWcoXCJtb2RpZnlTZXBhcmF0ZVRlc3RXaW5kb3dUb0RldGVjdFBhZ2VMb2FkczogdGhpcyB3aW5kb3cgaXMgYSBmcmFtZTsgYXR0YWNoaW5nIGEgbG9hZCBsaXN0ZW5lclwiKTtcbi8vYWRkTG9hZExpc3RlbmVyKGZyYW1lRWxlbWVudCwgdGhpcy5yZWNvcmRQYWdlTG9hZCk7IFRPRE86IGNoZWNrIGlmIHRoaXMgaXMgbmVjZXNzYXJ5XG5mcmFtZUVsZW1lbnRbbWFya2VyXT10cnVlO2ZyYW1lRWxlbWVudFsnZnJhbWUnK3RoaXMudW5pcXVlSWRdPW1hcmtlcjsvL0xPRy5kZWJ1ZyhcImRnZiB0aGlzLnVuaXF1ZUlkPVwiK3RoaXMudW5pcXVlSWQpO1xuLy9MT0cuZGVidWcoXCJkZ2YgbWFya2VyPVwiK21hcmtlcik7XG4vL0xPRy5kZWJ1ZyhcImRnZiBmcmFtZUVsZW1lbnRbJ2ZyYW1lJyt0aGlzLnVuaXF1ZUlkXT1cIitmcmFtZUVsZW1lbnRbJ2ZyYW1lJyt0aGlzLnVuaXF1ZUlkXSk7XG5mcmFtZUVsZW1lbnRbdGhpcy51bmlxdWVJZF09bWFya2VyOy8vTE9HLmRlYnVnKFwiZGdmIGZyYW1lRWxlbWVudFt0aGlzLnVuaXF1ZUlkXT1cIitmcmFtZUVsZW1lbnRbdGhpcy51bmlxdWVJZF0pO1xufWVsc2V7d2luZG93T2JqZWN0LmxvY2F0aW9uW21hcmtlcl09dHJ1ZTt3aW5kb3dPYmplY3RbdGhpcy51bmlxdWVJZF09bWFya2VyO3RoaXMucG9sbEZvckxvYWQodGhpcy5yZWNvcmRQYWdlTG9hZCx3aW5kb3dPYmplY3Qsd2luZG93T2JqZWN0LmRvY3VtZW50LHdpbmRvd09iamVjdC5sb2NhdGlvbix3aW5kb3dPYmplY3QubG9jYXRpb24uaHJlZixtYXJrZXIpO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLl9pc0hUQVN1YkZyYW1lPWZ1bmN0aW9uKCl7aWYoIWJyb3dzZXJWZXJzaW9uLmlzSFRBKXJldHVybiBmYWxzZTsvLyBER0YgdGhpcyBpcyB3cm9uZyEgd2hhdCBpZiBcIndpblwiIGlzbid0IHRoZSBzZWxlY3RlZCB3aW5kb3c/XG5yZXR1cm4gdGhpcy5pc1N1YkZyYW1lU2VsZWN0ZWQ7fTtCcm93c2VyQm90LnByb3RvdHlwZS5fZ2V0RnJhbWVFbGVtZW50PWZ1bmN0aW9uKHdpbil7bGV0IGZyYW1lRWxlbWVudD1udWxsO2xldCBjYXVnaHQ7dHJ5e2ZyYW1lRWxlbWVudD13aW4uZnJhbWVFbGVtZW50O31jYXRjaChlKXtjYXVnaHQ9dHJ1ZTt9aWYoY2F1Z2h0KXsvLyBvbiBJRSwgY2hlY2tpbmcgZnJhbWVFbGVtZW50IGluIGEgcG9wLXVwIHJlc3VsdHMgaW4gYSBcIk5vIHN1Y2ggaW50ZXJmYWNlIHN1cHBvcnRlZFwiIGV4Y2VwdGlvblxuLy8gYnV0IGl0IG1pZ2h0IGhhdmUgYSBmcmFtZSBlbGVtZW50IGFueXdheSFcbmxldCBwYXJlbnRDb250YWluc0lkZW50aWNhbGx5TmFtZWRGcmFtZT1mYWxzZTt0cnl7cGFyZW50Q29udGFpbnNJZGVudGljYWxseU5hbWVkRnJhbWU9d2luLnBhcmVudC5mcmFtZXNbd2luLm5hbWVdO31jYXRjaChlKXt9Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuLy8gdGhpcyBtYXkgZmFpbCBpZiBhY2Nlc3MgaXMgZGVuaWVkIHRvIHRoZSBwYXJlbnQ7IGluIHRoYXQgY2FzZSwgYXNzdW1lIGl0J3Mgbm90IGEgcG9wLXVwXG5pZihwYXJlbnRDb250YWluc0lkZW50aWNhbGx5TmFtZWRGcmFtZSl7Ly8gaXQgY2FuJ3QgYmUgYSBjb2luY2lkZW5jZSB0aGF0IHRoZSBwYXJlbnQgaGFzIGEgZnJhbWUgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG15c2VsZiFcbmxldCByZXN1bHQ7dHJ5e3Jlc3VsdD1wYXJlbnRDb250YWluc0lkZW50aWNhbGx5TmFtZWRGcmFtZS5mcmFtZUVsZW1lbnQ7aWYocmVzdWx0KXtyZXR1cm4gcmVzdWx0O319Y2F0Y2goZSl7fS8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbi8vIGl0IHdhcyB3b3J0aCBhIHRyeSEgX2dldEZyYW1lRWxlbWVudHNCeU5hbWUgaXMgb2Z0ZW4gc2xvd1xucmVzdWx0PXRoaXMuX2dldEZyYW1lRWxlbWVudEJ5TmFtZSh3aW4ubmFtZSx3aW4ucGFyZW50LmRvY3VtZW50LHdpbik7cmV0dXJuIHJlc3VsdDt9fS8vTE9HLmRlYnVnKFwiX2dldEZyYW1lRWxlbWVudDogZnJhbWVFbGVtZW50PVwiK2ZyYW1lRWxlbWVudCk7XG5pZihmcmFtZUVsZW1lbnQpey8vTE9HLmRlYnVnKFwiZnJhbWVFbGVtZW50Lm5hbWU9XCIrZnJhbWVFbGVtZW50Lm5hbWUpO1xufXJldHVybiBmcmFtZUVsZW1lbnQ7fTtCcm93c2VyQm90LnByb3RvdHlwZS5fZ2V0RnJhbWVFbGVtZW50QnlOYW1lPWZ1bmN0aW9uKG5hbWUsZG9jLHdpbil7bGV0IGZyYW1lcztsZXQgZnJhbWU7bGV0IGk7ZnJhbWVzPWRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaWZyYW1lJyk7Zm9yKGk9MDtpPGZyYW1lcy5sZW5ndGg7aSsrKXtmcmFtZT1mcmFtZXNbaV07aWYoZnJhbWUubmFtZT09PW5hbWUpe3JldHVybiBmcmFtZTt9fWZyYW1lcz1kb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2ZyYW1lJyk7Zm9yKGk9MDtpPGZyYW1lcy5sZW5ndGg7aSsrKXtmcmFtZT1mcmFtZXNbaV07aWYoZnJhbWUubmFtZT09PW5hbWUpe3JldHVybiBmcmFtZTt9fS8vIERHRiB3ZWlyZDsgd2Ugb25seSBjYWxsIHRoaXMgZnVuY3Rpb24gd2hlbiB3ZSBrbm93IHRoZSBkb2MgY29udGFpbnMgdGhlIGZyYW1lXG4vL0xPRy53YXJuKFwiX2dldEZyYW1lRWxlbWVudEJ5TmFtZSBjb3VsZG4ndCBmaW5kIGEgZnJhbWUgb3IgaWZyYW1lOyBjaGVja2luZyBldmVyeSBlbGVtZW50IGZvciB0aGUgbmFtZSBcIiArIG5hbWUpO1xucmV0dXJuIEJyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeU5hbWUod2luLm5hbWUsd2luLnBhcmVudC5kb2N1bWVudCk7fTsvKipcbiAqIFNldCB1cCBhIHBvbGxpbmcgdGltZXIgdGhhdCB3aWxsIGtlZXAgY2hlY2tpbmcgdGhlIHJlYWR5U3RhdGUgb2YgdGhlIGRvY3VtZW50IHVudGlsIGl0J3MgY29tcGxldGUuXG4gKiBTaW5jZSB3ZSBtaWdodCBjYWxsIHRoaXMgYmVmb3JlIHRoZSBvcmlnaW5hbCBwYWdlIGlzIHVubG9hZGVkLCB3ZSBmaXJzdCBjaGVjayB0byBzZWUgdGhhdCB0aGUgY3VycmVudCBsb2NhdGlvblxuICogb3IgaHJlZiBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgb3JpZ2luYWwgb25lLlxuICovQnJvd3NlckJvdC5wcm90b3R5cGUucG9sbEZvckxvYWQ9ZnVuY3Rpb24obG9hZEZ1bmN0aW9uLHdpbmRvd09iamVjdCxvcmlnaW5hbERvY3VtZW50LG9yaWdpbmFsTG9jYXRpb24sb3JpZ2luYWxIcmVmLG1hcmtlcil7Ly9MT0cuZGVidWcoXCJwb2xsRm9yTG9hZCBvcmlnaW5hbCAoXCIgKyBtYXJrZXIgKyBcIik6IFwiICsgb3JpZ2luYWxIcmVmKTtcbnRyeXsvL1NhbWl0OiBGaXg6IG9wZW4gY29tbWFuZCBzb21ldGltZXMgZmFpbHMgaWYgY3VycmVudCB1cmwgaXMgY2hyb21lIGFuZCBuZXcgaXMgbm90XG53aW5kb3dPYmplY3Q9Y29yZS5maXJlZm94LnVud3JhcCh3aW5kb3dPYmplY3QpO2lmKHRoaXMuX3dpbmRvd0Nsb3NlZCh3aW5kb3dPYmplY3QpKXsvL0xPRy5kZWJ1ZyhcInBvbGxGb3JMb2FkIFdJTkRPVyBDTE9TRUQgKFwiICsgbWFya2VyICsgXCIpXCIpO1xuZGVsZXRlIHRoaXMucG9sbGluZ0ZvckxvYWRbbWFya2VyXTtyZXR1cm47fWxldCBpc1NhbWVQYWdlPXRoaXMuX2lzU2FtZVBhZ2Uod2luZG93T2JqZWN0LG9yaWdpbmFsRG9jdW1lbnQsb3JpZ2luYWxMb2NhdGlvbixvcmlnaW5hbEhyZWYsbWFya2VyKTtsZXQgcnM9dGhpcy5nZXRSZWFkeVN0YXRlKHdpbmRvd09iamVjdCx3aW5kb3dPYmplY3QuZG9jdW1lbnQpO2lmKCFpc1NhbWVQYWdlJiZycz09J2NvbXBsZXRlJyl7bGV0IGN1cnJlbnRIcmVmPXdpbmRvd09iamVjdC5sb2NhdGlvbi5ocmVmOy8vTE9HLmRlYnVnKFwicG9sbEZvckxvYWQgRklOSVNIRUQgKFwiICsgbWFya2VyICsgXCIpOiBcIiArIHJzICsgXCIgKFwiICsgY3VycmVudEhyZWYgKyBcIilcIik7XG5kZWxldGUgdGhpcy5wb2xsaW5nRm9yTG9hZFttYXJrZXJdO3RoaXMuX21vZGlmeVdpbmRvdyh3aW5kb3dPYmplY3QpO2xldCBuZXdNYXJrZXI9dGhpcy5pc1BvbGxpbmdGb3JMb2FkKHdpbmRvd09iamVjdCk7aWYoIW5ld01hcmtlcil7Ly9MT0cuZGVidWcoXCJtb2RpZnlXaW5kb3cgZGlkbid0IHN0YXJ0IG5ldyBwb2xsZXI6IFwiICsgbmV3TWFya2VyKTtcbnRoaXMubW9kaWZ5U2VwYXJhdGVUZXN0V2luZG93VG9EZXRlY3RQYWdlTG9hZHMod2luZG93T2JqZWN0KTt9bmV3TWFya2VyPXRoaXMuaXNQb2xsaW5nRm9yTG9hZCh3aW5kb3dPYmplY3QpO2xldCBjdXJyZW50bHlTZWxlY3RlZFdpbmRvdztsZXQgY3VycmVudGx5U2VsZWN0ZWRXaW5kb3dNYXJrZXI7Y3VycmVudGx5U2VsZWN0ZWRXaW5kb3c9dGhpcy5nZXRDdXJyZW50V2luZG93KHRydWUpO2N1cnJlbnRseVNlbGVjdGVkV2luZG93TWFya2VyPWN1cnJlbnRseVNlbGVjdGVkV2luZG93W3RoaXMudW5pcXVlSWRdOy8vTE9HLmRlYnVnKFwicG9sbEZvckxvYWQgKFwiICsgbWFya2VyICsgXCIpIHJlc3RhcnRpbmcgXCIgKyBuZXdNYXJrZXIpO1xuaWYoLyhUZXN0UnVubmVyLXNwbGFzaHxCbGFuaylcXC5odG1sXFw/c3RhcnQ9dHJ1ZSQvLnRlc3QoY3VycmVudEhyZWYpKXsvL0xPRy5kZWJ1ZyhcInBvbGxGb3JMb2FkIE9oLCBpdCdzIGp1c3QgdGhlIHN0YXJ0aW5nIHBhZ2UuICBOZXZlciBtaW5kIVwiKTtcbn1lbHNlIGlmKGN1cnJlbnRseVNlbGVjdGVkV2luZG93TWFya2VyPT1uZXdNYXJrZXIpe2xvYWRGdW5jdGlvbihjdXJyZW50bHlTZWxlY3RlZFdpbmRvdyk7fWVsc2V7Ly9MT0cuZGVidWcoXCJwb2xsRm9yTG9hZCBwYWdlIGxvYWQgZGV0ZWN0ZWQgaW4gbm9uLWN1cnJlbnQgd2luZG93OyBpZ25vcmluZyAoY3VycmVudGx5U2VsZWN0ZWQ9XCIrY3VycmVudGx5U2VsZWN0ZWRXaW5kb3dNYXJrZXIrXCIsIGRldGVjdGlvbiBpbiBcIituZXdNYXJrZXIrXCIpXCIpO1xufXJldHVybjt9Ly9MT0cuZGVidWcoXCJwb2xsRm9yTG9hZCBjb250aW51ZSAoXCIgKyBtYXJrZXIgKyBcIik6IFwiICsgY3VycmVudEhyZWYpO1xudGhpcy5yZXNjaGVkdWxlUG9sbGVyKGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpO31jYXRjaChlKXsvL0xPRy5kZWJ1ZyhcIkV4Y2VwdGlvbiBkdXJpbmcgcG9sbEZvckxvYWQ7IHRoaXMgc2hvdWxkIGdldCBub3RpY2VkIHNvb24gKFwiICsgZS5tZXNzYWdlICsgXCIpIVwiKTtcbi8vREdGIHRoaXMgaXMgc3VwcG9zZWQgdG8gZ2V0IGxvZ2dlZCBsYXRlcjsgbG9nIGl0IGF0IGRlYnVnIGp1c3QgaW4gY2FzZVxuLy8vL0xPRy5leGNlcHRpb24oZSk7XG50aGlzLnBhZ2VMb2FkRXJyb3I9ZTt9fTtCcm93c2VyQm90LnByb3RvdHlwZS5faXNTYW1lUGFnZT1mdW5jdGlvbih3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpe2xldCBjdXJyZW50RG9jdW1lbnQ9d2luZG93T2JqZWN0LmRvY3VtZW50O2xldCBjdXJyZW50TG9jYXRpb249d2luZG93T2JqZWN0LmxvY2F0aW9uO2xldCBjdXJyZW50SHJlZj1jdXJyZW50TG9jYXRpb24uaHJlZjtsZXQgc2FtZURvYz10aGlzLl9pc1NhbWVEb2N1bWVudChvcmlnaW5hbERvY3VtZW50LGN1cnJlbnREb2N1bWVudCk7bGV0IHNhbWVMb2M9b3JpZ2luYWxMb2NhdGlvbj09PWN1cnJlbnRMb2NhdGlvbjsvLyBoYXNoIG1hcmtzIGRvbid0IG1lYW50IHRoZSBwYWdlIGhhcyBsb2FkZWQsIHNvIHdlIG5lZWQgdG8gc3RyaXAgdGhlbSBvZmYgaWYgdGhleSBleGlzdC4uLlxubGV0IGN1cnJlbnRIYXNoPWN1cnJlbnRIcmVmLmluZGV4T2YoJyMnKTtpZihjdXJyZW50SGFzaD4wKXtjdXJyZW50SHJlZj1jdXJyZW50SHJlZi5zdWJzdHJpbmcoMCxjdXJyZW50SGFzaCk7fWxldCBvcmlnaW5hbEhhc2g9b3JpZ2luYWxIcmVmLmluZGV4T2YoJyMnKTtpZihvcmlnaW5hbEhhc2g+MCl7b3JpZ2luYWxIcmVmPW9yaWdpbmFsSHJlZi5zdWJzdHJpbmcoMCxvcmlnaW5hbEhhc2gpO30vL0xPRy5kZWJ1ZyhcIl9pc1NhbWVQYWdlOiBjdXJyZW50SHJlZjogXCIgKyBjdXJyZW50SHJlZik7XG4vL0xPRy5kZWJ1ZyhcIl9pc1NhbWVQYWdlOiBvcmlnaW5hbEhyZWY6IFwiICsgb3JpZ2luYWxIcmVmKTtcbmxldCBzYW1lSHJlZj1vcmlnaW5hbEhyZWY9PT1jdXJyZW50SHJlZjtsZXQgbWFya2VkTG9jPWN1cnJlbnRMb2NhdGlvblttYXJrZXJdO2lmKGJyb3dzZXJWZXJzaW9uLmlzS29ucXVlcm9yfHxicm93c2VyVmVyc2lvbi5pc1NhZmFyaSl7Ly8gdGhlIG1hcmsgZGlzYXBwZWFycyB0b28gZWFybHkgb24gdGhlc2UgYnJvd3NlcnNcbm1hcmtlZExvYz10cnVlO30vLyBzaW5jZSB0aGlzIGlzIHNvbWUgX3ZlcnlfIGltcG9ydGFudCBsb2dpYywgZXNwZWNpYWxseSBmb3IgUEkgYW5kIG11bHRpV2luZG93IG1vZGUsIHdlIHNob3VsZCBsb2cgYWxsIHRoZXNlIG91dFxuLy9MT0cuZGVidWcoXCJfaXNTYW1lUGFnZTogc2FtZURvYzogXCIgKyBzYW1lRG9jKTtcbi8vTE9HLmRlYnVnKFwiX2lzU2FtZVBhZ2U6IHNhbWVMb2M6IFwiICsgc2FtZUxvYyk7XG4vL0xPRy5kZWJ1ZyhcIl9pc1NhbWVQYWdlOiBzYW1lSHJlZjogXCIgKyBzYW1lSHJlZik7XG4vL0xPRy5kZWJ1ZyhcIl9pc1NhbWVQYWdlOiBtYXJrZWRMb2M6IFwiICsgbWFya2VkTG9jKTtcbnJldHVybiBzYW1lRG9jJiZzYW1lTG9jJiZzYW1lSHJlZiYmbWFya2VkTG9jO307QnJvd3NlckJvdC5wcm90b3R5cGUuX2lzU2FtZURvY3VtZW50PWZ1bmN0aW9uKG9yaWdpbmFsRG9jdW1lbnQsY3VycmVudERvY3VtZW50KXtyZXR1cm4gb3JpZ2luYWxEb2N1bWVudD09PWN1cnJlbnREb2N1bWVudDt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldFJlYWR5U3RhdGU9ZnVuY3Rpb24od2luZG93T2JqZWN0LGN1cnJlbnREb2N1bWVudCl7bGV0IHJzPWN1cnJlbnREb2N1bWVudC5yZWFkeVN0YXRlO2lmKHJzPT1udWxsKXtpZih0aGlzLmJ1dHRvbldpbmRvdyE9bnVsbCYmdGhpcy5idXR0b25XaW5kb3cuZG9jdW1lbnQucmVhZHlTdGF0ZT09bnVsbHx8Ly8gbm90IHByb3h5IGluamVjdGlvbiBtb2RlIChhbmQgdGhlcmVmb3JlIGJ1dHRvbldpbmRvdyBpc24ndCBudWxsKVxudG9wLmRvY3VtZW50LnJlYWR5U3RhdGU9PW51bGwpey8vIHByb3h5IGluamVjdGlvbiBtb2RlIChhbmQgdGhlcmVmb3JlIGV2ZXJ5dGhpbmcncyBpbiB0aGUgdG9wIHdpbmRvdywgYnV0IGJ1dHRvbldpbmRvdyBkb2Vzbid0IGV4aXN0KVxuLy8gdWggb2ghICB3ZSdyZSBwcm9iYWJseSBvbiBGaXJlZm94IHdpdGggbm8gcmVhZHlTdGF0ZSBleHRlbnNpb24gaW5zdGFsbGVkIVxuLy8gV2UnbGwgaGF2ZSB0byBqdXN0IHRha2UgYSBndWVzcyBhcyB0byB3aGVuIHRoZSBkb2N1bWVudCBpcyBsb2FkZWQ7IHRoaXMgZ3Vlc3Ncbi8vIHdpbGwgbmV2ZXIgYmUgcGVyZmVjdC4gOi0oXG5pZih0eXBlb2YgY3VycmVudERvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lIT0ndW5kZWZpbmVkJyYmdHlwZW9mIGN1cnJlbnREb2N1bWVudC5nZXRFbGVtZW50QnlJZCE9J3VuZGVmaW5lZCcmJihjdXJyZW50RG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXSE9bnVsbHx8Y3VycmVudERvY3VtZW50LmJvZHkhPW51bGwpKXtpZih3aW5kb3dPYmplY3QuZnJhbWVFbGVtZW50JiZ3aW5kb3dPYmplY3QubG9jYXRpb24uaHJlZj09J2Fib3V0OmJsYW5rJyYmd2luZG93T2JqZWN0LmZyYW1lRWxlbWVudC5zcmMhPSdhYm91dDpibGFuaycpey8vTE9HLmluZm8oXCJnZXRSZWFkeVN0YXRlIG5vdCBsb2FkZWQsIGZyYW1lIGxvY2F0aW9uIHdhcyBhYm91dDpibGFuaywgYnV0IGZyYW1lIHNyYyA9IFwiICsgd2luZG93T2JqZWN0LmZyYW1lRWxlbWVudC5zcmMpO1xucmV0dXJuIG51bGw7fS8vTE9HLmRlYnVnKFwiZ2V0UmVhZHlTdGF0ZSA9IHdpbmRvd09iamVjdC5mcmFtZXMubGVuZ3RoID0gXCIgKyB3aW5kb3dPYmplY3QuZnJhbWVzLmxlbmd0aCk7XG5mb3IobGV0IGk9MDtpPHdpbmRvd09iamVjdC5mcmFtZXMubGVuZ3RoO2krKyl7Ly9MT0cuZGVidWcoXCJpID0gXCIgKyBpKTtcbmlmKHRoaXMuZ2V0UmVhZHlTdGF0ZSh3aW5kb3dPYmplY3QuZnJhbWVzW2ldLHdpbmRvd09iamVjdC5mcmFtZXNbaV0uZG9jdW1lbnQpIT0nY29tcGxldGUnKXsvL0xPRy5kZWJ1ZyhcImdldFJlYWR5U3RhdGUgYWhhISB0aGUgbmVzdGVkIGZyYW1lIFwiICsgd2luZG93T2JqZWN0LmZyYW1lc1tpXS5uYW1lICsgXCIgd2Fzbid0IHJlYWR5IVwiKTtcbnJldHVybiBudWxsO319cnM9J2NvbXBsZXRlJzt9ZWxzZXsvL0xPRy5kZWJ1ZyhcInBvbGxGb3JMb2FkIHJlYWR5U3RhdGUgd2FzIG51bGwgYW5kIERPTSBhcHBlYXJlZCB0byBub3QgYmUgcmVhZHkgeWV0XCIpO1xufX19ZWxzZSBpZihycz09J2xvYWRpbmcnJiZicm93c2VyVmVyc2lvbi5pc0lFKXsvL0xPRy5kZWJ1ZyhcInBhZ2VVbmxvYWRpbmcgPSB0cnVlISEhIVwiKTtcbnRoaXMucGFnZVVubG9hZGluZz10cnVlO30vL0xPRy5kZWJ1ZyhcImdldFJlYWR5U3RhdGUgcmV0dXJuaW5nIFwiICsgcnMpO1xucmV0dXJuIHJzO307LyoqIFRoaXMgZnVuY3Rpb24gaXNuJ3QgdXNlZCBub3JtYWxseSwgYnV0IHdhcyB0aGUgd2F5IHdlIHVzZWQgdG8gc2NoZWR1bGUgcG9sbGVyczpcbiBhc3luY2hyb25vdXNseSBleGVjdXRlZCBhdXRvbm9tb3VzIHVuaXRzLiAgVGhpcyBpcyBkZXByZWNhdGVkLCBidXQgcmVtYWlucyBoZXJlXG4gZm9yIGZ1dHVyZSByZWZlcmVuY2UuXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5YWFhyZXNjaGVkdWxlUG9sbGVyPWZ1bmN0aW9uKGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpe2xldCBzZWxmPXRoaXM7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtzZWxmLnBvbGxGb3JMb2FkKGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpO30sNTAwKTt9Oy8qKiBUaGlzIGZ1bmN0aW9uIGlzbid0IHVzZWQgbm9ybWFsbHksIGJ1dCBpcyB1c2VmdWwgZm9yIGRlYnVnZ2luZyBhc3luY2hyb25vdXMgcG9sbGVyc1xuICogVG8gZW5hYmxlIGl0LCByZW5hbWUgaXQgdG8gXCJyZXNjaGVkdWxlUG9sbGVyXCIsIHNvIGl0IHdpbGwgb3ZlcnJpZGUgdGhlXG4gKiBleGlzdGluZyByZXNjaGVkdWxlUG9sbGVyIGZ1bmN0aW9uXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5YWFhyZXNjaGVkdWxlUG9sbGVyPWZ1bmN0aW9uKGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpe2xldCBkb2M9dGhpcy5idXR0b25XaW5kb3cuZG9jdW1lbnQ7bGV0IGJ1dHRvbj1kb2MuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7bGV0IGJ1dHRvbk5hbWU9ZG9jLmNyZWF0ZVRleHROb2RlKG1hcmtlcisnIC0gJyt3aW5kb3dPYmplY3QubmFtZSk7YnV0dG9uLmFwcGVuZENoaWxkKGJ1dHRvbk5hbWUpO2xldCB0b29scz1kb2MuZ2V0RWxlbWVudEJ5SWQoJ3Rvb2xzJyk7bGV0IHNlbGY9dGhpcztidXR0b24ub25jbGljaz1mdW5jdGlvbigpe3Rvb2xzLnJlbW92ZUNoaWxkKGJ1dHRvbik7c2VsZi5wb2xsRm9yTG9hZChsb2FkRnVuY3Rpb24sd2luZG93T2JqZWN0LG9yaWdpbmFsRG9jdW1lbnQsb3JpZ2luYWxMb2NhdGlvbixvcmlnaW5hbEhyZWYsbWFya2VyKTt9O3Rvb2xzLmFwcGVuZENoaWxkKGJ1dHRvbik7d2luZG93LnNldFRpbWVvdXQoYnV0dG9uLm9uY2xpY2ssNTAwKTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLnJlc2NoZWR1bGVQb2xsZXI9ZnVuY3Rpb24obG9hZEZ1bmN0aW9uLHdpbmRvd09iamVjdCxvcmlnaW5hbERvY3VtZW50LG9yaWdpbmFsTG9jYXRpb24sb3JpZ2luYWxIcmVmLG1hcmtlcil7bGV0IHNlbGY9dGhpcztsZXQgcG9sbGVyRnVuY3Rpb249ZnVuY3Rpb24oKXtzZWxmLnBvbGxGb3JMb2FkKGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpO307dGhpcy53aW5kb3dQb2xsZXJzLnB1c2gocG9sbGVyRnVuY3Rpb24pO307QnJvd3NlckJvdC5wcm90b3R5cGUucnVuU2NoZWR1bGVkUG9sbGVycz1mdW5jdGlvbigpey8vTE9HLmRlYnVnKFwicnVuU2NoZWR1bGVkUG9sbGVyc1wiKTtcbmxldCBvbGRQb2xsZXJzPXRoaXMud2luZG93UG9sbGVyczt0aGlzLndpbmRvd1BvbGxlcnM9bmV3IEFycmF5KCk7Zm9yKGxldCBpPTA7aTxvbGRQb2xsZXJzLmxlbmd0aDtpKyspe29sZFBvbGxlcnNbaV0uY2FsbCgpO30vL0xPRy5kZWJ1ZyhcInJ1blNjaGVkdWxlZFBvbGxlcnMgRE9ORVwiKTtcbn07QnJvd3NlckJvdC5wcm90b3R5cGUuaXNQb2xsaW5nRm9yTG9hZD1mdW5jdGlvbih3aW4pe2xldCBtYXJrZXI7bGV0IGZyYW1lRWxlbWVudD10aGlzLl9nZXRGcmFtZUVsZW1lbnQod2luKTtsZXQgaHRhU3ViRnJhbWU9dGhpcy5faXNIVEFTdWJGcmFtZSh3aW4pO2lmKGZyYW1lRWxlbWVudCYmIWh0YVN1YkZyYW1lKXttYXJrZXI9ZnJhbWVFbGVtZW50WydmcmFtZScrdGhpcy51bmlxdWVJZF07fWVsc2V7bWFya2VyPXdpblt0aGlzLnVuaXF1ZUlkXTt9aWYoIW1hcmtlcil7Ly9MT0cuZGVidWcoXCJpc1BvbGxpbmdGb3JMb2FkIGZhbHNlLCBtaXNzaW5nIHVuaXF1ZUlkIFwiICsgdGhpcy51bmlxdWVJZCArIFwiOiBcIiArIG1hcmtlcik7XG5yZXR1cm4gZmFsc2U7fWlmKCF0aGlzLnBvbGxpbmdGb3JMb2FkW21hcmtlcl0pey8vTE9HLmRlYnVnKFwiaXNQb2xsaW5nRm9yTG9hZCBmYWxzZSwgdGhpcy5wb2xsaW5nRm9yTG9hZFtcIiArIG1hcmtlciArIFwiXTogXCIgKyB0aGlzLnBvbGxpbmdGb3JMb2FkW21hcmtlcl0pO1xucmV0dXJuIGZhbHNlO31yZXR1cm4gbWFya2VyO307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0V2luZG93QnlOYW1lPWZ1bmN0aW9uKHdpbmRvd05hbWUsZG9Ob3RNb2RpZnkpey8vTE9HLmRlYnVnKFwiZ2V0V2luZG93QnlOYW1lKFwiICsgd2luZG93TmFtZSArIFwiKVwiKTtcbi8vIEZpcnN0IGxvb2sgaW4gdGhlIG1hcCBvZiBvcGVuZWQgd2luZG93c1xubGV0IHRhcmdldFdpbmRvdz10aGlzLm9wZW5lZFdpbmRvd3Nbd2luZG93TmFtZV07aWYoIXRhcmdldFdpbmRvdyl7dGFyZ2V0V2luZG93PXRoaXMudG9wV2luZG93W3dpbmRvd05hbWVdO31pZighdGFyZ2V0V2luZG93JiZ3aW5kb3dOYW1lPT0nX2JsYW5rJyl7Zm9yKGxldCB3aW5OYW1lIGluIHRoaXMub3BlbmVkV2luZG93cyl7Ly8gX2JsYW5rIGNhbiBtYXRjaCBzZWxlbml1bV9ibGFuayosIGlmIGl0IGxvb2tzIGxpa2UgaXQncyBPSyAodmFsaWQgaHJlZiwgbm90IGNsb3NlZClcbmlmKC9ec2VsZW5pdW1fYmxhbmsvLnRlc3Qod2luTmFtZSkpe3RhcmdldFdpbmRvdz10aGlzLm9wZW5lZFdpbmRvd3Nbd2luTmFtZV07bGV0IG9rO3RyeXtpZighdGhpcy5fd2luZG93Q2xvc2VkKHRhcmdldFdpbmRvdykpe29rPXRhcmdldFdpbmRvdy5sb2NhdGlvbi5ocmVmO319Y2F0Y2goZSl7fS8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbmlmKG9rKWJyZWFrO319fWlmKCF0YXJnZXRXaW5kb3cpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdXaW5kb3cgZG9lcyBub3QgZXhpc3QuIElmIHRoaXMgbG9va3MgbGlrZSBhIFNlbGVuaXVtIGJ1ZywgbWFrZSBzdXJlIHRvIHJlYWQgaHR0cDovL3NlbGVuaXVtaHEub3JnL2RvY3MvMDJfc2VsZW5pdW1faWRlLmh0bWwjYWxlcnRzLXBvcHVwcy1hbmQtbXVsdGlwbGUtd2luZG93cyBmb3IgcG90ZW50aWFsIHdvcmthcm91bmRzLicpO31pZihicm93c2VyVmVyc2lvbi5pc0hUQSl7dHJ5e3RhcmdldFdpbmRvdy5sb2NhdGlvbi5ocmVmO31jYXRjaChlKXt0YXJnZXRXaW5kb3c9d2luZG93Lm9wZW4oJycsdGFyZ2V0V2luZG93Lm5hbWUpO3RoaXMub3BlbmVkV2luZG93c1t0YXJnZXRXaW5kb3cubmFtZV09dGFyZ2V0V2luZG93O319aWYoIWRvTm90TW9kaWZ5KXt0aGlzLl9tb2RpZnlXaW5kb3codGFyZ2V0V2luZG93KTt9cmV0dXJuIHRhcmdldFdpbmRvdzt9Oy8qKlxuICogRmluZCBhIHdpbmRvdyBuYW1lIGZyb20gdGhlIHdpbmRvdyB0aXRsZS5cbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldFdpbmRvd05hbWVCeVRpdGxlPWZ1bmN0aW9uKHdpbmRvd1RpdGxlKXsvL0xPRy5kZWJ1ZyhcImdldFdpbmRvd05hbWVCeVRpdGxlKFwiICsgd2luZG93VGl0bGUgKyBcIilcIik7XG4vLyBGaXJzdCBsb29rIGluIHRoZSBtYXAgb2Ygb3BlbmVkIHdpbmRvd3MgYW5kIGl0ZXJhdGUgdGhlbVxuZm9yKGxldCB3aW5kb3dOYW1lIGluIHRoaXMub3BlbmVkV2luZG93cyl7bGV0IHRhcmdldFdpbmRvdz10aGlzLm9wZW5lZFdpbmRvd3Nbd2luZG93TmFtZV07Ly8gSWYgdGhlIHRhcmdldCB3aW5kb3cncyB0aXRsZSBpcyBvdXIgdGl0bGVcbnRyeXsvLyBUT0RPIGltcGxlbWVudCBQYXR0ZXJuIE1hdGNoaW5nIGhlcmVcbmlmKCF0aGlzLl93aW5kb3dDbG9zZWQodGFyZ2V0V2luZG93KSYmdGFyZ2V0V2luZG93LmRvY3VtZW50LnRpdGxlPT13aW5kb3dUaXRsZSl7cmV0dXJuIHdpbmRvd05hbWU7fX1jYXRjaChlKXsvLyBZb3UnbGwgb2Z0ZW4gZ2V0IFBlcm1pc3Npb24gRGVuaWVkIGVycm9ycyBoZXJlIGluIElFXG4vLyBlaCwgaWYgd2UgY2FuJ3QgcmVhZCB0aGlzIHdpbmRvdydzIHRpdGxlLFxuLy8gaXQncyBwcm9iYWJseSBub3QgYXZhaWxhYmxlIHRvIHVzIHJpZ2h0IG5vdyBhbnl3YXlcbn19dHJ5e2lmKHRoaXMudG9wV2luZG93LmRvY3VtZW50LnRpdGxlPT13aW5kb3dUaXRsZSl7cmV0dXJuJyc7fX1jYXRjaChlKXt9Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuLy8gSUUgUGVybSBkZW5pZWRcbnRocm93IG5ldyBTZWxlbml1bUVycm9yKCdDb3VsZCBub3QgZmluZCB3aW5kb3cgd2l0aCB0aXRsZSAnK3dpbmRvd1RpdGxlKTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldE5vblRvcFdpbmRvd05hbWVzPWZ1bmN0aW9uKCl7bGV0IG5vblRvcFdpbmRvd05hbWVzPVtdO2ZvcihsZXQgd2luZG93TmFtZSBpbiB0aGlzLm9wZW5lZFdpbmRvd3Mpe2xldCB3aW49dGhpcy5vcGVuZWRXaW5kb3dzW3dpbmRvd05hbWVdO2lmKCF0aGlzLl93aW5kb3dDbG9zZWQod2luKSYmd2luIT10aGlzLnRvcFdpbmRvdyl7bm9uVG9wV2luZG93TmFtZXMucHVzaCh3aW5kb3dOYW1lKTt9fXJldHVybiBub25Ub3BXaW5kb3dOYW1lczt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldEN1cnJlbnRXaW5kb3c9ZnVuY3Rpb24oZG9Ob3RNb2RpZnkpe2lmKHRoaXMucHJveHlJbmplY3Rpb25Nb2RlKXtyZXR1cm4gd2luZG93O31sZXQgdGVzdFdpbmRvdz1jb3JlLmZpcmVmb3gudW53cmFwKHRoaXMuY3VycmVudFdpbmRvdyk7aWYoIWRvTm90TW9kaWZ5KXt0aGlzLl9tb2RpZnlXaW5kb3codGVzdFdpbmRvdyk7Ly9MT0cuZGVidWcoXCJnZXRDdXJyZW50V2luZG93IG5ld1BhZ2VMb2FkZWQgPSBmYWxzZVwiKTtcbnRoaXMubmV3UGFnZUxvYWRlZD1mYWxzZTt9dGVzdFdpbmRvdz10aGlzLl9oYW5kbGVDbG9zZWRTdWJGcmFtZSh0ZXN0V2luZG93LGRvTm90TW9kaWZ5KTtib3Qud2luZG93Xz10ZXN0V2luZG93O3JldHVybiBjb3JlLmZpcmVmb3gudW53cmFwKHRlc3RXaW5kb3cpO307LyoqXG4gKiBPZmZlciBhIG1ldGhvZCB0aGUgZW5kLXVzZXIgY2FuIHJlbGlhYmx5IHVzZSB0byByZXRyaWV2ZSB0aGUgY3VycmVudCB3aW5kb3cuXG4gKiBUaGlzIHNob3VsZCB3b3JrIGV2ZW4gZm9yIHdpbmRvd3Mgd2l0aCBhbiBYUENOYXRpdmVXcmFwcGVyLiBSZXR1cm5zIHRoZVxuICogY3VycmVudCB3aW5kb3cgb2JqZWN0LlxuICovQnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0VXNlcldpbmRvdz1mdW5jdGlvbigpe2xldCB1c2VyV2luZG93PXRoaXMuZ2V0Q3VycmVudFdpbmRvdyh0cnVlKTtyZXR1cm4gdXNlcldpbmRvdzt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLl9oYW5kbGVDbG9zZWRTdWJGcmFtZT1mdW5jdGlvbih0ZXN0V2luZG93LGRvTm90TW9kaWZ5KXtpZih0aGlzLnByb3h5SW5qZWN0aW9uTW9kZSl7cmV0dXJuIHRlc3RXaW5kb3c7fWlmKHRoaXMuaXNTdWJGcmFtZVNlbGVjdGVkKXtsZXQgbWlzc2luZz10cnVlO2lmKHRlc3RXaW5kb3cucGFyZW50JiZ0ZXN0V2luZG93LnBhcmVudC5mcmFtZXMmJnRlc3RXaW5kb3cucGFyZW50LmZyYW1lcy5sZW5ndGgpe2ZvcihsZXQgaT0wO2k8dGVzdFdpbmRvdy5wYXJlbnQuZnJhbWVzLmxlbmd0aDtpKyspe2xldCBmcmFtZT10ZXN0V2luZG93LnBhcmVudC5mcmFtZXNbaV07aWYoZnJhbWU9PXRlc3RXaW5kb3d8fGZyYW1lLnNlbGVuaXVtS2V5PT10ZXN0V2luZG93LnNlbGVuaXVtS2V5KXttaXNzaW5nPWZhbHNlO2JyZWFrO319fWlmKG1pc3Npbmcpey8vTE9HLndhcm4oXCJDdXJyZW50IHN1YmZyYW1lIGFwcGVhcnMgdG8gaGF2ZSBjbG9zZWQ7IHNlbGVjdGluZyB0b3AgZnJhbWVcIik7XG50aGlzLnNlbGVjdEZyYW1lKCdyZWxhdGl2ZT10b3AnKTtyZXR1cm4gdGhpcy5nZXRDdXJyZW50V2luZG93KGRvTm90TW9kaWZ5KTt9fWVsc2UgaWYodGhpcy5fd2luZG93Q2xvc2VkKHRlc3RXaW5kb3cpKXsvL1VubmFtZWRXaW5JRnJhbWVFeHQsIEppZS1MaW4gWW91LCBTRUxBQiwgQ1NJRSwgTkNLVSwgMjAxNi8xMS8yNVxuLyp2YXIgY2xvc2VkRXJyb3IgPSBuZXcgU2VsZW5pdW1FcnJvcihcIkN1cnJlbnQgd2luZG93IG9yIGZyYW1lIGlzIGNsb3NlZCFcIik7XG4gICAgICAgIGNsb3NlZEVycm9yLndpbmRvd0Nsb3NlZCA9IHRydWU7XG4gICAgICAgIHRocm93IGNsb3NlZEVycm9yOyovdGVzdFdpbmRvdz10aGlzLnRvcFdpbmRvdzsvL3NlbGVjdCBsaXZlIG9iamVjdFxufXJldHVybiB0ZXN0V2luZG93O307QnJvd3NlckJvdC5wcm90b3R5cGUuc2V0U2hvdWxkSGlnaGxpZ2h0RWxlbWVudD1mdW5jdGlvbihzaG91bGRIaWdobGlnaHQpe3RoaXMuc2hvdWxkSGlnaGxpZ2h0TG9jYXRlZEVsZW1lbnQ9c2hvdWxkSGlnaGxpZ2h0O307LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLyAvKiBCUk9XU0VSLVNQRUNJRklDIEZVTkNUSU9OUyBPTkxZIEFGVEVSIFRISVMgTElORSAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLl9yZWdpc3RlckFsbExvY2F0b3JGdW5jdGlvbnM9ZnVuY3Rpb24oKXsvLyBUT0RPIC0gZG9uJ3QgZG8gdGhpcyBpbiB0aGUgY29uc3RydWN0b3IgLSBvbmx5IG5lZWRlZCBvbmNlIGV2ZXJcbnRoaXMubG9jYXRpb25TdHJhdGVnaWVzPXt9O2ZvcihsZXQgZnVuY3Rpb25OYW1lIGluIHRoaXMpe2xldCByZXN1bHQ9L15sb2NhdGVFbGVtZW50QnkoW0EtWl0uKykkLy5leGVjKGZ1bmN0aW9uTmFtZSk7aWYocmVzdWx0IT1udWxsKXtsZXQgbG9jYXRvckZ1bmN0aW9uPXRoaXNbZnVuY3Rpb25OYW1lXTtpZih0eXBlb2YgbG9jYXRvckZ1bmN0aW9uIT0nZnVuY3Rpb24nKXtjb250aW51ZTt9Ly8gVXNlIGEgc3BlY2lmaWVkIHByZWZpeCBpbiBwcmVmZXJlbmNlIHRvIG9uZSBnZW5lcmF0ZWQgZnJvbVxuLy8gdGhlIGZ1bmN0aW9uIG5hbWVcbmxldCBsb2NhdG9yUHJlZml4PWxvY2F0b3JGdW5jdGlvbi5wcmVmaXh8fHJlc3VsdFsxXS50b0xvd2VyQ2FzZSgpO3RoaXMubG9jYXRpb25TdHJhdGVnaWVzW2xvY2F0b3JQcmVmaXhdPWxvY2F0b3JGdW5jdGlvbjt9fS8qKlxuICAgKiBGaW5kIGEgbG9jYXRvciBiYXNlZCBvbiBhIHByZWZpeC5cbiAgICovdGhpcy5maW5kRWxlbWVudEJ5PWZ1bmN0aW9uKGxvY2F0b3JUeXBlLGxvY2F0b3IsaW5Eb2N1bWVudCxpbldpbmRvdyl7bGV0IGxvY2F0b3JGdW5jdGlvbj10aGlzLmxvY2F0aW9uU3RyYXRlZ2llc1tsb2NhdG9yVHlwZV07aWYoIWxvY2F0b3JGdW5jdGlvbil7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoXCJVbnJlY29nbmlzZWQgbG9jYXRvciB0eXBlOiAnXCIrbG9jYXRvclR5cGUrXCInXCIpO31yZXR1cm4gbG9jYXRvckZ1bmN0aW9uLmNhbGwodGhpcyxsb2NhdG9yLGluRG9jdW1lbnQsaW5XaW5kb3cpO307LyoqXG4gICAqIFRoZSBpbXBsaWNpdCBsb2NhdG9yLCB0aGF0IGlzIHVzZWQgd2hlbiBubyBwcmVmaXggaXMgc3VwcGxpZWQuXG4gICAqL3RoaXMubG9jYXRpb25TdHJhdGVnaWVzWydpbXBsaWNpdCddPWZ1bmN0aW9uKGxvY2F0b3IsaW5Eb2N1bWVudCxpbldpbmRvdyl7aWYobG9jYXRvci5zdGFydHNXaXRoKCcvLycpKXtyZXR1cm4gdGhpcy5sb2NhdGVFbGVtZW50QnlYUGF0aChsb2NhdG9yLGluRG9jdW1lbnQsaW5XaW5kb3cpO31pZihsb2NhdG9yLnN0YXJ0c1dpdGgoJ2RvY3VtZW50LicpKXtyZXR1cm4gdGhpcy5sb2NhdGVFbGVtZW50QnlEb21UcmF2ZXJzYWwobG9jYXRvcixpbkRvY3VtZW50LGluV2luZG93KTt9cmV0dXJuIHRoaXMubG9jYXRlRWxlbWVudEJ5SWRlbnRpZmllcihsb2NhdG9yLGluRG9jdW1lbnQsaW5XaW5kb3cpO307fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXREb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiBjb3JlLmZpcmVmb3gudW53cmFwKHRoaXMuZ2V0Q3VycmVudFdpbmRvdygpLmRvY3VtZW50KTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldFRpdGxlPWZ1bmN0aW9uKCl7bGV0IHQ9dGhpcy5nZXREb2N1bWVudCgpLnRpdGxlO2lmKHR5cGVvZiB0PT0nc3RyaW5nJyl7dD10LnRyaW0oKTt9cmV0dXJuIHQ7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXRDb29raWVCeU5hbWU9ZnVuY3Rpb24oY29va2llTmFtZSxkb2Mpe2lmKCFkb2MpZG9jPXRoaXMuZ2V0RG9jdW1lbnQoKTtsZXQgY2s9ZG9jLmNvb2tpZTtpZighY2spcmV0dXJuIG51bGw7bGV0IGNrUGFpcnM9Y2suc3BsaXQoLzsvKTtmb3IobGV0IGk9MDtpPGNrUGFpcnMubGVuZ3RoO2krKyl7bGV0IGNrUGFpcj1ja1BhaXJzW2ldLnRyaW0oKTtsZXQgY2tOYW1lVmFsdWU9Y2tQYWlyLnNwbGl0KC89Lyk7bGV0IGNrTmFtZT1kZWNvZGVVUklDb21wb25lbnQoY2tOYW1lVmFsdWVbMF0pO2lmKGNrTmFtZT09PWNvb2tpZU5hbWUpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoY2tOYW1lVmFsdWUuc2xpY2UoMSkuam9pbignPScpKTt9fXJldHVybiBudWxsO307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0QWxsQ29va2llTmFtZXM9ZnVuY3Rpb24oZG9jKXtpZighZG9jKWRvYz10aGlzLmdldERvY3VtZW50KCk7bGV0IGNrPWRvYy5jb29raWU7aWYoIWNrKXJldHVybltdO2xldCBjb29raWVOYW1lcz1bXTtsZXQgY2tQYWlycz1jay5zcGxpdCgvOy8pO2ZvcihsZXQgaT0wO2k8Y2tQYWlycy5sZW5ndGg7aSsrKXtsZXQgY2tQYWlyPWNrUGFpcnNbaV0udHJpbSgpO2xldCBja05hbWVWYWx1ZT1ja1BhaXIuc3BsaXQoLz0vKTtsZXQgY2tOYW1lPWRlY29kZVVSSUNvbXBvbmVudChja05hbWVWYWx1ZVswXSk7Y29va2llTmFtZXMucHVzaChja05hbWUpO31yZXR1cm4gY29va2llTmFtZXM7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXRBbGxSYXdDb29raWVOYW1lcz1mdW5jdGlvbihkb2Mpe2lmKCFkb2MpZG9jPXRoaXMuZ2V0RG9jdW1lbnQoKTtsZXQgY2s9ZG9jLmNvb2tpZTtpZighY2spcmV0dXJuW107bGV0IGNvb2tpZU5hbWVzPVtdO2xldCBja1BhaXJzPWNrLnNwbGl0KC87Lyk7Zm9yKGxldCBpPTA7aTxja1BhaXJzLmxlbmd0aDtpKyspe2xldCBja1BhaXI9Y2tQYWlyc1tpXS50cmltKCk7bGV0IGNrTmFtZVZhbHVlPWNrUGFpci5zcGxpdCgvPS8pO2xldCBja05hbWU9Y2tOYW1lVmFsdWVbMF07Y29va2llTmFtZXMucHVzaChja05hbWUpO31yZXR1cm4gY29va2llTmFtZXM7fTtmdW5jdGlvbiBlbmNvZGVVUklDb21wb25lbnRXaXRoQVNQSGFjayh1cmkpe2xldCByZWd1bGFyRW5jb2Rpbmc9ZW5jb2RlVVJJQ29tcG9uZW50KHVyaSk7bGV0IGFnZ3Jlc3NpdmVFbmNvZGluZz1yZWd1bGFyRW5jb2RpbmcucmVwbGFjZSgnLicsJyUyRScpO2FnZ3Jlc3NpdmVFbmNvZGluZz1hZ2dyZXNzaXZlRW5jb2RpbmcucmVwbGFjZSgnXycsJyU1RicpO3JldHVybiBhZ2dyZXNzaXZlRW5jb2Rpbmc7fUJyb3dzZXJCb3QucHJvdG90eXBlLmRlbGV0ZUNvb2tpZT1mdW5jdGlvbihjb29raWVOYW1lLGRvbWFpbixwYXRoLGRvYyl7aWYoIWRvYylkb2M9dGhpcy5nZXREb2N1bWVudCgpO2xldCBleHBpcmVEYXRlSW5NaWxsaXNlY29uZHM9bmV3IERhdGUoKS5nZXRUaW1lKCkrLTEqMTAwMDsvLyB3ZSBjYW4ndCByZWFsbHkgYmUgc3VyZSBpZiB3ZSdyZSBkZWFsaW5nIHdpdGggZW5jb2RlZCBvciB1bmVuY29kZWQgY29va2llIG5hbWVzXG5sZXQgX2Nvb2tpZU5hbWU7bGV0IHJhd0Nvb2tpZU5hbWVzPXRoaXMuZ2V0QWxsUmF3Q29va2llTmFtZXMoZG9jKTtmb3IobGV0IHJhd0Nvb2tpZU51bWJlciBpbiByYXdDb29raWVOYW1lcyl7aWYocmF3Q29va2llTmFtZXNbcmF3Q29va2llTnVtYmVyXT09Y29va2llTmFtZSl7X2Nvb2tpZU5hbWU9Y29va2llTmFtZTticmVhazt9ZWxzZSBpZihyYXdDb29raWVOYW1lc1tyYXdDb29raWVOdW1iZXJdPT1lbmNvZGVVUklDb21wb25lbnQoY29va2llTmFtZSkpe19jb29raWVOYW1lPWVuY29kZVVSSUNvbXBvbmVudChjb29raWVOYW1lKTticmVhazt9ZWxzZSBpZihyYXdDb29raWVOYW1lc1tyYXdDb29raWVOdW1iZXJdPT1lbmNvZGVVUklDb21wb25lbnRXaXRoQVNQSGFjayhjb29raWVOYW1lKSl7X2Nvb2tpZU5hbWU9ZW5jb2RlVVJJQ29tcG9uZW50V2l0aEFTUEhhY2soY29va2llTmFtZSk7YnJlYWs7fX1sZXQgY29va2llPV9jb29raWVOYW1lKyc9ZGVsZXRlZDsgJztpZihwYXRoKXtjb29raWUrPSdwYXRoPScrcGF0aCsnOyAnO31pZihkb21haW4pe2Nvb2tpZSs9J2RvbWFpbj0nK2RvbWFpbisnOyAnO31jb29raWUrPSdleHBpcmVzPScrbmV3IERhdGUoZXhwaXJlRGF0ZUluTWlsbGlzZWNvbmRzKS50b0dNVFN0cmluZygpOy8vTE9HLmRlYnVnKFwiU2V0dGluZyBjb29raWUgdG86IFwiICsgY29va2llKTtcbmRvYy5jb29raWU9Y29va2llO307LyoqIFRyeSB0byBkZWxldGUgY29va2llLCByZXR1cm4gZmFsc2UgaWYgaXQgZGlkbid0IHdvcmsgKi9Ccm93c2VyQm90LnByb3RvdHlwZS5fbWF5YmVEZWxldGVDb29raWU9ZnVuY3Rpb24oY29va2llTmFtZSxkb21haW4scGF0aCxkb2Mpe3RoaXMuZGVsZXRlQ29va2llKGNvb2tpZU5hbWUsZG9tYWluLHBhdGgsZG9jKTtyZXR1cm4hdGhpcy5nZXRDb29raWVCeU5hbWUoY29va2llTmFtZSxkb2MpO307QnJvd3NlckJvdC5wcm90b3R5cGUuX3JlY3Vyc2l2ZWx5RGVsZXRlQ29va2llRG9tYWlucz1mdW5jdGlvbihjb29raWVOYW1lLGRvbWFpbixwYXRoLGRvYyl7bGV0IGRlbGV0ZWQ9dGhpcy5fbWF5YmVEZWxldGVDb29raWUoY29va2llTmFtZSxkb21haW4scGF0aCxkb2MpO2lmKGRlbGV0ZWQpcmV0dXJuIHRydWU7bGV0IGRvdEluZGV4PWRvbWFpbi5pbmRleE9mKCcuJyk7aWYoZG90SW5kZXg9PTApe3JldHVybiB0aGlzLl9yZWN1cnNpdmVseURlbGV0ZUNvb2tpZURvbWFpbnMoY29va2llTmFtZSxkb21haW4uc3Vic3RyaW5nKDEpLHBhdGgsZG9jKTt9ZWxzZSBpZihkb3RJbmRleCE9LTEpe3JldHVybiB0aGlzLl9yZWN1cnNpdmVseURlbGV0ZUNvb2tpZURvbWFpbnMoY29va2llTmFtZSxkb21haW4uc3Vic3RyaW5nKGRvdEluZGV4KSxwYXRoLGRvYyk7fWVsc2V7Ly8gTm8gbW9yZSBkb3RzOyB0cnkganVzdCBub3QgcGFzc2luZyBpbiBhIGRvbWFpbiBhdCBhbGxcbnJldHVybiB0aGlzLl9tYXliZURlbGV0ZUNvb2tpZShjb29raWVOYW1lLG51bGwscGF0aCxkb2MpO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLl9yZWN1cnNpdmVseURlbGV0ZUNvb2tpZT1mdW5jdGlvbihjb29raWVOYW1lLGRvbWFpbixwYXRoLGRvYyl7bGV0IHNsYXNoSW5kZXg9cGF0aC5sYXN0SW5kZXhPZignLycpO2xldCBmaW5hbEluZGV4PXBhdGgubGVuZ3RoLTE7aWYoc2xhc2hJbmRleD09ZmluYWxJbmRleCl7c2xhc2hJbmRleC0tO31pZihzbGFzaEluZGV4IT0tMSl7Y29uc3QgZGVsZXRlZD10aGlzLl9yZWN1cnNpdmVseURlbGV0ZUNvb2tpZShjb29raWVOYW1lLGRvbWFpbixwYXRoLnN1YnN0cmluZygwLHNsYXNoSW5kZXgrMSksZG9jKTtpZihkZWxldGVkKXJldHVybiB0cnVlO31yZXR1cm4gdGhpcy5fcmVjdXJzaXZlbHlEZWxldGVDb29raWVEb21haW5zKGNvb2tpZU5hbWUsZG9tYWluLHBhdGgsZG9jKTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLnJlY3Vyc2l2ZWx5RGVsZXRlQ29va2llPWZ1bmN0aW9uKGNvb2tpZU5hbWUsZG9tYWluLHBhdGgsd2luKXtpZighd2luKXdpbj10aGlzLmdldEN1cnJlbnRXaW5kb3coKTtsZXQgZG9jPXdpbi5kb2N1bWVudDtpZighZG9tYWluKXtkb21haW49ZG9jLmRvbWFpbjt9aWYoIXBhdGgpe3BhdGg9d2luLmxvY2F0aW9uLnBhdGhuYW1lO31sZXQgZGVsZXRlZD10aGlzLl9yZWN1cnNpdmVseURlbGV0ZUNvb2tpZShjb29raWVOYW1lLCcuJytkb21haW4scGF0aCxkb2MpO2lmKGRlbGV0ZWQpcmV0dXJuOy8vIEZpbmFsbHkgdHJ5IGEgbnVsbCBwYXRoIChUcnkgaXQgbGFzdCBiZWNhdXNlIGl0J3MgdW5jb21tb24pXG5kZWxldGVkPXRoaXMuX3JlY3Vyc2l2ZWx5RGVsZXRlQ29va2llRG9tYWlucyhjb29raWVOYW1lLCcuJytkb21haW4sbnVsbCxkb2MpO2lmKGRlbGV0ZWQpcmV0dXJuO3Rocm93IG5ldyBTZWxlbml1bUVycm9yKFwiQ291bGRuJ3QgZGVsZXRlIGNvb2tpZSBcIitjb29raWVOYW1lKTt9Oy8qXG4gKiBGaW5kcyBhbiBlbGVtZW50IG9uIHRoZSBjdXJyZW50IHBhZ2UsIHVzaW5nIHZhcmlvdXMgbG9va3VwIHByb3RvY29sc1xuICovQnJvd3NlckJvdC5wcm90b3R5cGUuZmluZEVsZW1lbnRPck51bGw9ZnVuY3Rpb24obG9jYXRvcix3aW4pe2xvY2F0b3I9cGFyc2VfbG9jYXRvcihsb2NhdG9yKTtpZih3aW49PW51bGwpe3dpbj10aGlzLmdldEN1cnJlbnRXaW5kb3coKTt9bGV0IGVsZW1lbnQ9Ym90LmxvY2F0b3JzLmZpbmRFbGVtZW50KHtbbG9jYXRvci50eXBlXTpsb2NhdG9yLnN0cmluZ30sd2luLmRvY3VtZW50KTtlbGVtZW50PWNvcmUuZmlyZWZveC51bndyYXAoZWxlbWVudCk7Ly8gRWxlbWVudCB3YXMgbm90IGZvdW5kIGJ5IGFueSBsb2NhdG9yIGZ1bmN0aW9uLlxucmV0dXJuIGVsZW1lbnQ7fTtCcm93c2VyQm90LnByb3RvdHlwZS5maW5kRWxlbWVudD1mdW5jdGlvbihsb2NhdG9yLHdpbil7bGV0IGVsZW1lbnQ9dGhpcy5maW5kRWxlbWVudE9yTnVsbChsb2NhdG9yLHdpbik7aWYoZWxlbWVudD09bnVsbCl0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcignRWxlbWVudCAnK2xvY2F0b3IrJyBub3QgZm91bmQnKTtyZXR1cm4gY29yZS5maXJlZm94LnVud3JhcChlbGVtZW50KTt9Oy8qKlxuICogRmluZHMgYSBsaXN0IG9mIGVsZW1lbnRzIHVzaW5nIHRoZSBzYW1lIG1lY2hhbmlzbSBhcyB3ZWJkcml2ZXIuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGhvdyBUaGUgZmluZGluZyBtZWNoYW5pc20gdG8gdXNlLlxuICogQHBhcmFtIHtzdHJpbmd9IHVzaW5nIFRoZSBzZWxlY3RvciB0byB1c2UuXG4gKiBAcGFyYW0ge0RvY3VtZW50fEVsZW1lbnR9IHJvb3QgVGhlIHJvb3Qgb2YgdGhlIHNlYXJjaCBwYXRoLlxuICovQnJvd3NlckJvdC5wcm90b3R5cGUuZmluZEVsZW1lbnRzTGlrZVdlYkRyaXZlcj1mdW5jdGlvbihob3csdXNpbmcscm9vdCl7bGV0IGJ5PXt9O2J5W2hvd109dXNpbmc7bGV0IGFsbD1ib3QubG9jYXRvcnMuZmluZEVsZW1lbnRzKGJ5LHJvb3QpO2xldCB0b1JldHVybj0nJztmb3IobGV0IGk9MDtpPGFsbC5sZW5ndGgtMTtpKyspe3RvUmV0dXJuKz1ib3QuaW5qZWN0LmNhY2hlLmFkZEVsZW1lbnQoY29yZS5maXJlZm94LnVud3JhcChhbGxbaV0pKSsnLCc7fWlmKGFsbFthbGwubGVuZ3RoLTFdKXt0b1JldHVybis9Ym90LmluamVjdC5jYWNoZS5hZGRFbGVtZW50KGNvcmUuZmlyZWZveC51bndyYXAoYWxsW2FsbC5sZW5ndGgtMV0pKTt9cmV0dXJuIHRvUmV0dXJuO307LyoqXG4gKiBJbiBub24tSUUgYnJvd3NlcnMsIGdldEVsZW1lbnRCeUlkKCkgZG9lcyBub3Qgc2VhcmNoIGJ5IG5hbWUuICBJbnN0ZWFkLCB3ZVxuICogd2Ugc2VhcmNoIHNlcGFyYXRlbHkgYnkgaWQgYW5kIG5hbWUuXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5sb2NhdGVFbGVtZW50QnlJZGVudGlmaWVyPWZ1bmN0aW9uKGlkZW50aWZpZXIsaW5Eb2N1bWVudCxpbldpbmRvdyl7Ly8gSEJDIC0gdXNlIFwidGhpc1wiIGluc3RlYWQgb2YgXCJCcm93c2VyQm90LnByb3RvdHlwZVwiOyBvdGhlcndpc2Ugd2UgbG9zZVxuLy8gdGhlIG5vbi1wcm90b3R5cGUgZmllbGRzIG9mIHRoZSBvYmplY3QhXG5yZXR1cm4gdGhpcy5sb2NhdGVFbGVtZW50QnlJZChpZGVudGlmaWVyLGluRG9jdW1lbnQsaW5XaW5kb3cpfHxCcm93c2VyQm90LnByb3RvdHlwZS5sb2NhdGVFbGVtZW50QnlOYW1lKGlkZW50aWZpZXIsaW5Eb2N1bWVudCxpbldpbmRvdyl8fG51bGw7fTsvKipcbiAqIEZpbmQgdGhlIGVsZW1lbnQgd2l0aCBpZCAtIGNhbid0IHJlbHkgb24gZ2V0RWxlbWVudEJ5SWQsIGNveiBpdCByZXR1cm5zIGJ5IG5hbWUgYXMgd2VsbCBpbiBJRS4uXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5sb2NhdGVFbGVtZW50QnlJZD1mdW5jdGlvbihpZGVudGlmaWVyLGluRG9jdW1lbnQpe2xldCBlbGVtZW50PWluRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRlbnRpZmllcik7aWYoZWxlbWVudCYmZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJyk9PT1pZGVudGlmaWVyKXtyZXR1cm4gZWxlbWVudDt9ZWxzZSBpZihicm93c2VyVmVyc2lvbi5pc0lFfHxicm93c2VyVmVyc2lvbi5pc09wZXJhKXsvLyBTRUwtNDg0XG5sZXQgZWxlbWVudHM9aW5Eb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpO2ZvcihsZXQgaT0wLG49ZWxlbWVudHMubGVuZ3RoO2k8bjsrK2kpe2VsZW1lbnQ9ZWxlbWVudHNbaV07aWYoZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSdmb3JtJyl7aWYoZWxlbWVudC5hdHRyaWJ1dGVzWydpZCddLm5vZGVWYWx1ZT09aWRlbnRpZmllcil7cmV0dXJuIGVsZW1lbnQ7fX1lbHNlIGlmKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpZCcpPT1pZGVudGlmaWVyKXtyZXR1cm4gZWxlbWVudDt9fXJldHVybiBudWxsO31lbHNle3JldHVybiBudWxsO319Oy8qKlxuICogRmluZCBhbiBlbGVtZW50IGJ5IG5hbWUsIHJlZmluZWQgYnkgKG9wdGlvbmFsKSBlbGVtZW50LWZpbHRlclxuICogZXhwcmVzc2lvbnMuXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5sb2NhdGVFbGVtZW50QnlOYW1lPWZ1bmN0aW9uKGxvY2F0b3IsZG9jdW1lbnQpe2xldCBlbGVtZW50cz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpOy8vVW5uYW1lZFdpbklGcmFtZUV4dCwgSmllLUxpbiBZb3UsIFNFTEFCLCBDU0lFLCBOQ0tVLCAyMDE2LzExLzIzXG4vKlxuICAgICAgICB2YXIgZmlsdGVycyA9IGxvY2F0b3Iuc3BsaXQoJyAnKTtcbiAgICAgICAgZmlsdGVyc1swXSA9ICduYW1lPScgKyBmaWx0ZXJzWzBdO1xuXG4gICAgICAgIHdoaWxlIChmaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGZpbHRlciA9IGZpbHRlcnMuc2hpZnQoKTtcbiAgICAgICAgICAgIGVsZW1lbnRzID0gdGhpcy5zZWxlY3RFbGVtZW50cyhmaWx0ZXIsIGVsZW1lbnRzLCAndmFsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICAqL2xldCBmaWx0ZXI9J25hbWU9Jytsb2NhdG9yO2VsZW1lbnRzPXRoaXMuc2VsZWN0RWxlbWVudHMoZmlsdGVyLGVsZW1lbnRzLCd2YWx1ZScpO2lmKGVsZW1lbnRzLmxlbmd0aD4wKXtyZXR1cm4gZWxlbWVudHNbMF07fXJldHVybiBudWxsO307LyoqXG4gKiBGaW5kcyBhbiBlbGVtZW50IHVzaW5nIGJ5IGV2YWx1YXRpbmcgdGhlIHNwZWNmaWVkIHN0cmluZy5cbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeURvbVRyYXZlcnNhbD1mdW5jdGlvbihkb21UcmF2ZXJzYWwpe2xldCBlbGVtZW50PW51bGw7Ly9FdmFsaW5zYW5kYm94XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbmxldCBteVNhbmRib3g9bmV3IENvbXBvbmVudHMudXRpbHMuU2FuZGJveCh0aGlzLmN1cnJlbnRXaW5kb3cubG9jYXRpb24uaHJlZik7bXlTYW5kYm94LmRvbVRyYXZlcnNhbD1kb21UcmF2ZXJzYWw7dHJ5ey8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuZWxlbWVudD1Db21wb25lbnRzLnV0aWxzLmV2YWxJblNhbmRib3goZG9tVHJhdmVyc2FsLG15U2FuZGJveCk7Ly9lbGVtZW50ID0gZXZhbChkb21UcmF2ZXJzYWwpO1xufWNhdGNoKGUpe3JldHVybiBudWxsO31pZighZWxlbWVudCl7cmV0dXJuIG51bGw7fXJldHVybiBlbGVtZW50O307QnJvd3NlckJvdC5wcm90b3R5cGUubG9jYXRlRWxlbWVudEJ5RG9tVHJhdmVyc2FsLnByZWZpeD0nZG9tJztCcm93c2VyQm90LnByb3RvdHlwZS5sb2NhdGVFbGVtZW50QnlTdG9yZWRSZWZlcmVuY2U9ZnVuY3Rpb24obG9jYXRvcil7dHJ5e3JldHVybiBjb3JlLmxvY2F0b3JzLmZpbmRFbGVtZW50KCdzdG9yZWQ9Jytsb2NhdG9yKTt9Y2F0Y2goZSl7cmV0dXJuIG51bGw7fX07QnJvd3NlckJvdC5wcm90b3R5cGUubG9jYXRlRWxlbWVudEJ5U3RvcmVkUmVmZXJlbmNlLnByZWZpeD0nc3RvcmVkJztCcm93c2VyQm90LnByb3RvdHlwZS5sb2NhdGVFbGVtZW50QnlXZWJEcml2ZXI9ZnVuY3Rpb24obG9jYXRvcil7dHJ5e3JldHVybiBjb3JlLmxvY2F0b3JzLmZpbmRFbGVtZW50KCd3ZWJkcml2ZXI9Jytsb2NhdG9yKTt9Y2F0Y2goZSl7cmV0dXJuIG51bGw7fX07QnJvd3NlckJvdC5wcm90b3R5cGUubG9jYXRlRWxlbWVudEJ5V2ViRHJpdmVyLnByZWZpeD0nd2ViZHJpdmVyJzsvKipcbiAqIEZpbmRzIGFuIGVsZW1lbnQgaWRlbnRpZmllZCBieSB0aGUgeHBhdGggZXhwcmVzc2lvbi4gRXhwcmVzc2lvbnMgX211c3RfXG4gKiBiZWdpbiB3aXRoIFwiLy9cIi5cbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeVhQYXRoPWZ1bmN0aW9uKHhwYXRoLGluRG9jdW1lbnQpe3JldHVybiB0aGlzLnhwYXRoRXZhbHVhdG9yLnNlbGVjdFNpbmdsZU5vZGUoaW5Eb2N1bWVudCx4cGF0aCxudWxsLGluRG9jdW1lbnQuY3JlYXRlTlNSZXNvbHZlcj9pbkRvY3VtZW50LmNyZWF0ZU5TUmVzb2x2ZXIoaW5Eb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpOnRoaXMuX25hbWVzcGFjZVJlc29sdmVyKTt9Oy8qKlxuICogRmluZCBtYW55IGVsZW1lbnRzIHVzaW5nIHhwYXRoLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB4cGF0aCBYUGF0aCBleHByZXNzaW9uIHRvIHNlYXJjaCBmb3IuXG4gKiBAcGFyYW0gez1Eb2N1bWVudH0gaW5Eb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gc2VhcmNoIGluLlxuICogQHBhcmFtIHs9V2luZG93fSBpbldpbmRvdyBUaGUgd2luZG93IHRoZSBkb2N1bWVudCBpcyBpbi5cbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRzQnlYUGF0aD1mdW5jdGlvbih4cGF0aCxpbkRvY3VtZW50KXtyZXR1cm4gdGhpcy54cGF0aEV2YWx1YXRvci5zZWxlY3ROb2RlcyhpbkRvY3VtZW50LHhwYXRoLG51bGwsaW5Eb2N1bWVudC5jcmVhdGVOU1Jlc29sdmVyP2luRG9jdW1lbnQuY3JlYXRlTlNSZXNvbHZlcihpbkRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk6dGhpcy5fbmFtZXNwYWNlUmVzb2x2ZXIpO307QnJvd3NlckJvdC5wcm90b3R5cGUuX25hbWVzcGFjZVJlc29sdmVyPWZ1bmN0aW9uKHByZWZpeCl7aWYocHJlZml4PT0naHRtbCd8fHByZWZpeD09J3hodG1sJ3x8cHJlZml4PT0neCcpe3JldHVybidodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJzt9ZWxzZSBpZihwcmVmaXg9PSdtYXRobWwnKXtyZXR1cm4naHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCc7fWVsc2UgaWYocHJlZml4PT0nc3ZnJyl7cmV0dXJuJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJzt9ZWxzZXt0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbmFtZXNwYWNlOiAnK3ByZWZpeCsnLicpO319Oy8qKlxuICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHhwYXRoIHJlc3VsdHMuXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5ldmFsdWF0ZVhQYXRoQ291bnQ9ZnVuY3Rpb24oc2VsZWN0b3IsaW5Eb2N1bWVudCl7bGV0IGxvY2F0b3I9cGFyc2VfbG9jYXRvcihzZWxlY3Rvcik7aWYobG9jYXRvci50eXBlPT0neHBhdGgnfHxsb2NhdG9yLnR5cGU9PSdpbXBsaWNpdCcpe3JldHVybiBib3QubG9jYXRvcnMuZmluZEVsZW1lbnRzKHt4cGF0aDpsb2NhdG9yLnN0cmluZ30saW5Eb2N1bWVudCkubGVuZ3RoO31lbHNley8vTE9HLmVycm9yKFwiTG9jYXRvciBkb2VzIG5vdCB1c2UgWFBhdGggc3RyYXRlZ3k6IFwiICsgc2VsZWN0b3IpO1xucmV0dXJuIDA7fX07LyoqXG4gKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgY3NzIHJlc3VsdHMuXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5ldmFsdWF0ZUNzc0NvdW50PWZ1bmN0aW9uKHNlbGVjdG9yLGluRG9jdW1lbnQpe2xldCBsb2NhdG9yPXBhcnNlX2xvY2F0b3Ioc2VsZWN0b3IpO2lmKGxvY2F0b3IudHlwZT09J2Nzcyd8fGxvY2F0b3IudHlwZT09J2ltcGxpY2l0Jyl7cmV0dXJuIGJvdC5sb2NhdG9ycy5maW5kRWxlbWVudHMoe2Nzczpsb2NhdG9yLnN0cmluZ30saW5Eb2N1bWVudCkubGVuZ3RoO31lbHNley8vTE9HLmVycm9yKFwiTG9jYXRvciBkb2VzIG5vdCB1c2UgQ1NTIHN0cmF0ZWd5OiBcIiArIHNlbGVjdG9yKTtcbnJldHVybiAwO319Oy8qKlxuICogRmluZHMgYSBsaW5rIGVsZW1lbnQgd2l0aCB0ZXh0IG1hdGNoaW5nIHRoZSBleHByZXNzaW9uIHN1cHBsaWVkLiBFeHByZXNzaW9ucyBtdXN0XG4gKiBiZWdpbiB3aXRoIFwibGluazpcIi5cbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmxvY2F0ZUVsZW1lbnRCeUxpbmtUZXh0PWZ1bmN0aW9uKGxpbmtUZXh0LGluRG9jdW1lbnQpe2xldCBsaW5rcz1pbkRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJyk7Zm9yKGxldCBpPTA7aTxsaW5rcy5sZW5ndGg7aSsrKXtsZXQgZWxlbWVudD1saW5rc1tpXTtpZihQYXR0ZXJuTWF0Y2hlci5tYXRjaGVzKGxpbmtUZXh0LGJvdC5kb20uZ2V0VmlzaWJsZVRleHQoZWxlbWVudCkpKXtyZXR1cm4gZWxlbWVudDt9fXJldHVybiBudWxsO307QnJvd3NlckJvdC5wcm90b3R5cGUubG9jYXRlRWxlbWVudEJ5TGlua1RleHQucHJlZml4PSdsaW5rJzsvKipcbiAqIFJldHVybnMgYW4gYXR0cmlidXRlIGJhc2VkIG9uIGFuIGF0dHJpYnV0ZSBsb2NhdG9yLiBUaGlzIGlzIG1hZGUgdXAgb2YgYW4gZWxlbWVudCBsb2NhdG9yXG4gKiBzdWZmaXhlZCB3aXRoIEBhdHRyaWJ1dGUtbmFtZS5cbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmZpbmRBdHRyaWJ1dGU9ZnVuY3Rpb24obG9jYXRvcil7Ly8gU3BsaXQgaW50byBsb2NhdG9yICsgYXR0cmlidXRlTmFtZVxubGV0IGF0dHJpYnV0ZVBvcz1sb2NhdG9yLmxhc3RJbmRleE9mKCdAJyk7bGV0IGVsZW1lbnRMb2NhdG9yPWxvY2F0b3Iuc2xpY2UoMCxhdHRyaWJ1dGVQb3MpO2xldCBhdHRyaWJ1dGVOYW1lPWxvY2F0b3Iuc2xpY2UoYXR0cmlidXRlUG9zKzEpOy8vIEZpbmQgdGhlIGVsZW1lbnQuXG5sZXQgZWxlbWVudD10aGlzLmZpbmRFbGVtZW50KGVsZW1lbnRMb2NhdG9yKTtsZXQgYXR0cmlidXRlVmFsdWU9Ym90LmRvbS5nZXRBdHRyaWJ1dGUoZWxlbWVudCxhdHRyaWJ1dGVOYW1lKTtyZXR1cm4gZ29vZy5pc0RlZkFuZE5vdE51bGwoYXR0cmlidXRlVmFsdWUpP2F0dHJpYnV0ZVZhbHVlLnRvU3RyaW5nKCk6bnVsbDt9Oy8qXG4gKiBTZWxlY3QgdGhlIHNwZWNpZmllZCBvcHRpb24gYW5kIHRyaWdnZXIgdGhlIHJlbGV2YW50IGV2ZW50cyBvZiB0aGUgZWxlbWVudC5cbiAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLnNlbGVjdE9wdGlvbj1mdW5jdGlvbihlbGVtZW50LG9wdGlvblRvU2VsZWN0KXtib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxib3QuZXZlbnRzLkV2ZW50VHlwZS5GT0NVUyk7bGV0IGNoYW5nZWQ9ZmFsc2U7Zm9yKGxldCBpPTA7aTxlbGVtZW50Lm9wdGlvbnMubGVuZ3RoO2krKyl7bGV0IG9wdGlvbj1lbGVtZW50Lm9wdGlvbnNbaV07aWYob3B0aW9uLnNlbGVjdGVkJiZvcHRpb24hPW9wdGlvblRvU2VsZWN0KXtvcHRpb24uc2VsZWN0ZWQ9ZmFsc2U7Y2hhbmdlZD10cnVlO31lbHNlIGlmKCFvcHRpb24uc2VsZWN0ZWQmJm9wdGlvbj09b3B0aW9uVG9TZWxlY3Qpe29wdGlvbi5zZWxlY3RlZD10cnVlO2NoYW5nZWQ9dHJ1ZTt9fWlmKGNoYW5nZWQpe2JvdC5ldmVudHMuZmlyZShlbGVtZW50LGJvdC5ldmVudHMuRXZlbnRUeXBlLkNIQU5HRSk7fX07LypcbiAqIFNlbGVjdCB0aGUgc3BlY2lmaWVkIG9wdGlvbiBhbmQgdHJpZ2dlciB0aGUgcmVsZXZhbnQgZXZlbnRzIG9mIHRoZSBlbGVtZW50LlxuICovQnJvd3NlckJvdC5wcm90b3R5cGUuYWRkU2VsZWN0aW9uPWZ1bmN0aW9uKGVsZW1lbnQsb3B0aW9uKXt0aGlzLmNoZWNrTXVsdGlzZWxlY3QoZWxlbWVudCk7Ym90LmV2ZW50cy5maXJlKGVsZW1lbnQsYm90LmV2ZW50cy5FdmVudFR5cGUuRk9DVVMpO2lmKCFvcHRpb24uc2VsZWN0ZWQpe29wdGlvbi5zZWxlY3RlZD10cnVlO2JvdC5ldmVudHMuZmlyZShlbGVtZW50LGJvdC5ldmVudHMuRXZlbnRUeXBlLkNIQU5HRSk7fX07LypcbiAqIFNlbGVjdCB0aGUgc3BlY2lmaWVkIG9wdGlvbiBhbmQgdHJpZ2dlciB0aGUgcmVsZXZhbnQgZXZlbnRzIG9mIHRoZSBlbGVtZW50LlxuICovQnJvd3NlckJvdC5wcm90b3R5cGUucmVtb3ZlU2VsZWN0aW9uPWZ1bmN0aW9uKGVsZW1lbnQsb3B0aW9uKXt0aGlzLmNoZWNrTXVsdGlzZWxlY3QoZWxlbWVudCk7Ym90LmV2ZW50cy5maXJlKGVsZW1lbnQsYm90LmV2ZW50cy5FdmVudFR5cGUuRk9DVVMpO2lmKG9wdGlvbi5zZWxlY3RlZCl7b3B0aW9uLnNlbGVjdGVkPWZhbHNlO2JvdC5ldmVudHMuZmlyZShlbGVtZW50LGJvdC5ldmVudHMuRXZlbnRUeXBlLkNIQU5HRSk7fX07QnJvd3NlckJvdC5wcm90b3R5cGUuY2hlY2tNdWx0aXNlbGVjdD1mdW5jdGlvbihlbGVtZW50KXtpZighZWxlbWVudC5tdWx0aXBsZSl7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ05vdCBhIG11bHRpLXNlbGVjdCcpO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLnJlcGxhY2VUZXh0PWZ1bmN0aW9uKGVsZW1lbnQsc3RyaW5nVmFsdWUpe2JvdC5ldmVudHMuZmlyZShlbGVtZW50LGJvdC5ldmVudHMuRXZlbnRUeXBlLkZPQ1VTKTtib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxib3QuZXZlbnRzLkV2ZW50VHlwZS5TRUxFQ1QpO2xldCBtYXhMZW5ndGhBdHRyPWVsZW1lbnQuZ2V0QXR0cmlidXRlKCdtYXhMZW5ndGgnKTtsZXQgYWN0dWFsVmFsdWU9c3RyaW5nVmFsdWU7aWYobWF4TGVuZ3RoQXR0ciE9bnVsbCl7bGV0IG1heExlbmd0aD1wYXJzZUludChtYXhMZW5ndGhBdHRyKTtpZihzdHJpbmdWYWx1ZS5sZW5ndGg+bWF4TGVuZ3RoKXthY3R1YWxWYWx1ZT1zdHJpbmdWYWx1ZS5zdWJzdHIoMCxtYXhMZW5ndGgpO319aWYoZ2V0VGFnTmFtZShlbGVtZW50KT09J2JvZHknKXtpZihlbGVtZW50Lm93bmVyRG9jdW1lbnQmJmVsZW1lbnQub3duZXJEb2N1bWVudC5kZXNpZ25Nb2RlKXtsZXQgZGVzaWduTW9kZT1uZXcgU3RyaW5nKGVsZW1lbnQub3duZXJEb2N1bWVudC5kZXNpZ25Nb2RlKS50b0xvd2VyQ2FzZSgpO2lmKGRlc2lnbk1vZGU9PSdvbicpey8vIHRoaXMgbXVzdCBiZSBhIHJpY2ggdGV4dCBjb250cm9sIVxuZWxlbWVudC5pbm5lckhUTUw9YWN0dWFsVmFsdWU7fX19ZWxzZXtlbGVtZW50LnZhbHVlPWFjdHVhbFZhbHVlO30vLyBER0YgdGhpcyB1c2VkIHRvIGJlIHNraXBwZWQgaW4gY2hyb21lIFVSTHMsIGJ1dCBubyBsb25nZXIuICBJcyB4cGNuYXRpdmV3cmFwcGVycyB0byBibGFtZT9cbnRyeXtib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxib3QuZXZlbnRzLkV2ZW50VHlwZS5DSEFOR0UpO31jYXRjaChlKXt9Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxufTtCcm93c2VyQm90LnByb3RvdHlwZS5jbGlja0VsZW1lbnQ9ZnVuY3Rpb24oZWxlbWVudCxjbGllbnRYLGNsaWVudFkpe3RoaXMuX2ZpcmVFdmVudE9uRWxlbWVudCgnY2xpY2snLGVsZW1lbnQsY2xpZW50WCxjbGllbnRZKTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmRvdWJsZUNsaWNrRWxlbWVudD1mdW5jdGlvbihlbGVtZW50LGNsaWVudFgsY2xpZW50WSl7dGhpcy5fZmlyZUV2ZW50T25FbGVtZW50KCdkYmxjbGljaycsZWxlbWVudCxjbGllbnRYLGNsaWVudFkpO307Ly8gVGhlIGNvbnRleHRtZW51IGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIHVzZXIgcmlnaHQtY2xpY2tzIHRvIG9wZW4gdGhlIGNvbnRleHQgbWVudVxuQnJvd3NlckJvdC5wcm90b3R5cGUuY29udGV4dE1lbnVPbkVsZW1lbnQ9ZnVuY3Rpb24oZWxlbWVudCxjbGllbnRYLGNsaWVudFkpe3RoaXMuX2ZpcmVFdmVudE9uRWxlbWVudCgnY29udGV4dG1lbnUnLGVsZW1lbnQsY2xpZW50WCxjbGllbnRZKTt9Oy8vVW5uYW1lZFdpbklGcmFtZUV4dCwgSmllLUxpbiBZb3UsIFNFTEFCLCBDU0lFLCBOQ0tVLCAyMDE2LzA1LzI2XG4vL1VubmFtZWRXaW5JRnJhbWVFeHQsIEppZS1MaW4gWW91LCBTRUxBQiwgQ1NJRSwgTkNLVSwgMjAxNi8xMS8xN1xuQnJvd3NlckJvdC5wcm90b3R5cGUuX21vZGlmeUVsZW1lbnRUYXJnZXQ9ZnVuY3Rpb24oZSl7bGV0IGVsZW1lbnQ9dGhpcy5maW5kQ2xpY2thYmxlRWxlbWVudChlKXx8ZTtpZihlbGVtZW50LnRhcmdldCl7aWYoZWxlbWVudC50YXJnZXQ9PSdfYmxhbmsnfHwvXnNlbGVuaXVtX2JsYW5rLy50ZXN0KGVsZW1lbnQudGFyZ2V0KSl7bGV0IHRhZ05hbWU9Z2V0VGFnTmFtZShlbGVtZW50KTtpZih0YWdOYW1lPT0nYSd8fHRhZ05hbWU9PSdmb3JtJyl7Y29uc3QgbmV3VGFyZ2V0PSd3aW5fc2VyXycrdGhpcy5jb3VudDt0aGlzLmNvdW50Kz0xO3RoaXMuYnJvd3NlcmJvdC5vcGVuV2luZG93KCcnLG5ld1RhcmdldCk7ZWxlbWVudC50YXJnZXQ9bmV3VGFyZ2V0O319ZWxzZXtjb25zdCBuZXdUYXJnZXQ9ZWxlbWVudC50YXJnZXQ7dGhpcy5icm93c2VyYm90Lm9wZW5XaW5kb3coJycsbmV3VGFyZ2V0KTtlbGVtZW50LnRhcmdldD1uZXdUYXJnZXQ7fX19Oy8vVW5uYW1lZFdpbklGcmFtZUV4dCwgSmllLUxpbiBZb3UsIFNFTEFCLCBDU0lFLCBOQ0tVLCAyMDE2LzExLzE3XG5Ccm93c2VyQm90LnByb3RvdHlwZS5maW5kQ2xpY2thYmxlRWxlbWVudD1mdW5jdGlvbihlKXtpZighZS50YWdOYW1lKXJldHVybiBudWxsO2xldCB0YWdOYW1lPWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpO2xldCB0eXBlPWUudHlwZTtpZihlLmhhc0F0dHJpYnV0ZSgnb25jbGljaycpfHxlLmhhc0F0dHJpYnV0ZSgnaHJlZicpfHxlLmhhc0F0dHJpYnV0ZSgndXJsJyl8fHRhZ05hbWU9PSdidXR0b24nfHx0YWdOYW1lPT0naW5wdXQnJiYodHlwZT09J3N1Ym1pdCd8fHR5cGU9PSdidXR0b24nfHx0eXBlPT0naW1hZ2UnfHx0eXBlPT0ncmFkaW8nfHx0eXBlPT0nY2hlY2tib3gnfHx0eXBlPT0ncmVzZXQnKSl7cmV0dXJuIGU7fWVsc2V7aWYoZS5wYXJlbnROb2RlIT1udWxsKXtyZXR1cm4gdGhpcy5maW5kQ2xpY2thYmxlRWxlbWVudChlLnBhcmVudE5vZGUpO31lbHNle3JldHVybiBudWxsO319fTtCcm93c2VyQm90LnByb3RvdHlwZS5faGFuZGxlQ2xpY2tpbmdJbWFnZXNJbnNpZGVMaW5rcz1mdW5jdGlvbih0YXJnZXRXaW5kb3csZWxlbWVudCl7bGV0IGl0ckVsZW1lbnQ9ZWxlbWVudDt3aGlsZShpdHJFbGVtZW50IT1udWxsKXtpZihpdHJFbGVtZW50LmhyZWYpe3RhcmdldFdpbmRvdy5sb2NhdGlvbi5ocmVmPWl0ckVsZW1lbnQuaHJlZjticmVhazt9aXRyRWxlbWVudD1pdHJFbGVtZW50LnBhcmVudE5vZGU7fX07QnJvd3NlckJvdC5wcm90b3R5cGUuX2dldFRhcmdldFdpbmRvdz1mdW5jdGlvbihlbGVtZW50KXtsZXQgdGFyZ2V0V2luZG93PWVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztpZihlbGVtZW50LnRhcmdldCl7dGFyZ2V0V2luZG93PXRoaXMuX2dldEZyYW1lRnJvbUdsb2JhbChlbGVtZW50LnRhcmdldCk7fXJldHVybiB0YXJnZXRXaW5kb3c7fTtCcm93c2VyQm90LnByb3RvdHlwZS5fZ2V0RnJhbWVGcm9tR2xvYmFsPWZ1bmN0aW9uKHRhcmdldCl7aWYodGFyZ2V0PT0nX3NlbGYnKXtyZXR1cm4gdGhpcy5nZXRDdXJyZW50V2luZG93KCk7fWlmKHRhcmdldD09J190b3AnKXtyZXR1cm4gdGhpcy50b3BGcmFtZTt9ZWxzZSBpZih0YXJnZXQ9PSdfcGFyZW50Jyl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudFdpbmRvdygpLnBhcmVudDt9ZWxzZSBpZih0YXJnZXQ9PSdfYmxhbmsnKXsvLyBUT0RPIHNob3VsZCB0aGlzIHNldCBjbGV2ZXJlciB3aW5kb3cgZGVmYXVsdHM/XG5yZXR1cm4gdGhpcy5nZXRDdXJyZW50V2luZG93KCkub3BlbignJywnX2JsYW5rJyk7fWxldCBmcmFtZUVsZW1lbnQ9dGhpcy5maW5kRWxlbWVudEJ5KCdpbXBsaWNpdCcsdGFyZ2V0LHRoaXMudG9wRnJhbWUuZG9jdW1lbnQsdGhpcy50b3BGcmFtZSk7aWYoZnJhbWVFbGVtZW50KXtyZXR1cm4gZnJhbWVFbGVtZW50LmNvbnRlbnRXaW5kb3c7fWxldCB3aW49dGhpcy5nZXRXaW5kb3dCeU5hbWUodGFyZ2V0KTtpZih3aW4pcmV0dXJuIHdpbjtyZXR1cm4gdGhpcy5nZXRDdXJyZW50V2luZG93KCkub3BlbignJyx0YXJnZXQpO307QnJvd3NlckJvdC5wcm90b3R5cGUuYm9keVRleHQ9ZnVuY3Rpb24oKXtpZighdGhpcy5nZXREb2N1bWVudCgpLmJvZHkpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKFwiQ291bGRuJ3QgYWNjZXNzIGRvY3VtZW50LmJvZHkuICBJcyB0aGlzIEhUTUwgcGFnZSBmdWxseSBsb2FkZWQ/XCIpO31yZXR1cm4gYm90LmRvbS5nZXRWaXNpYmxlVGV4dCh0aGlzLmdldERvY3VtZW50KCkuYm9keSk7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXRBbGxCdXR0b25zPWZ1bmN0aW9uKCl7bGV0IGVsZW1lbnRzPXRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKTtsZXQgcmVzdWx0PVtdO2ZvcihsZXQgaT0wO2k8ZWxlbWVudHMubGVuZ3RoO2krKyl7aWYoZWxlbWVudHNbaV0udHlwZT09J2J1dHRvbid8fGVsZW1lbnRzW2ldLnR5cGU9PSdzdWJtaXQnfHxlbGVtZW50c1tpXS50eXBlPT0ncmVzZXQnKXtyZXN1bHQucHVzaChlbGVtZW50c1tpXS5pZCk7fX1yZXR1cm4gcmVzdWx0O307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0QWxsRmllbGRzPWZ1bmN0aW9uKCl7bGV0IGVsZW1lbnRzPXRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKTtsZXQgcmVzdWx0PVtdO2ZvcihsZXQgaT0wO2k8ZWxlbWVudHMubGVuZ3RoO2krKyl7aWYoZWxlbWVudHNbaV0udHlwZT09J3RleHQnKXtyZXN1bHQucHVzaChlbGVtZW50c1tpXS5pZCk7fX1yZXR1cm4gcmVzdWx0O307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0QWxsTGlua3M9ZnVuY3Rpb24oKXtsZXQgZWxlbWVudHM9dGhpcy5nZXREb2N1bWVudCgpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJyk7bGV0IHJlc3VsdD1bXTtmb3IobGV0IGk9MDtpPGVsZW1lbnRzLmxlbmd0aDtpKyspe3Jlc3VsdC5wdXNoKGVsZW1lbnRzW2ldLmlkKTt9cmV0dXJuIHJlc3VsdDt9O2Z1bmN0aW9uIGlzRGVmaW5lZCh2YWx1ZSl7cmV0dXJuIHR5cGVvZiB2YWx1ZSE9dW5kZWZpbmVkO31Ccm93c2VyQm90LnByb3RvdHlwZS5nb0JhY2s9ZnVuY3Rpb24oKXt0aGlzLmdldEN1cnJlbnRXaW5kb3coKS5oaXN0b3J5LmJhY2soKTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmdvRm9yd2FyZD1mdW5jdGlvbigpe3RoaXMuZ2V0Q3VycmVudFdpbmRvdygpLmhpc3RvcnkuZm9yd2FyZCgpO307QnJvd3NlckJvdC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtpZihicm93c2VyVmVyc2lvbi5pc0lFKXsvLyBmaXggXCJkbyB5b3Ugd2FudCB0byBjbG9zZSB0aGlzIHdpbmRvd1wiIHdhcm5pbmcgaW4gSUVcbi8vIFlvdSBjYW4gb25seSBjbG9zZSB3aW5kb3dzIHRoYXQgeW91IGhhdmUgb3BlbmVkLlxuLy8gU28sIGxldCdzIFwib3BlblwiIGl0LlxudHJ5e3RoaXMudG9wRnJhbWUubmFtZT1uZXcgRGF0ZSgpLmdldFRpbWUoKTt3aW5kb3cub3BlbignJyx0aGlzLnRvcEZyYW1lLm5hbWUsJycpO3RoaXMudG9wRnJhbWUuY2xvc2UoKTtyZXR1cm47fWNhdGNoKGUpe30vLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XG59aWYoYnJvd3NlclZlcnNpb24uaXNDaHJvbWV8fGJyb3dzZXJWZXJzaW9uLmlzU2FmYXJpfHxicm93c2VyVmVyc2lvbi5pc09wZXJhKXt0aGlzLnRvcEZyYW1lLmNsb3NlKCk7fWVsc2V7dGhpcy5nZXRDdXJyZW50V2luZG93KCkuZXZhbCgnd2luZG93LnRvcC5jbG9zZSgpOycpO319O0Jyb3dzZXJCb3QucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt0aGlzLmdldEN1cnJlbnRXaW5kb3coKS5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7fTsvKipcbiAqIFJlZmluZSBhIGxpc3Qgb2YgZWxlbWVudHMgdXNpbmcgYSBmaWx0ZXIuXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5zZWxlY3RFbGVtZW50c0J5PWZ1bmN0aW9uKGZpbHRlclR5cGUsZmlsdGVyLGVsZW1lbnRzKXtsZXQgZmlsdGVyRnVuY3Rpb249QnJvd3NlckJvdC5maWx0ZXJGdW5jdGlvbnNbZmlsdGVyVHlwZV07aWYoIWZpbHRlckZ1bmN0aW9uKXt0aHJvdyBuZXcgU2VsZW5pdW1FcnJvcihcIlVucmVjb2duaXNlZCBlbGVtZW50LWZpbHRlciB0eXBlOiAnXCIrZmlsdGVyVHlwZStcIidcIik7fXJldHVybiBmaWx0ZXJGdW5jdGlvbihmaWx0ZXIsZWxlbWVudHMpO307QnJvd3NlckJvdC5maWx0ZXJGdW5jdGlvbnM9e307QnJvd3NlckJvdC5maWx0ZXJGdW5jdGlvbnMubmFtZT1mdW5jdGlvbihuYW1lLGVsZW1lbnRzKXtsZXQgc2VsZWN0ZWRFbGVtZW50cz1bXTtmb3IobGV0IGk9MDtpPGVsZW1lbnRzLmxlbmd0aDtpKyspe2lmKGVsZW1lbnRzW2ldLm5hbWU9PT1uYW1lKXtzZWxlY3RlZEVsZW1lbnRzLnB1c2goZWxlbWVudHNbaV0pO319cmV0dXJuIHNlbGVjdGVkRWxlbWVudHM7fTtCcm93c2VyQm90LmZpbHRlckZ1bmN0aW9ucy52YWx1ZT1mdW5jdGlvbih2YWx1ZSxlbGVtZW50cyl7bGV0IHNlbGVjdGVkRWxlbWVudHM9W107Zm9yKGxldCBpPTA7aTxlbGVtZW50cy5sZW5ndGg7aSsrKXtpZihlbGVtZW50c1tpXS52YWx1ZT09PXZhbHVlKXtzZWxlY3RlZEVsZW1lbnRzLnB1c2goZWxlbWVudHNbaV0pO319cmV0dXJuIHNlbGVjdGVkRWxlbWVudHM7fTtCcm93c2VyQm90LmZpbHRlckZ1bmN0aW9ucy5pbmRleD1mdW5jdGlvbihpbmRleCxlbGVtZW50cyl7aW5kZXg9TnVtYmVyKGluZGV4KTtpZihpc05hTihpbmRleCl8fGluZGV4PDApe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdJbGxlZ2FsIEluZGV4OiAnK2luZGV4KTt9aWYoZWxlbWVudHMubGVuZ3RoPD1pbmRleCl7dGhyb3cgbmV3IFNlbGVuaXVtRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZTogJytpbmRleCk7fXJldHVybltlbGVtZW50c1tpbmRleF1dO307QnJvd3NlckJvdC5wcm90b3R5cGUuc2VsZWN0RWxlbWVudHM9ZnVuY3Rpb24oZmlsdGVyRXhwcixlbGVtZW50cyxkZWZhdWx0RmlsdGVyVHlwZSl7bGV0IGZpbHRlclR5cGU9ZGVmYXVsdEZpbHRlclR5cGV8fCd2YWx1ZSc7Ly8gSWYgdGhlcmUgaXMgYSBmaWx0ZXIgcHJlZml4LCB1c2UgdGhlIHNwZWNpZmllZCBzdHJhdGVneVxubGV0IHJlc3VsdD1maWx0ZXJFeHByLm1hdGNoKC9eKFtBLVphLXpdKyk9KC4rKS8pO2lmKHJlc3VsdCl7ZmlsdGVyVHlwZT1yZXN1bHRbMV0udG9Mb3dlckNhc2UoKTtmaWx0ZXJFeHByPXJlc3VsdFsyXTt9cmV0dXJuIHRoaXMuc2VsZWN0RWxlbWVudHNCeShmaWx0ZXJUeXBlLGZpbHRlckV4cHIsZWxlbWVudHMpO307LyoqXG4gKiBGaW5kIGFuIGVsZW1lbnQgYnkgY3NzIHNlbGVjdG9yXG4gKi9Ccm93c2VyQm90LnByb3RvdHlwZS5sb2NhdGVFbGVtZW50QnlDc3M9ZnVuY3Rpb24obG9jYXRvcixkb2N1bWVudCl7bGV0IGVsZW1lbnRzPWJvdC5sb2NhdG9ycy5maW5kRWxlbWVudHMoe2Nzczpsb2NhdG9yfSxkb2N1bWVudCk7aWYoZWxlbWVudHMubGVuZ3RoIT0wKXJldHVybiBlbGVtZW50c1swXTtyZXR1cm4gbnVsbDt9Oy8qIHByb21wdCAqL0Jyb3dzZXJCb3QucHJvdG90eXBlLmNhbmNlbE5leHRQcm9tcHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXROZXh0UHJvbXB0UmVzdWx0KG51bGwpO307QnJvd3NlckJvdC5wcm90b3R5cGUuc2V0TmV4dFByb21wdFJlc3VsdD1mdW5jdGlvbihyZXN1bHQpe3RoaXMucHJvbXB0UmVzcG9uc2U9ZmFsc2U7bGV0IHNlbGY9dGhpczt3aW5kb3cucG9zdE1lc3NhZ2Uoe2RpcmVjdGlvbjonZnJvbS1jb250ZW50LXNjcmlwdCcsY29tbWFuZDonc2V0TmV4dFByb21wdFJlc3VsdCcsdGFyZ2V0OnJlc3VsdH0sJyonKTtsZXQgcmVzcG9uc2U9bmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2xldCBjb3VudD0wO2xldCBpbnRlcnZhbD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2lmKCFzZWxmLnByb21wdFJlc3BvbnNlKXtjb3VudCsrO2lmKGNvdW50PjYwKXtyZWplY3QoJ05vIHJlc3BvbnNlJyk7Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7fX1lbHNle3Jlc29sdmUoKTtzZWxmLnByb21wdFJlc3BvbnNlPWZhbHNlO2NsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO319LDUwMCk7fSk7cmV0dXJuIHJlc3BvbnNlO307QnJvd3NlckJvdC5wcm90b3R5cGUuZ2V0UHJvbXB0TWVzc2FnZT1mdW5jdGlvbigpe3RoaXMucHJvbXB0UmVzcG9uc2U9ZmFsc2U7dGhpcy5wcm9tcHRNZXNzYWdlPW51bGw7bGV0IHNlbGY9dGhpczt3aW5kb3cucG9zdE1lc3NhZ2Uoe2RpcmVjdGlvbjonZnJvbS1jb250ZW50LXNjcmlwdCcsY29tbWFuZDonZ2V0UHJvbXB0TWVzc2FnZSd9LCcqJyk7bGV0IHJlc3BvbnNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtsZXQgY291bnQ9MDtsZXQgaW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZighc2VsZi5wcm9tcHRSZXNwb25zZSl7Y291bnQrKztpZihjb3VudD42MCl7cmVqZWN0KCdObyByZXNwb25zZScpO2NsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO319ZWxzZXtyZXNvbHZlKHNlbGYucHJvbXB0TWVzc2FnZSk7c2VsZi5wcm9tcHRSZXNwb25zZT1mYWxzZTtzZWxmLnByb21wdE1lc3NhZ2U9bnVsbDtjbGVhckludGVydmFsKGludGVydmFsKTt9fSw1MDApO30pO3JldHVybiByZXNwb25zZTt9Oy8vIGNvbmZpcm1cbkJyb3dzZXJCb3QucHJvdG90eXBlLnNldE5leHRDb25maXJtYXRpb25SZXN1bHQ9ZnVuY3Rpb24ocmVzdWx0KXt0aGlzLmNvbmZpcm1hdGlvblJlc3BvbnNlPWZhbHNlO2xldCBzZWxmPXRoaXM7d2luZG93LnBvc3RNZXNzYWdlKHtkaXJlY3Rpb246J2Zyb20tY29udGVudC1zY3JpcHQnLGNvbW1hbmQ6J3NldE5leHRDb25maXJtYXRpb25SZXN1bHQnLHRhcmdldDpyZXN1bHR9LCcqJyk7bGV0IHJlc3BvbnNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtsZXQgY291bnQ9MDtsZXQgaW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZighc2VsZi5jb25maXJtYXRpb25SZXNwb25zZSl7Y291bnQrKztpZihjb3VudD42MCl7cmVqZWN0KCdObyByZXNwb25zZScpO2NsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO319ZWxzZXtyZXNvbHZlKCk7c2VsZi5jb25maXJtYXRpb25SZXNwb25zZT1mYWxzZTtjbGVhckludGVydmFsKGludGVydmFsKTt9fSw1MDApO30pO3JldHVybiByZXNwb25zZTt9O0Jyb3dzZXJCb3QucHJvdG90eXBlLmdldENvbmZpcm1hdGlvbk1lc3NhZ2U9ZnVuY3Rpb24oKXt0aGlzLmNvbmZpcm1hdGlvblJlc3BvbnNlPWZhbHNlO3RoaXMuY29uZmlybWF0aW9uTWVzc2FnZT1udWxsO2xldCBzZWxmPXRoaXM7d2luZG93LnBvc3RNZXNzYWdlKHtkaXJlY3Rpb246J2Zyb20tY29udGVudC1zY3JpcHQnLGNvbW1hbmQ6J2dldENvbmZpcm1hdGlvbk1lc3NhZ2UnfSwnKicpO2xldCByZXNwb25zZT1uZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7bGV0IGNvdW50PTA7bGV0IGludGVydmFsPXNldEludGVydmFsKGZ1bmN0aW9uKCl7aWYoIXNlbGYuY29uZmlybWF0aW9uUmVzcG9uc2Upe2NvdW50Kys7aWYoY291bnQ+NjApe3JlamVjdCgnTm8gcmVzcG9uc2UnKTtjbGVhckludGVydmFsKGludGVydmFsKTt9fWVsc2V7cmVzb2x2ZShzZWxmLmNvbmZpcm1hdGlvbk1lc3NhZ2UpO3NlbGYuY29uZmlybWF0aW9uUmVzcG9uc2U9ZmFsc2U7c2VsZi5jb25maXJtYXRpb25NZXNzYWdlPW51bGw7Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7fX0sNTAwKTt9KTtyZXR1cm4gcmVzcG9uc2U7fTtCcm93c2VyQm90LnByb3RvdHlwZS5nZXRBbGVydE1lc3NhZ2U9ZnVuY3Rpb24oKXtsZXQgc2VsZj10aGlzO2xldCByZXNwb25zZT1uZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7bGV0IGNvdW50PTA7bGV0IGludGVydmFsPXNldEludGVydmFsKGZ1bmN0aW9uKCl7aWYoIXNlbGYuYWxlcnRSZXNwb25zZSl7Y291bnQrKztpZihjb3VudD42MCl7cmVqZWN0KCdObyByZXNwb25zZSEhISEnKTtjbGVhckludGVydmFsKGludGVydmFsKTt9fWVsc2V7cmVzb2x2ZShzZWxmLmFsZXJ0TWVzc2FnZSk7c2VsZi5hbGVydFJlc3BvbnNlPWZhbHNlO3NlbGYuYWxlcnRNZXNzYWdlPW51bGw7Y2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7fX0sNTAwKTt9KTtyZXR1cm4gcmVzcG9uc2U7fTsvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovIC8qIEJST1dTRVItU1BFQ0lGSUMgRlVOQ1RJT05TIE9OTFkgQUZURVIgVEhJUyBMSU5FICovZXhwb3J0IGNsYXNzIE1vemlsbGFCcm93c2VyQm90IGV4dGVuZHMgQnJvd3NlckJvdHtjb25zdHJ1Y3RvcihmcmFtZSl7c3VwZXIoZnJhbWUpO319ZXhwb3J0IGNsYXNzIEtvbnF1ZXJvckJyb3dzZXJCb3QgZXh0ZW5kcyBCcm93c2VyQm90e2NvbnN0cnVjdG9yKGZyYW1lKXtzdXBlcihmcmFtZSk7fX1Lb25xdWVyb3JCcm93c2VyQm90LnByb3RvdHlwZS5zZXRJRnJhbWVMb2NhdGlvbj1mdW5jdGlvbihpZnJhbWUsbG9jYXRpb24pey8vIFdpbmRvdyBkb2Vzbid0IGZpcmUgb25sb2FkIGV2ZW50IHdoZW4gc2V0dGluZyBzcmMgdG8gdGhlIGN1cnJlbnQgdmFsdWUsXG4vLyBzbyB3ZSBzZXQgaXQgdG8gYmxhbmsgZmlyc3QuXG5pZnJhbWUuc3JjPSdhYm91dDpibGFuayc7aWZyYW1lLnNyYz1sb2NhdGlvbjt9O0tvbnF1ZXJvckJyb3dzZXJCb3QucHJvdG90eXBlLl9pc1NhbWVEb2N1bWVudD1mdW5jdGlvbihvcmlnaW5hbERvY3VtZW50LGN1cnJlbnREb2N1bWVudCl7Ly8gdW5kZXIgS29ucXVlcm9yLCB0aGVyZSBtYXkgYmUgdGhpcyBjYXNlOlxuLy8gb3JpZ2luYWxEb2N1bWVudCBhbmQgY3VycmVudERvY3VtZW50IGFyZSBkaWZmZXJlbnQgb2JqZWN0c1xuLy8gd2hpbGUgdGhlaXIgbG9jYXRpb24gYXJlIHNhbWUuXG5pZihvcmlnaW5hbERvY3VtZW50KXtyZXR1cm4gb3JpZ2luYWxEb2N1bWVudC5sb2NhdGlvbj09Y3VycmVudERvY3VtZW50LmxvY2F0aW9uO31lbHNle3JldHVybiBvcmlnaW5hbERvY3VtZW50PT09Y3VycmVudERvY3VtZW50O319O2V4cG9ydCBjbGFzcyBTYWZhcmlCcm93c2VyQm90IGV4dGVuZHMgQnJvd3NlckJvdHtjb25zdHJ1Y3RvcihmcmFtZSl7c3VwZXIoZnJhbWUpO319U2FmYXJpQnJvd3NlckJvdC5wcm90b3R5cGUuc2V0SUZyYW1lTG9jYXRpb249S29ucXVlcm9yQnJvd3NlckJvdC5wcm90b3R5cGUuc2V0SUZyYW1lTG9jYXRpb247ZXhwb3J0IGNsYXNzIE9wZXJhQnJvd3NlckJvdCBleHRlbmRzIEJyb3dzZXJCb3R7Y29uc3RydWN0b3IoZnJhbWUpe3N1cGVyKGZyYW1lKTt9fU9wZXJhQnJvd3NlckJvdC5wcm90b3R5cGUuc2V0SUZyYW1lTG9jYXRpb249ZnVuY3Rpb24oaWZyYW1lLGxvY2F0aW9uKXtpZihpZnJhbWUuc3JjPT1sb2NhdGlvbil7aWZyYW1lLnNyYz1sb2NhdGlvbisnP3JlbG9hZCc7fWVsc2V7aWZyYW1lLnNyYz1sb2NhdGlvbjt9fTtleHBvcnQgY2xhc3MgSUVCcm93c2VyQm90IGV4dGVuZHMgQnJvd3NlckJvdHtjb25zdHJ1Y3RvcihmcmFtZSl7c3VwZXIoZnJhbWUpO319SUVCcm93c2VyQm90LnByb3RvdHlwZS5faGFuZGxlQ2xvc2VkU3ViRnJhbWU9ZnVuY3Rpb24odGVzdFdpbmRvdyxkb05vdE1vZGlmeSl7aWYodGhpcy5wcm94eUluamVjdGlvbk1vZGUpe3JldHVybiB0ZXN0V2luZG93O310cnl7dGVzdFdpbmRvdy5sb2NhdGlvbi5ocmVmO3RoaXMucGVybURlbmllZD0wO31jYXRjaChlKXt0aGlzLnBlcm1EZW5pZWQrKzt9aWYodGhpcy5fd2luZG93Q2xvc2VkKHRlc3RXaW5kb3cpfHx0aGlzLnBlcm1EZW5pZWQ+NCl7aWYodGhpcy5pc1N1YkZyYW1lU2VsZWN0ZWQpey8vTE9HLndhcm4oXCJDdXJyZW50IHN1YmZyYW1lIGFwcGVhcnMgdG8gaGF2ZSBjbG9zZWQ7IHNlbGVjdGluZyB0b3AgZnJhbWVcIik7XG50aGlzLnNlbGVjdEZyYW1lKCdyZWxhdGl2ZT10b3AnKTtyZXR1cm4gdGhpcy5nZXRDdXJyZW50V2luZG93KGRvTm90TW9kaWZ5KTt9ZWxzZXtsZXQgY2xvc2VkRXJyb3I9bmV3IFNlbGVuaXVtRXJyb3IoJ0N1cnJlbnQgd2luZG93IG9yIGZyYW1lIGlzIGNsb3NlZCEnKTtjbG9zZWRFcnJvci53aW5kb3dDbG9zZWQ9dHJ1ZTt0aHJvdyBjbG9zZWRFcnJvcjt9fXJldHVybiB0ZXN0V2luZG93O307SUVCcm93c2VyQm90LnByb3RvdHlwZS5tb2RpZnlXaW5kb3dUb1JlY29yZFBvcFVwRGlhbG9ncz1mdW5jdGlvbih3aW5kb3dUb01vZGlmeSxicm93c2VyQm90KXtCcm93c2VyQm90LnByb3RvdHlwZS5tb2RpZnlXaW5kb3dUb1JlY29yZFBvcFVwRGlhbG9ncyh3aW5kb3dUb01vZGlmeSxicm93c2VyQm90KTsvLyB3ZSB3aWxsIGNhbGwgdGhlIHByZXZpb3VzIHZlcnNpb24gb2YgdGhpcyBtZXRob2QgZnJvbSB3aXRoaW4gb3VyIG93biBpbnRlcmNlcHRpb25cbmxldCBvbGRTaG93TW9kYWxEaWFsb2c9d2luZG93VG9Nb2RpZnkuc2hvd01vZGFsRGlhbG9nO3dpbmRvd1RvTW9kaWZ5LnNob3dNb2RhbERpYWxvZz1mdW5jdGlvbih1cmwsYXJncyxmZWF0dXJlcyl7Ly8gR2V0IHJlbGF0aXZlIGRpcmVjdG9yeSB0byB3aGVyZSBUZXN0UnVubmVyLmh0bWwgbGl2ZXNcbi8vIEEgcmlza3kgYXNzdW1wdGlvbiBpcyB0aGF0IHRoZSB1c2VyJ3MgVGVzdFJ1bm5lciBpcyBuYW1lZCBUZXN0UnVubmVyLmh0bWxcbmxldCBkb2NfbG9jYXRpb249ZG9jdW1lbnQubG9jYXRpb24udG9TdHJpbmcoKTtsZXQgZW5kX29mX2Jhc2VfcmVmPWRvY19sb2NhdGlvbi5pbmRleE9mKCdUZXN0UnVubmVyLmh0bWwnKTtsZXQgYmFzZV9yZWY9ZG9jX2xvY2F0aW9uLnN1YnN0cmluZygwLGVuZF9vZl9iYXNlX3JlZik7bGV0IHJ1bkludGVydmFsPScnOy8vIE9ubHkgc2V0IHJ1biBpbnRlcnZhbCBpZiBvcHRpb25zIGlzIGRlZmluZWRcbmlmKHR5cGVvZiB3aW5kb3cucnVuT3B0aW9ucyE9J3VuZGVmaW5lZCcpe3J1bkludGVydmFsPScmcnVuSW50ZXJ2YWw9JytydW5PcHRpb25zLnJ1bkludGVydmFsOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn1sZXQgdGVzdFJ1bm5lclVSTD0nVGVzdFJ1bm5lci5odG1sP2F1dG89dHJ1ZSZzaW5nbGV0ZXN0PScrZXNjYXBlKGJyb3dzZXJCb3QubW9kYWxEaWFsb2dUZXN0KSsnJmF1dG9VUkw9Jytlc2NhcGUodXJsKStydW5JbnRlcnZhbDtsZXQgZnVsbFVSTD1iYXNlX3JlZit0ZXN0UnVubmVyVVJMO2Jyb3dzZXJCb3QubW9kYWxEaWFsb2dUZXN0PW51bGw7Ly8gSWYgdXNpbmcgcHJveHkgaW5qZWN0aW9uIG1vZGVcbmlmKHRoaXMucHJveHlJbmplY3Rpb25Nb2RlKXtmdWxsVVJMPXVybDt9bGV0IHJldHVyblZhbHVlPW9sZFNob3dNb2RhbERpYWxvZyhmdWxsVVJMLGFyZ3MsZmVhdHVyZXMpO3JldHVybiByZXR1cm5WYWx1ZTt9O307SUVCcm93c2VyQm90LnByb3RvdHlwZS5tb2RpZnlTZXBhcmF0ZVRlc3RXaW5kb3dUb0RldGVjdFBhZ2VMb2Fkcz1mdW5jdGlvbih3aW5kb3dPYmplY3Qpe3RoaXMucGFnZVVubG9hZGluZz1mYWxzZTtsZXQgc2VsZj10aGlzO2xldCBwYWdlVW5sb2FkRGV0ZWN0b3I9ZnVuY3Rpb24oKXtzZWxmLnBhZ2VVbmxvYWRpbmc9dHJ1ZTt9O2lmKHdpbmRvd09iamVjdC5hZGRFdmVudExpc3RlbmVyKXt3aW5kb3dPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJyxwYWdlVW5sb2FkRGV0ZWN0b3IsdHJ1ZSk7fWVsc2V7d2luZG93T2JqZWN0LmF0dGFjaEV2ZW50KCdvbmJlZm9yZXVubG9hZCcscGFnZVVubG9hZERldGVjdG9yKTt9QnJvd3NlckJvdC5wcm90b3R5cGUubW9kaWZ5U2VwYXJhdGVUZXN0V2luZG93VG9EZXRlY3RQYWdlTG9hZHMuY2FsbCh0aGlzLHdpbmRvd09iamVjdCk7fTtJRUJyb3dzZXJCb3QucHJvdG90eXBlLnBvbGxGb3JMb2FkPWZ1bmN0aW9uKGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpey8vTE9HLmRlYnVnKFwiSUVCcm93c2VyQm90LnBvbGxGb3JMb2FkOiBcIiArIG1hcmtlcik7XG5pZighdGhpcy5wZXJtRGVuaWVkQ291bnRbbWFya2VyXSl0aGlzLnBlcm1EZW5pZWRDb3VudFttYXJrZXJdPTA7QnJvd3NlckJvdC5wcm90b3R5cGUucG9sbEZvckxvYWQuY2FsbCh0aGlzLGxvYWRGdW5jdGlvbix3aW5kb3dPYmplY3Qsb3JpZ2luYWxEb2N1bWVudCxvcmlnaW5hbExvY2F0aW9uLG9yaWdpbmFsSHJlZixtYXJrZXIpO2lmKHRoaXMucGFnZUxvYWRFcnJvcil7aWYodGhpcy5wYWdlVW5sb2FkaW5nKXsvL0xPRy5kZWJ1ZyhcInBvbGxGb3JMb2FkIFVOTE9BRElORyAoXCIgKyBtYXJrZXIgKyBcIik6IGNhdWdodCBleGNlcHRpb24gd2hpbGUgZmlyaW5nIGV2ZW50cyBvbiB1bmxvYWRpbmcgcGFnZTogXCIgKyB0aGlzLnBhZ2VMb2FkRXJyb3IubWVzc2FnZSk7XG50aGlzLnJlc2NoZWR1bGVQb2xsZXIobG9hZEZ1bmN0aW9uLHdpbmRvd09iamVjdCxvcmlnaW5hbERvY3VtZW50LG9yaWdpbmFsTG9jYXRpb24sb3JpZ2luYWxIcmVmLG1hcmtlcik7dGhpcy5wYWdlTG9hZEVycm9yPW51bGw7cmV0dXJuO31lbHNlIGlmKCh0aGlzLnBhZ2VMb2FkRXJyb3IubWVzc2FnZT09J1Blcm1pc3Npb24gZGVuaWVkJ3x8L15BY2Nlc3MgaXMgZGVuaWVkLy50ZXN0KHRoaXMucGFnZUxvYWRFcnJvci5tZXNzYWdlKSkmJnRoaXMucGVybURlbmllZENvdW50W21hcmtlcl0rKzw4KXtpZih0aGlzLnBlcm1EZW5pZWRDb3VudFttYXJrZXJdPjQpe2xldCBjYW5BY2Nlc3NUaGlzV2luZG93O2xldCBjYW5BY2Nlc3NDdXJyZW50bHlTZWxlY3RlZFdpbmRvdzt0cnl7d2luZG93T2JqZWN0LmxvY2F0aW9uLmhyZWY7Y2FuQWNjZXNzVGhpc1dpbmRvdz10cnVlO31jYXRjaChlKXt9Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxudHJ5e3RoaXMuZ2V0Q3VycmVudFdpbmRvdyh0cnVlKS5sb2NhdGlvbi5ocmVmO2NhbkFjY2Vzc0N1cnJlbnRseVNlbGVjdGVkV2luZG93PXRydWU7fWNhdGNoKGUpe30vLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XG5pZihjYW5BY2Nlc3NDdXJyZW50bHlTZWxlY3RlZFdpbmRvdyYhY2FuQWNjZXNzVGhpc1dpbmRvdyl7Ly9MT0cuZGVidWcoXCJwb2xsRm9yTG9hZCAoXCIgKyBtYXJrZXIgKyBcIikgQUJPUlRJTkc6IFwiICsgdGhpcy5wYWdlTG9hZEVycm9yLm1lc3NhZ2UgKyBcIiAoXCIgKyB0aGlzLnBlcm1EZW5pZWRDb3VudFttYXJrZXJdICsgXCIpLCBidXQgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCB3aW5kb3cgaXMgZmluZVwiKTtcbi8vIHJldHVybmluZyB3aXRob3V0IHJlc2NoZWR1bGluZ1xudGhpcy5wYWdlTG9hZEVycm9yPW51bGw7cmV0dXJuO319Ly9MT0cuZGVidWcoXCJwb2xsRm9yTG9hZCAoXCIgKyBtYXJrZXIgKyBcIik6IFwiICsgdGhpcy5wYWdlTG9hZEVycm9yLm1lc3NhZ2UgKyBcIiAoXCIgKyB0aGlzLnBlcm1EZW5pZWRDb3VudFttYXJrZXJdICsgXCIpLCB3YWl0aW5nIHRvIHNlZSBpZiBpdCBnb2VzIGF3YXlcIik7XG50aGlzLnJlc2NoZWR1bGVQb2xsZXIobG9hZEZ1bmN0aW9uLHdpbmRvd09iamVjdCxvcmlnaW5hbERvY3VtZW50LG9yaWdpbmFsTG9jYXRpb24sb3JpZ2luYWxIcmVmLG1hcmtlcik7dGhpcy5wYWdlTG9hZEVycm9yPW51bGw7cmV0dXJuO30vL2hhbmR5IGZvciBkZWJ1Z2dpbmchXG4vL3Rocm93IHRoaXMucGFnZUxvYWRFcnJvcjtcbn19O0lFQnJvd3NlckJvdC5wcm90b3R5cGUuX3dpbmRvd0Nsb3NlZD1mdW5jdGlvbih3aW4pe3RyeXtsZXQgYz13aW4uY2xvc2VkOy8vIGZyYW1lIHdpbmRvd3MgY2xhaW0gdG8gYmUgbm9uLWNsb3NlZCB3aGVuIHRoZWlyIHBhcmVudHMgYXJlIGNsb3NlZFxuLy8gYnV0IHlvdSBjYW4ndCBhY2Nlc3MgdGhlaXIgZG9jdW1lbnQgb2JqZWN0cyBpbiB0aGF0IGNhc2VcbmlmKCFjKXt0cnl7d2luLmRvY3VtZW50O31jYXRjaChkZSl7aWYoZGUubWVzc2FnZT09J1Blcm1pc3Npb24gZGVuaWVkJyl7Ly8gdGhlIHdpbmRvdyBpcyBwcm9iYWJseSB1bmxvYWRpbmcsIHdoaWNoIG1lYW5zIGl0J3MgcHJvYmFibHkgbm90IGNsb3NlZCB5ZXRcbnJldHVybiBmYWxzZTt9ZWxzZSBpZigvXkFjY2VzcyBpcyBkZW5pZWQvLnRlc3QoZGUubWVzc2FnZSkpey8vIHJhcmUgdmFyaWF0aW9uIG9uIFwiUGVybWlzc2lvbiBkZW5pZWRcIj9cbi8vTE9HLmRlYnVnKFwiSUVCcm93c2VyQm90LndpbmRvd0Nsb3NlZDogZ290IFwiICsgZGUubWVzc2FnZSArIFwiICh0aGlzLnBhZ2VVbmxvYWRpbmc9XCIgKyB0aGlzLnBhZ2VVbmxvYWRpbmcgKyBcIik7IGFzc3VtaW5nIHdpbmRvdyBpcyB1bmxvYWRpbmcsIHByb2JhYmx5IG5vdCBjbG9zZWQgeWV0XCIpO1xucmV0dXJuIGZhbHNlO31lbHNley8vIHRoaXMgaXMgcHJvYmFibHkgb25lIG9mIHRob3NlIGZyYW1lIHdpbmRvdyBzaXR1YXRpb25zXG4vL0xPRy5kZWJ1ZyhcIklFQnJvd3NlckJvdC53aW5kb3dDbG9zZWQ6IGNvdWxkbid0IHJlYWQgd2luLmRvY3VtZW50LCBhc3N1bWUgY2xvc2VkOiBcIiArIGRlLm1lc3NhZ2UgKyBcIiAodGhpcy5wYWdlVW5sb2FkaW5nPVwiICsgdGhpcy5wYWdlVW5sb2FkaW5nICsgXCIpXCIpO1xucmV0dXJuIHRydWU7fX19aWYoYz09bnVsbCl7Ly9MT0cuZGVidWcoXCJJRUJyb3dzZXJCb3Qud2luZG93Q2xvc2VkOiB3aW4uY2xvc2VkIHdhcyBudWxsLCBhc3N1bWluZyBjbG9zZWRcIik7XG5yZXR1cm4gdHJ1ZTt9cmV0dXJuIGM7fWNhdGNoKGUpey8vTE9HLmRlYnVnKFwiSUVCcm93c2VyQm90Ll93aW5kb3dDbG9zZWQ6IEdvdCBhbiBleGNlcHRpb24gdHJ5aW5nIHRvIHJlYWQgd2luLmNsb3NlZDsgd2UnbGwgaGF2ZSB0byB0YWtlIGEgZ3Vlc3MhXCIpO1xuaWYoYnJvd3NlclZlcnNpb24uaXNIVEEpe2lmKGUubWVzc2FnZT09J1Blcm1pc3Npb24gZGVuaWVkJyl7Ly8gdGhlIHdpbmRvdyBpcyBwcm9iYWJseSB1bmxvYWRpbmcsIHdoaWNoIG1lYW5zIGl0J3Mgbm90IGNsb3NlZCB5ZXRcbnJldHVybiBmYWxzZTt9ZWxzZXsvLyB0aGVyZSdzIGEgZ29vZCBjaGFuY2UgdGhhdCB3ZSd2ZSBsb3N0IGNvbnRhY3Qgd2l0aCB0aGUgd2luZG93IG9iamVjdCBpZiBpdCBpcyBjbG9zZWRcbnJldHVybiB0cnVlO319ZWxzZXsvLyB0aGUgd2luZG93IGlzIHByb2JhYmx5IHVubG9hZGluZywgd2hpY2ggbWVhbnMgaXQncyBub3QgY2xvc2VkIHlldFxucmV0dXJuIGZhbHNlO319fTsvKipcbiAqIEluIElFLCBnZXRFbGVtZW50QnlJZCgpIGFsc28gc2VhcmNoZXMgYnkgbmFtZSAtIHRoaXMgaXMgYW4gb3B0aW1pc2F0aW9uIGZvciBJRS5cbiAqL0lFQnJvd3NlckJvdC5wcm90b3R5cGUubG9jYXRlRWxlbWVudEJ5SWRlbnRpZmVyPWZ1bmN0aW9uKGlkZW50aWZpZXIsaW5Eb2N1bWVudCl7cmV0dXJuIGluRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRlbnRpZmllcik7fTtTYWZhcmlCcm93c2VyQm90LnByb3RvdHlwZS5tb2RpZnlXaW5kb3dUb1JlY29yZFBvcFVwRGlhbG9ncz1mdW5jdGlvbih3aW5kb3dUb01vZGlmeSxicm93c2VyQm90KXtCcm93c2VyQm90LnByb3RvdHlwZS5tb2RpZnlXaW5kb3dUb1JlY29yZFBvcFVwRGlhbG9ncyh3aW5kb3dUb01vZGlmeSxicm93c2VyQm90KTtsZXQgb3JpZ2luYWxPcGVuPXdpbmRvd1RvTW9kaWZ5Lm9wZW47LypcbiAgICogU2FmYXJpIHNlZW1zIHRvIGJlIGJyb2tlbiwgc28gdGhhdCB3aGVuIHdlIG1hbnVhbGx5IHRyaWdnZXIgdGhlIG9uY2xpY2sgbWV0aG9kXG4gICAqIG9mIGEgYnV0dG9uL2hyZWYsIGFueSB3aW5kb3cub3BlbiBjYWxscyBhcmVuJ3QgcmVzb2x2ZWQgcmVsYXRpdmUgdG8gdGhlIGFwcCBsb2NhdGlvbi5cbiAgICogU28gaGVyZSB3ZSByZXBsYWNlIHRoZSBvcGVuKCkgbWV0aG9kIHdpdGggb25lIHRoYXQgZG9lcyByZXNvbHZlIHRoZSB1cmwgY29ycmVjdGx5LlxuICAgKi93aW5kb3dUb01vZGlmeS5vcGVuPWZ1bmN0aW9uKHVybCx3aW5kb3dOYW1lLHdpbmRvd0ZlYXR1cmVzLHJlcGxhY2VGbGFnKXtpZih1cmwuc3RhcnRzV2l0aCgnaHR0cDovLycpfHx1cmwuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKXx8dXJsLnN0YXJ0c1dpdGgoJy8nKSl7cmV0dXJuIG9yaWdpbmFsT3Blbih1cmwsd2luZG93TmFtZSx3aW5kb3dGZWF0dXJlcyxyZXBsYWNlRmxhZyk7fS8vIFJlZHVjZSB0aGUgY3VycmVudCBwYXRoIHRvIHRoZSBkaXJlY3RvcnlcbmxldCBjdXJyZW50UGF0aD13aW5kb3dUb01vZGlmeS5sb2NhdGlvbi5wYXRobmFtZXx8Jy8nO2N1cnJlbnRQYXRoPWN1cnJlbnRQYXRoLnJlcGxhY2UoL1xcL1teXFwvXSokLywnLycpOy8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbi8vIFJlbW92ZSBhbnkgbGVhZGluZyBcIi4vXCIgZnJvbSB0aGUgbmV3IHVybC5cbnVybD11cmwucmVwbGFjZSgvXlxcLlxcLy8sJycpO2NvbnN0IG5ld1VybD1jdXJyZW50UGF0aCt1cmw7bGV0IG9wZW5lZFdpbmRvdz1vcmlnaW5hbE9wZW4obmV3VXJsLHdpbmRvd05hbWUsd2luZG93RmVhdHVyZXMscmVwbGFjZUZsYWcpOy8vTE9HLmRlYnVnKFwid2luZG93Lm9wZW4gY2FsbCBpbnRlcmNlcHRlZDsgd2luZG93IElEICh3aGljaCB5b3UgY2FuIHVzZSB3aXRoIHNlbGVjdFdpbmRvdygpKSBpcyBcXFwiXCIgKyAgd2luZG93TmFtZSArIFwiXFxcIlwiKTtcbmlmKHdpbmRvd05hbWUhPW51bGwpe29wZW5lZFdpbmRvd1snc2VsZW5pdW1XaW5kb3dOYW1lJ109d2luZG93TmFtZTt9cmV0dXJuIG9wZW5lZFdpbmRvdzt9O307TW96aWxsYUJyb3dzZXJCb3QucHJvdG90eXBlLl9maXJlRXZlbnRPbkVsZW1lbnQ9ZnVuY3Rpb24oZXZlbnRUeXBlLGVsZW1lbnQsY2xpZW50WCxjbGllbnRZKXtsZXQgd2luPXRoaXMuZ2V0Q3VycmVudFdpbmRvdygpO2JvdC5ldmVudHMuZmlyZShlbGVtZW50LGJvdC5ldmVudHMuRXZlbnRUeXBlLkZPQ1VTKTsvLyBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBkZXRlY3RzIGlmIHRoZSBkZWZhdWx0IGFjdGlvbiBoYXMgYmVlbiBwcmV2ZW50ZWQuXG4vLyAoVGhpcyBpcyBjYXVzZWQgYnkgYSBqYXZhc2NyaXB0IG9uY2xpY2sgaGFuZGxlciByZXR1cm5pbmcgZmFsc2UpXG4vLyB3ZSBjYXB0dXJlIHRoZSB3aG9sZSBldmVudCwgcmF0aGVyIHRoYW4gdGhlIGdldFByZXZlbnREZWZhdWx0KCkgc3RhdGUgYXQgdGhlIHRpbWUsXG4vLyBiZWNhdXNlIHdlIG5lZWQgdG8gbGV0IHRoZSBlbnRpcmUgZXZlbnQgYnViYmxpbmcgYW5kIGNhcHR1cmluZyB0byBnbyB0aHJvdWdoXG4vLyBiZWZvcmUgbWFraW5nIGEgZGVjaXNpb24gb24gd2hldGhlciB3ZSBzaG91bGQgZm9yY2UgdGhlIGhyZWZcbmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsZnVuY3Rpb24oKXt9LGZhbHNlKTsvL3RoaXMuX21vZGlmeUVsZW1lbnRUYXJnZXQoZWxlbWVudCk7XG4vLyBUcmlnZ2VyIHRoZSBldmVudC5cbnRoaXMuYnJvd3NlcmJvdC50cmlnZ2VyTW91c2VFdmVudChlbGVtZW50LGV2ZW50VHlwZSx0cnVlLGNsaWVudFgsY2xpZW50WSk7aWYodGhpcy5fd2luZG93Q2xvc2VkKHdpbikpe3JldHVybjt9Ly8gUGVyZm9ybSB0aGUgbGluayBhY3Rpb24gaWYgcHJldmVudERlZmF1bHQgd2FzIHNldC5cbi8vIEluIGNocm9tZSBVUkwsIHRoZSBsaW5rIGFjdGlvbiBpcyBhbHJlYWR5IGV4ZWN1dGVkIGJ5IHRyaWdnZXJNb3VzZUV2ZW50LlxuLy9pZiAoIWJyb3dzZXJWZXJzaW9uLmlzQ2hyb21lICYmIHNhdmVkRXZlbnQgIT0gbnVsbCAmJiBzYXZlZEV2ZW50LmdldFByZXZlbnREZWZhdWx0ICYmICFzYXZlZEV2ZW50LmdldFByZXZlbnREZWZhdWx0KCkpIHtcbi8qXG4gICAgaWYgKCFicm93c2VyVmVyc2lvbi5pc0Nocm9tZSAmJiBzYXZlZEV2ZW50ICE9IG51bGwgJiYgc2F2ZWRFdmVudC5kZWZhdWx0UHJldmVudGVkICYmICFzYXZlZEV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICB2YXIgdGFyZ2V0V2luZG93ID0gdGhpcy5icm93c2VyYm90Ll9nZXRUYXJnZXRXaW5kb3coZWxlbWVudCk7XG4gICAgICAgIGlmIChlbGVtZW50LmhyZWYpIHtcbiAgICAgICAgICAgIHRhcmdldFdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZWxlbWVudC5ocmVmO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5icm93c2VyYm90Ll9oYW5kbGVDbGlja2luZ0ltYWdlc0luc2lkZUxpbmtzKHRhcmdldFdpbmRvdywgZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKi99O09wZXJhQnJvd3NlckJvdC5wcm90b3R5cGUuX2ZpcmVFdmVudE9uRWxlbWVudD1mdW5jdGlvbihldmVudFR5cGUsZWxlbWVudCxjbGllbnRYLGNsaWVudFkpe2xldCB3aW49dGhpcy5nZXRDdXJyZW50V2luZG93KCk7Ym90LmV2ZW50cy5maXJlKGVsZW1lbnQsYm90LmV2ZW50cy5FdmVudFR5cGUuRk9DVVMpO3RoaXMuX21vZGlmeUVsZW1lbnRUYXJnZXQoZWxlbWVudCk7Ly8gVHJpZ2dlciB0aGUgY2xpY2sgZXZlbnQuXG50aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCxldmVudFR5cGUsdHJ1ZSxjbGllbnRYLGNsaWVudFkpO2lmKHRoaXMuX3dpbmRvd0Nsb3NlZCh3aW4pKXtyZXR1cm47fX07S29ucXVlcm9yQnJvd3NlckJvdC5wcm90b3R5cGUuX2ZpcmVFdmVudE9uRWxlbWVudD1mdW5jdGlvbihldmVudFR5cGUsZWxlbWVudCxjbGllbnRYLGNsaWVudFkpe2xldCB3aW49dGhpcy5nZXRDdXJyZW50V2luZG93KCk7Ym90LmV2ZW50cy5maXJlKGVsZW1lbnQsYm90LmV2ZW50cy5FdmVudFR5cGUuRk9DVVMpO3RoaXMuX21vZGlmeUVsZW1lbnRUYXJnZXQoZWxlbWVudCk7aWYoZWxlbWVudFtldmVudFR5cGVdKXtlbGVtZW50W2V2ZW50VHlwZV0oKTt9ZWxzZXt0aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCxldmVudFR5cGUsdHJ1ZSxjbGllbnRYLGNsaWVudFkpO31pZih0aGlzLl93aW5kb3dDbG9zZWQod2luKSl7cmV0dXJuO319O1NhZmFyaUJyb3dzZXJCb3QucHJvdG90eXBlLl9maXJlRXZlbnRPbkVsZW1lbnQ9ZnVuY3Rpb24oZXZlbnRUeXBlLGVsZW1lbnQsY2xpZW50WCxjbGllbnRZKXtib3QuZXZlbnRzLmZpcmUoZWxlbWVudCxib3QuZXZlbnRzLkV2ZW50VHlwZS5GT0NVUyk7dGhpcy5fbW9kaWZ5RWxlbWVudFRhcmdldChlbGVtZW50KTsvLyBGb3IgZm9ybSBlbGVtZW50IGl0IGlzIHNpbXBsZS5cbmlmKGVsZW1lbnRbZXZlbnRUeXBlXSl7ZWxlbWVudFtldmVudFR5cGVdKCk7fS8vIEZvciBsaW5rcyBhbmQgb3RoZXIgZWxlbWVudHMsIGV2ZW50IGVtdWxhdGlvbiBpcyByZXF1aXJlZC5cbmVsc2V7Ly8gdG9kbzogZGVhbCB3aXRoIGFuY2hvcnM/XG50aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCxldmVudFR5cGUsdHJ1ZSxjbGllbnRYLGNsaWVudFkpO319O1NhZmFyaUJyb3dzZXJCb3QucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXtsZXQgd2luPXRoaXMuZ2V0Q3VycmVudFdpbmRvdygpO2lmKHdpbi5sb2NhdGlvbi5oYXNoKXsvLyBER0YgU2FmYXJpIHJlZnVzZXMgdG8gcmVmcmVzaCB3aGVuIHRoZXJlJ3MgYSBoYXNoIHN5bWJvbCBpbiB0aGUgVVJMXG53aW4ubG9jYXRpb24uaGFzaD0nJztsZXQgYWN0dWFsbHlSZWxvYWQ9ZnVuY3Rpb24oKXt3aW4ubG9jYXRpb24ucmVsb2FkKHRydWUpO307d2luZG93LnNldFRpbWVvdXQoYWN0dWFsbHlSZWxvYWQsMSk7fWVsc2V7d2luLmxvY2F0aW9uLnJlbG9hZCh0cnVlKTt9fTtJRUJyb3dzZXJCb3QucHJvdG90eXBlLl9maXJlRXZlbnRPbkVsZW1lbnQ9ZnVuY3Rpb24oZXZlbnRUeXBlLGVsZW1lbnQsY2xpZW50WCxjbGllbnRZKXtsZXQgd2luPXRoaXMuZ2V0Q3VycmVudFdpbmRvdygpO2JvdC5ldmVudHMuZmlyZShlbGVtZW50LGJvdC5ldmVudHMuRXZlbnRUeXBlLkZPQ1VTKTtsZXQgd2FzQ2hlY2tlZD1lbGVtZW50LmNoZWNrZWQ7Ly8gU2V0IGEgZmxhZyB0aGF0IHJlY29yZHMgaWYgdGhlIHBhZ2Ugd2lsbCB1bmxvYWQgLSB0aGlzIGlzbid0IGFsd2F5cyBhY2N1cmF0ZSwgYmVjYXVzZVxuLy8gPGEgaHJlZj1cImphdmFzY3JpcHQ6YWxlcnQoJ2ZvbycpOlwiPiB0cmlnZ2VycyB0aGUgb25iZWZvcmV1bmxvYWQgZXZlbnQsIGV2ZW4gdGhvdWdodCB0aGUgcGFnZSB3b24ndCB1bmxvYWRcbmxldCBwYWdlVW5sb2FkaW5nPWZhbHNlO2xldCBwYWdlVW5sb2FkRGV0ZWN0b3I9ZnVuY3Rpb24oKXtwYWdlVW5sb2FkaW5nPXRydWU7fTtpZih3aW4uYWRkRXZlbnRMaXN0ZW5lcil7d2luLmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcscGFnZVVubG9hZERldGVjdG9yLHRydWUpO31lbHNle3dpbi5hdHRhY2hFdmVudCgnb25iZWZvcmV1bmxvYWQnLHBhZ2VVbmxvYWREZXRlY3Rvcik7fXRoaXMuX21vZGlmeUVsZW1lbnRUYXJnZXQoZWxlbWVudCk7aWYoZWxlbWVudFtldmVudFR5cGVdKXtlbGVtZW50W2V2ZW50VHlwZV0oKTt9ZWxzZXt0aGlzLmJyb3dzZXJib3QudHJpZ2dlck1vdXNlRXZlbnQoZWxlbWVudCxldmVudFR5cGUsdHJ1ZSxjbGllbnRYLGNsaWVudFkpO30vLyBJZiB0aGUgcGFnZSBpcyBnb2luZyB0byB1bmxvYWQgLSBzdGlsbCBhdHRlbXB0IHRvIGZpcmUgYW55IHN1YnNlcXVlbnQgZXZlbnRzLlxuLy8gSG93ZXZlciwgd2UgY2FuJ3QgZ3VhcmFudGVlIHRoYXQgdGhlIHBhZ2Ugd29uJ3QgdW5sb2FkIGhhbGYgd2F5IHRocm91Z2gsIHNvIHdlIG5lZWQgdG8gaGFuZGxlIGV4Y2VwdGlvbnMuXG50cnl7aWYod2luLnJlbW92ZUV2ZW50TGlzdGVuZXIpe3dpbi5yZW1vdmVFdmVudExpc3RlbmVyKCdvbmJlZm9yZXVubG9hZCcscGFnZVVubG9hZERldGVjdG9yLHRydWUpO31lbHNle3dpbi5kZXRhY2hFdmVudCgnb25iZWZvcmV1bmxvYWQnLHBhZ2VVbmxvYWREZXRlY3Rvcik7fWlmKHRoaXMuX3dpbmRvd0Nsb3NlZCh3aW4pKXtyZXR1cm47fS8vIE9uY2hhbmdlIGV2ZW50IGlzIG5vdCB0cmlnZ2VyZWQgYXV0b21hdGljYWxseSBpbiBJRS5cbmlmKGlzRGVmaW5lZChlbGVtZW50LmNoZWNrZWQpJiZ3YXNDaGVja2VkIT1lbGVtZW50LmNoZWNrZWQpe2JvdC5ldmVudHMuZmlyZShlbGVtZW50LGJvdC5ldmVudHMuRXZlbnRUeXBlLkNIQU5HRSk7fX1jYXRjaChlKXsvLyBJZiB0aGUgcGFnZSBpcyB1bmxvYWRpbmcsIHdlIG1heSBnZXQgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgb3IgXCJVbnNwZWNpZmllZCBlcnJvclwiLlxuLy8gSnVzdCBpZ25vcmUgaXQsIGJlY2F1c2UgdGhlIGRvY3VtZW50IG1heSBoYXZlIHVubG9hZGVkLlxuaWYocGFnZVVubG9hZGluZyl7Ly9MT0cubG9nSG9vayA9IGZ1bmN0aW9uKCkge1xuLy99O1xuLy9MT0cud2FybihcIkNhdWdodCBleGNlcHRpb24gd2hlbiBmaXJpbmcgZXZlbnRzIG9uIHVubG9hZGluZyBwYWdlOiBcIiArIGUubWVzc2FnZSk7XG5yZXR1cm47fXRocm93IGU7fX07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb250ZW50L3NlbGVuaXVtLWJyb3dzZXJib3QuanNcbi8vIG1vZHVsZSBpZCA9IDIyOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///228\n");

/***/ }),

/***/ 229:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"a\"] = PatternMatcher;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SeleniumError__ = __webpack_require__(110);\n// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nfunction PatternMatcher(pattern){this.selectStrategy(pattern);}PatternMatcher.prototype={selectStrategy:function(pattern){this.pattern=pattern;let strategyName='glob';// by default\nif(/^([a-z-]+):(.*)/.test(pattern)){const possibleNewStrategyName=RegExp.$1;const possibleNewPattern=RegExp.$2;if(PatternMatcher.strategies[possibleNewStrategyName]){strategyName=possibleNewStrategyName;pattern=possibleNewPattern;}}const matchStrategy=PatternMatcher.strategies[strategyName];if(!matchStrategy){throw new __WEBPACK_IMPORTED_MODULE_0__SeleniumError__[\"a\" /* default */]('cannot find PatternMatcher.strategies.'+strategyName);}this.strategy=matchStrategy;this.matcher=new matchStrategy(pattern);},matches:function(actual){return this.matcher.matches(actual+'');// Note: appending an empty string avoids a Konqueror bug\n}/**\n * A \"static\" convenience method for easy matching\n */};PatternMatcher.matches=function(pattern,actual){return new PatternMatcher(pattern).matches(actual);};PatternMatcher.strategies={/**\n   * Exact matching, e.g. \"exact:***\"\n   */exact:function(expected){this.expected=expected;this.matches=function(actual){return actual==this.expected;};},/**\n   * Match by regular expression, e.g. \"regexp:^[0-9]+$\"\n   */regexp:function(regexpString){this.regexp=new RegExp(regexpString);this.matches=function(actual){return this.regexp.test(actual);};},regex:function(regexpString){this.regexp=new RegExp(regexpString);this.matches=function(actual){return this.regexp.test(actual);};},regexpi:function(regexpString){this.regexp=new RegExp(regexpString,'i');this.matches=function(actual){return this.regexp.test(actual);};},regexi:function(regexpString){this.regexp=new RegExp(regexpString,'i');this.matches=function(actual){return this.regexp.test(actual);};},/**\n   * \"globContains\" (aka \"wildmat\") patterns, e.g. \"glob:one,two,*\",\n   * but don't require a perfect match; instead succeed if actual\n   * contains something that matches globString.\n   * Making this distinction is motivated by a bug in IE6 which\n   * leads to the browser hanging if we implement *TextPresent tests\n   * by just matching against a regular expression beginning and\n   * ending with \".*\".  The globcontains strategy allows us to satisfy\n   * the functional needs of the *TextPresent ops more efficiently\n   * and so avoid running into this IE6 freeze.\n   */globContains:function(globString){this.regexp=new RegExp(PatternMatcher.regexpFromGlobContains(globString));this.matches=function(actual){return this.regexp.test(actual);};},/**\n   * \"glob\" (aka \"wildmat\") patterns, e.g. \"glob:one,two,*\"\n   */glob:function(globString){this.regexp=new RegExp(PatternMatcher.regexpFromGlob(globString));this.matches=function(actual){return this.regexp.test(actual);};}};PatternMatcher.convertGlobMetaCharsToRegexpMetaChars=function(glob){let re=glob;re=re.replace(/([.^$+(){}\\[\\]\\\\|])/g,'\\\\$1');// eslint-disable-line no-useless-escape\nre=re.replace(/\\?/g,'(.|[\\r\\n])');re=re.replace(/\\*/g,'(.|[\\r\\n])*');return re;};PatternMatcher.regexpFromGlobContains=function(globContains){return PatternMatcher.convertGlobMetaCharsToRegexpMetaChars(globContains);};PatternMatcher.regexpFromGlob=function(glob){return'^'+PatternMatcher.convertGlobMetaCharsToRegexpMetaChars(glob)+'$';};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9QYXR0ZXJuTWF0Y2hlci5qcz8yNzZmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSBTb2Z0d2FyZSBGcmVlZG9tIENvbnNlcnZhbmN5IChTRkMpIHVuZGVyIG9uZVxuLy8gb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4vLyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuLy8gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgU0ZDIGxpY2Vuc2VzIHRoaXMgZmlsZVxuLy8gdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuLy8gXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4vLyB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4vLyBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuLy8gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbi8vIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuLy8gc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuLy8gdW5kZXIgdGhlIExpY2Vuc2UuXG5pbXBvcnQgU2VsZW5pdW1FcnJvciBmcm9tJy4vU2VsZW5pdW1FcnJvcic7ZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGF0dGVybk1hdGNoZXIocGF0dGVybil7dGhpcy5zZWxlY3RTdHJhdGVneShwYXR0ZXJuKTt9UGF0dGVybk1hdGNoZXIucHJvdG90eXBlPXtzZWxlY3RTdHJhdGVneTpmdW5jdGlvbihwYXR0ZXJuKXt0aGlzLnBhdHRlcm49cGF0dGVybjtsZXQgc3RyYXRlZ3lOYW1lPSdnbG9iJzsvLyBieSBkZWZhdWx0XG5pZigvXihbYS16LV0rKTooLiopLy50ZXN0KHBhdHRlcm4pKXtjb25zdCBwb3NzaWJsZU5ld1N0cmF0ZWd5TmFtZT1SZWdFeHAuJDE7Y29uc3QgcG9zc2libGVOZXdQYXR0ZXJuPVJlZ0V4cC4kMjtpZihQYXR0ZXJuTWF0Y2hlci5zdHJhdGVnaWVzW3Bvc3NpYmxlTmV3U3RyYXRlZ3lOYW1lXSl7c3RyYXRlZ3lOYW1lPXBvc3NpYmxlTmV3U3RyYXRlZ3lOYW1lO3BhdHRlcm49cG9zc2libGVOZXdQYXR0ZXJuO319Y29uc3QgbWF0Y2hTdHJhdGVneT1QYXR0ZXJuTWF0Y2hlci5zdHJhdGVnaWVzW3N0cmF0ZWd5TmFtZV07aWYoIW1hdGNoU3RyYXRlZ3kpe3Rocm93IG5ldyBTZWxlbml1bUVycm9yKCdjYW5ub3QgZmluZCBQYXR0ZXJuTWF0Y2hlci5zdHJhdGVnaWVzLicrc3RyYXRlZ3lOYW1lKTt9dGhpcy5zdHJhdGVneT1tYXRjaFN0cmF0ZWd5O3RoaXMubWF0Y2hlcj1uZXcgbWF0Y2hTdHJhdGVneShwYXR0ZXJuKTt9LG1hdGNoZXM6ZnVuY3Rpb24oYWN0dWFsKXtyZXR1cm4gdGhpcy5tYXRjaGVyLm1hdGNoZXMoYWN0dWFsKycnKTsvLyBOb3RlOiBhcHBlbmRpbmcgYW4gZW1wdHkgc3RyaW5nIGF2b2lkcyBhIEtvbnF1ZXJvciBidWdcbn0vKipcbiAqIEEgXCJzdGF0aWNcIiBjb252ZW5pZW5jZSBtZXRob2QgZm9yIGVhc3kgbWF0Y2hpbmdcbiAqL307UGF0dGVybk1hdGNoZXIubWF0Y2hlcz1mdW5jdGlvbihwYXR0ZXJuLGFjdHVhbCl7cmV0dXJuIG5ldyBQYXR0ZXJuTWF0Y2hlcihwYXR0ZXJuKS5tYXRjaGVzKGFjdHVhbCk7fTtQYXR0ZXJuTWF0Y2hlci5zdHJhdGVnaWVzPXsvKipcbiAgICogRXhhY3QgbWF0Y2hpbmcsIGUuZy4gXCJleGFjdDoqKipcIlxuICAgKi9leGFjdDpmdW5jdGlvbihleHBlY3RlZCl7dGhpcy5leHBlY3RlZD1leHBlY3RlZDt0aGlzLm1hdGNoZXM9ZnVuY3Rpb24oYWN0dWFsKXtyZXR1cm4gYWN0dWFsPT10aGlzLmV4cGVjdGVkO307fSwvKipcbiAgICogTWF0Y2ggYnkgcmVndWxhciBleHByZXNzaW9uLCBlLmcuIFwicmVnZXhwOl5bMC05XSskXCJcbiAgICovcmVnZXhwOmZ1bmN0aW9uKHJlZ2V4cFN0cmluZyl7dGhpcy5yZWdleHA9bmV3IFJlZ0V4cChyZWdleHBTdHJpbmcpO3RoaXMubWF0Y2hlcz1mdW5jdGlvbihhY3R1YWwpe3JldHVybiB0aGlzLnJlZ2V4cC50ZXN0KGFjdHVhbCk7fTt9LHJlZ2V4OmZ1bmN0aW9uKHJlZ2V4cFN0cmluZyl7dGhpcy5yZWdleHA9bmV3IFJlZ0V4cChyZWdleHBTdHJpbmcpO3RoaXMubWF0Y2hlcz1mdW5jdGlvbihhY3R1YWwpe3JldHVybiB0aGlzLnJlZ2V4cC50ZXN0KGFjdHVhbCk7fTt9LHJlZ2V4cGk6ZnVuY3Rpb24ocmVnZXhwU3RyaW5nKXt0aGlzLnJlZ2V4cD1uZXcgUmVnRXhwKHJlZ2V4cFN0cmluZywnaScpO3RoaXMubWF0Y2hlcz1mdW5jdGlvbihhY3R1YWwpe3JldHVybiB0aGlzLnJlZ2V4cC50ZXN0KGFjdHVhbCk7fTt9LHJlZ2V4aTpmdW5jdGlvbihyZWdleHBTdHJpbmcpe3RoaXMucmVnZXhwPW5ldyBSZWdFeHAocmVnZXhwU3RyaW5nLCdpJyk7dGhpcy5tYXRjaGVzPWZ1bmN0aW9uKGFjdHVhbCl7cmV0dXJuIHRoaXMucmVnZXhwLnRlc3QoYWN0dWFsKTt9O30sLyoqXG4gICAqIFwiZ2xvYkNvbnRhaW5zXCIgKGFrYSBcIndpbGRtYXRcIikgcGF0dGVybnMsIGUuZy4gXCJnbG9iOm9uZSx0d28sKlwiLFxuICAgKiBidXQgZG9uJ3QgcmVxdWlyZSBhIHBlcmZlY3QgbWF0Y2g7IGluc3RlYWQgc3VjY2VlZCBpZiBhY3R1YWxcbiAgICogY29udGFpbnMgc29tZXRoaW5nIHRoYXQgbWF0Y2hlcyBnbG9iU3RyaW5nLlxuICAgKiBNYWtpbmcgdGhpcyBkaXN0aW5jdGlvbiBpcyBtb3RpdmF0ZWQgYnkgYSBidWcgaW4gSUU2IHdoaWNoXG4gICAqIGxlYWRzIHRvIHRoZSBicm93c2VyIGhhbmdpbmcgaWYgd2UgaW1wbGVtZW50ICpUZXh0UHJlc2VudCB0ZXN0c1xuICAgKiBieSBqdXN0IG1hdGNoaW5nIGFnYWluc3QgYSByZWd1bGFyIGV4cHJlc3Npb24gYmVnaW5uaW5nIGFuZFxuICAgKiBlbmRpbmcgd2l0aCBcIi4qXCIuICBUaGUgZ2xvYmNvbnRhaW5zIHN0cmF0ZWd5IGFsbG93cyB1cyB0byBzYXRpc2Z5XG4gICAqIHRoZSBmdW5jdGlvbmFsIG5lZWRzIG9mIHRoZSAqVGV4dFByZXNlbnQgb3BzIG1vcmUgZWZmaWNpZW50bHlcbiAgICogYW5kIHNvIGF2b2lkIHJ1bm5pbmcgaW50byB0aGlzIElFNiBmcmVlemUuXG4gICAqL2dsb2JDb250YWluczpmdW5jdGlvbihnbG9iU3RyaW5nKXt0aGlzLnJlZ2V4cD1uZXcgUmVnRXhwKFBhdHRlcm5NYXRjaGVyLnJlZ2V4cEZyb21HbG9iQ29udGFpbnMoZ2xvYlN0cmluZykpO3RoaXMubWF0Y2hlcz1mdW5jdGlvbihhY3R1YWwpe3JldHVybiB0aGlzLnJlZ2V4cC50ZXN0KGFjdHVhbCk7fTt9LC8qKlxuICAgKiBcImdsb2JcIiAoYWthIFwid2lsZG1hdFwiKSBwYXR0ZXJucywgZS5nLiBcImdsb2I6b25lLHR3bywqXCJcbiAgICovZ2xvYjpmdW5jdGlvbihnbG9iU3RyaW5nKXt0aGlzLnJlZ2V4cD1uZXcgUmVnRXhwKFBhdHRlcm5NYXRjaGVyLnJlZ2V4cEZyb21HbG9iKGdsb2JTdHJpbmcpKTt0aGlzLm1hdGNoZXM9ZnVuY3Rpb24oYWN0dWFsKXtyZXR1cm4gdGhpcy5yZWdleHAudGVzdChhY3R1YWwpO307fX07UGF0dGVybk1hdGNoZXIuY29udmVydEdsb2JNZXRhQ2hhcnNUb1JlZ2V4cE1ldGFDaGFycz1mdW5jdGlvbihnbG9iKXtsZXQgcmU9Z2xvYjtyZT1yZS5yZXBsYWNlKC8oWy5eJCsoKXt9XFxbXFxdXFxcXHxdKS9nLCdcXFxcJDEnKTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG5yZT1yZS5yZXBsYWNlKC9cXD8vZywnKC58W1xcclxcbl0pJyk7cmU9cmUucmVwbGFjZSgvXFwqL2csJygufFtcXHJcXG5dKSonKTtyZXR1cm4gcmU7fTtQYXR0ZXJuTWF0Y2hlci5yZWdleHBGcm9tR2xvYkNvbnRhaW5zPWZ1bmN0aW9uKGdsb2JDb250YWlucyl7cmV0dXJuIFBhdHRlcm5NYXRjaGVyLmNvbnZlcnRHbG9iTWV0YUNoYXJzVG9SZWdleHBNZXRhQ2hhcnMoZ2xvYkNvbnRhaW5zKTt9O1BhdHRlcm5NYXRjaGVyLnJlZ2V4cEZyb21HbG9iPWZ1bmN0aW9uKGdsb2Ipe3JldHVybideJytQYXR0ZXJuTWF0Y2hlci5jb252ZXJ0R2xvYk1ldGFDaGFyc1RvUmVnZXhwTWV0YUNoYXJzKGdsb2IpKyckJzt9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29udGVudC9QYXR0ZXJuTWF0Y2hlci5qc1xuLy8gbW9kdWxlIGlkID0gMjI5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///229\n");

/***/ }),

/***/ 333:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(140);


/***/ }),

/***/ 391:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* unused harmony export exactMatchPattern */\n// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n// Modified in tools.js from selenium-IDE\nfunction exactMatchPattern(string){if(string!=null&&(string.match(/^\\w*:/)||string.indexOf('?')>=0||string.indexOf('*')>=0)){return'exact:'+string;}else{return string;}}class TargetSelector{constructor(callback,cleanupCallback){this.callback=callback;this.cleanupCallback=cleanupCallback;// This is for XPCOM/XUL addon and can't be used\n//var wm = Components.classes[\"@mozilla.org/appshell/window-mediator;1\"].getService(Components.interfaces.nsIWindowMediator);\n//this.win = wm.getMostRecentWindow('navigator:browser').getBrowser().contentWindow;\n// Instead, we simply assign global content window to this.win\nthis.win=window;const doc=this.win.document;const div=doc.createElement('div');div.setAttribute('style','display: none;');doc.body.insertBefore(div,doc.body.firstChild);this.div=div;this.e=null;this.r=null;this.banner=doc.createElement('div');this.banner.setAttribute('style','position: fixed;top: 0;left: 0;bottom: 0;right: 0;background: trasparent;z-index: 10000;');const header=doc.createElement('div');header.setAttribute('style',\"pointer-events: none;display: flex;align-items: center;justify-content: center;flex-direction: row;position: fixed;top: 20%;left: 50%;transform: translateX(-50%);background: #f7f7f7;color: #114990;font-size: 22px;font-weight: 200;z-index: 10001;font-family: system, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Arial, sans-serif;box-shadow: 0 7px 10px 0 rgba(0,0,0,0.1);border: 1px black solid; border-radius: 50px;padding: 10px;\");const img=doc.createElement('img');img.src=browser.runtime.getURL('/icons/icon_light128.png');img.setAttribute('style','width: 28px;margin: 0 10px;');header.appendChild(img);const span=doc.createElement('span');span.setAttribute('style','border-left: 1px solid #c6c6c6;padding: 3px 10px;');span.innerText='Select an element';header.appendChild(span);setTimeout(()=>{// this has to happen after a timeout, since adding it sync will add the event\n// before the window is focused which will case mousemove to fire before the\n// user actually moves the mouse\nthis.banner.addEventListener('mousemove',()=>{setTimeout(()=>{this.banner.style.visibility='hidden';},300);},false);},300);this.banner.appendChild(header);doc.body.insertBefore(this.banner,div);doc.addEventListener('mousemove',this,true);doc.addEventListener('click',this,true);}cleanup(){try{if(this.div){if(this.div.parentNode){this.div.parentNode.removeChild(this.div);}this.div=null;}if(this.header){if(this.header.parentNode){this.header.parentNode.removeChild(this.header);}this.header=null;}if(this.win){const doc=this.win.document;doc.removeEventListener('mousemove',this,true);doc.removeEventListener('click',this,true);}}catch(e){if(e!=\"TypeError: can't access dead object\"){throw e;}}this.win=null;if(this.cleanupCallback){this.cleanupCallback();}}handleEvent(evt){switch(evt.type){case'mousemove':this.highlight(evt.target.ownerDocument,evt.clientX,evt.clientY);break;case'click':if(evt.button==0&&this.e&&this.callback){this.callback(this.e,this.win);}//Right click would cancel the select\nevt.preventDefault();evt.stopPropagation();this.cleanup();break;}}highlight(doc,x,y){if(doc){const e=doc.elementFromPoint(x,y);if(e&&e!=this.e){this.highlightElement(e);}}}highlightElement(element){if(element&&element!=this.e&&element!==this.banner){this.e=element;}else{return;}const r=element.getBoundingClientRect();const or=this.r;if(r.left>=0&&r.top>=0&&r.width>0&&r.height>0){if(or&&r.top==or.top&&r.left==or.left&&r.width==or.width&&r.height==or.height){return;}this.r=r;const style='pointer-events: none; position: absolute; background-color: rgb(78, 171, 230); opacity: 0.4; border: 1px solid #0e0e0e; z-index: 1000000;';const pos=`top:${r.top+this.win.scrollY}px; left:${r.left+this.win.scrollX}px; width:${r.width}px; height:${r.height}px;`;this.div.setAttribute('style',style+pos);}else if(or){this.div.setAttribute('style','display: none;');}}}/* harmony default export */ __webpack_exports__[\"a\"] = (TargetSelector);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC90YXJnZXRTZWxlY3Rvci5qcz8wODY2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIExpY2Vuc2VkIHRvIHRoZSBTb2Z0d2FyZSBGcmVlZG9tIENvbnNlcnZhbmN5IChTRkMpIHVuZGVyIG9uZVxuLy8gb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4vLyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuLy8gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgU0ZDIGxpY2Vuc2VzIHRoaXMgZmlsZVxuLy8gdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuLy8gXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4vLyB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4vLyBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuLy8gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbi8vIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuLy8gc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuLy8gdW5kZXIgdGhlIExpY2Vuc2UuXG4vLyBNb2RpZmllZCBpbiB0b29scy5qcyBmcm9tIHNlbGVuaXVtLUlERVxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0TWF0Y2hQYXR0ZXJuKHN0cmluZyl7aWYoc3RyaW5nIT1udWxsJiYoc3RyaW5nLm1hdGNoKC9eXFx3KjovKXx8c3RyaW5nLmluZGV4T2YoJz8nKT49MHx8c3RyaW5nLmluZGV4T2YoJyonKT49MCkpe3JldHVybidleGFjdDonK3N0cmluZzt9ZWxzZXtyZXR1cm4gc3RyaW5nO319Y2xhc3MgVGFyZ2V0U2VsZWN0b3J7Y29uc3RydWN0b3IoY2FsbGJhY2ssY2xlYW51cENhbGxiYWNrKXt0aGlzLmNhbGxiYWNrPWNhbGxiYWNrO3RoaXMuY2xlYW51cENhbGxiYWNrPWNsZWFudXBDYWxsYmFjazsvLyBUaGlzIGlzIGZvciBYUENPTS9YVUwgYWRkb24gYW5kIGNhbid0IGJlIHVzZWRcbi8vdmFyIHdtID0gQ29tcG9uZW50cy5jbGFzc2VzW1wiQG1vemlsbGEub3JnL2FwcHNoZWxsL3dpbmRvdy1tZWRpYXRvcjsxXCJdLmdldFNlcnZpY2UoQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSVdpbmRvd01lZGlhdG9yKTtcbi8vdGhpcy53aW4gPSB3bS5nZXRNb3N0UmVjZW50V2luZG93KCduYXZpZ2F0b3I6YnJvd3NlcicpLmdldEJyb3dzZXIoKS5jb250ZW50V2luZG93O1xuLy8gSW5zdGVhZCwgd2Ugc2ltcGx5IGFzc2lnbiBnbG9iYWwgY29udGVudCB3aW5kb3cgdG8gdGhpcy53aW5cbnRoaXMud2luPXdpbmRvdztjb25zdCBkb2M9dGhpcy53aW4uZG9jdW1lbnQ7Y29uc3QgZGl2PWRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtkaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsJ2Rpc3BsYXk6IG5vbmU7Jyk7ZG9jLmJvZHkuaW5zZXJ0QmVmb3JlKGRpdixkb2MuYm9keS5maXJzdENoaWxkKTt0aGlzLmRpdj1kaXY7dGhpcy5lPW51bGw7dGhpcy5yPW51bGw7dGhpcy5iYW5uZXI9ZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO3RoaXMuYmFubmVyLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCdwb3NpdGlvbjogZml4ZWQ7dG9wOiAwO2xlZnQ6IDA7Ym90dG9tOiAwO3JpZ2h0OiAwO2JhY2tncm91bmQ6IHRyYXNwYXJlbnQ7ei1pbmRleDogMTAwMDA7Jyk7Y29uc3QgaGVhZGVyPWRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtoZWFkZXIuc2V0QXR0cmlidXRlKCdzdHlsZScsXCJwb2ludGVyLWV2ZW50czogbm9uZTtkaXNwbGF5OiBmbGV4O2FsaWduLWl0ZW1zOiBjZW50ZXI7anVzdGlmeS1jb250ZW50OiBjZW50ZXI7ZmxleC1kaXJlY3Rpb246IHJvdztwb3NpdGlvbjogZml4ZWQ7dG9wOiAyMCU7bGVmdDogNTAlO3RyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtiYWNrZ3JvdW5kOiAjZjdmN2Y3O2NvbG9yOiAjMTE0OTkwO2ZvbnQtc2l6ZTogMjJweDtmb250LXdlaWdodDogMjAwO3otaW5kZXg6IDEwMDAxO2ZvbnQtZmFtaWx5OiBzeXN0ZW0sIC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ0hlbHZldGljYSBOZXVlJywgQXJpYWwsIHNhbnMtc2VyaWY7Ym94LXNoYWRvdzogMCA3cHggMTBweCAwIHJnYmEoMCwwLDAsMC4xKTtib3JkZXI6IDFweCBibGFjayBzb2xpZDsgYm9yZGVyLXJhZGl1czogNTBweDtwYWRkaW5nOiAxMHB4O1wiKTtjb25zdCBpbWc9ZG9jLmNyZWF0ZUVsZW1lbnQoJ2ltZycpO2ltZy5zcmM9YnJvd3Nlci5ydW50aW1lLmdldFVSTCgnL2ljb25zL2ljb25fbGlnaHQxMjgucG5nJyk7aW1nLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCd3aWR0aDogMjhweDttYXJnaW46IDAgMTBweDsnKTtoZWFkZXIuYXBwZW5kQ2hpbGQoaW1nKTtjb25zdCBzcGFuPWRvYy5jcmVhdGVFbGVtZW50KCdzcGFuJyk7c3Bhbi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywnYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjYzZjNmM2O3BhZGRpbmc6IDNweCAxMHB4OycpO3NwYW4uaW5uZXJUZXh0PSdTZWxlY3QgYW4gZWxlbWVudCc7aGVhZGVyLmFwcGVuZENoaWxkKHNwYW4pO3NldFRpbWVvdXQoKCk9PnsvLyB0aGlzIGhhcyB0byBoYXBwZW4gYWZ0ZXIgYSB0aW1lb3V0LCBzaW5jZSBhZGRpbmcgaXQgc3luYyB3aWxsIGFkZCB0aGUgZXZlbnRcbi8vIGJlZm9yZSB0aGUgd2luZG93IGlzIGZvY3VzZWQgd2hpY2ggd2lsbCBjYXNlIG1vdXNlbW92ZSB0byBmaXJlIGJlZm9yZSB0aGVcbi8vIHVzZXIgYWN0dWFsbHkgbW92ZXMgdGhlIG1vdXNlXG50aGlzLmJhbm5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCgpPT57c2V0VGltZW91dCgoKT0+e3RoaXMuYmFubmVyLnN0eWxlLnZpc2liaWxpdHk9J2hpZGRlbic7fSwzMDApO30sZmFsc2UpO30sMzAwKTt0aGlzLmJhbm5lci5hcHBlbmRDaGlsZChoZWFkZXIpO2RvYy5ib2R5Lmluc2VydEJlZm9yZSh0aGlzLmJhbm5lcixkaXYpO2RvYy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLHRoaXMsdHJ1ZSk7ZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyx0aGlzLHRydWUpO31jbGVhbnVwKCl7dHJ5e2lmKHRoaXMuZGl2KXtpZih0aGlzLmRpdi5wYXJlbnROb2RlKXt0aGlzLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2KTt9dGhpcy5kaXY9bnVsbDt9aWYodGhpcy5oZWFkZXIpe2lmKHRoaXMuaGVhZGVyLnBhcmVudE5vZGUpe3RoaXMuaGVhZGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5oZWFkZXIpO310aGlzLmhlYWRlcj1udWxsO31pZih0aGlzLndpbil7Y29uc3QgZG9jPXRoaXMud2luLmRvY3VtZW50O2RvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLHRoaXMsdHJ1ZSk7ZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyx0aGlzLHRydWUpO319Y2F0Y2goZSl7aWYoZSE9XCJUeXBlRXJyb3I6IGNhbid0IGFjY2VzcyBkZWFkIG9iamVjdFwiKXt0aHJvdyBlO319dGhpcy53aW49bnVsbDtpZih0aGlzLmNsZWFudXBDYWxsYmFjayl7dGhpcy5jbGVhbnVwQ2FsbGJhY2soKTt9fWhhbmRsZUV2ZW50KGV2dCl7c3dpdGNoKGV2dC50eXBlKXtjYXNlJ21vdXNlbW92ZSc6dGhpcy5oaWdobGlnaHQoZXZ0LnRhcmdldC5vd25lckRvY3VtZW50LGV2dC5jbGllbnRYLGV2dC5jbGllbnRZKTticmVhaztjYXNlJ2NsaWNrJzppZihldnQuYnV0dG9uPT0wJiZ0aGlzLmUmJnRoaXMuY2FsbGJhY2spe3RoaXMuY2FsbGJhY2sodGhpcy5lLHRoaXMud2luKTt9Ly9SaWdodCBjbGljayB3b3VsZCBjYW5jZWwgdGhlIHNlbGVjdFxuZXZ0LnByZXZlbnREZWZhdWx0KCk7ZXZ0LnN0b3BQcm9wYWdhdGlvbigpO3RoaXMuY2xlYW51cCgpO2JyZWFrO319aGlnaGxpZ2h0KGRvYyx4LHkpe2lmKGRvYyl7Y29uc3QgZT1kb2MuZWxlbWVudEZyb21Qb2ludCh4LHkpO2lmKGUmJmUhPXRoaXMuZSl7dGhpcy5oaWdobGlnaHRFbGVtZW50KGUpO319fWhpZ2hsaWdodEVsZW1lbnQoZWxlbWVudCl7aWYoZWxlbWVudCYmZWxlbWVudCE9dGhpcy5lJiZlbGVtZW50IT09dGhpcy5iYW5uZXIpe3RoaXMuZT1lbGVtZW50O31lbHNle3JldHVybjt9Y29uc3Qgcj1lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2NvbnN0IG9yPXRoaXMucjtpZihyLmxlZnQ+PTAmJnIudG9wPj0wJiZyLndpZHRoPjAmJnIuaGVpZ2h0PjApe2lmKG9yJiZyLnRvcD09b3IudG9wJiZyLmxlZnQ9PW9yLmxlZnQmJnIud2lkdGg9PW9yLndpZHRoJiZyLmhlaWdodD09b3IuaGVpZ2h0KXtyZXR1cm47fXRoaXMucj1yO2NvbnN0IHN0eWxlPSdwb2ludGVyLWV2ZW50czogbm9uZTsgcG9zaXRpb246IGFic29sdXRlOyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoNzgsIDE3MSwgMjMwKTsgb3BhY2l0eTogMC40OyBib3JkZXI6IDFweCBzb2xpZCAjMGUwZTBlOyB6LWluZGV4OiAxMDAwMDAwOyc7Y29uc3QgcG9zPWB0b3A6JHtyLnRvcCt0aGlzLndpbi5zY3JvbGxZfXB4OyBsZWZ0OiR7ci5sZWZ0K3RoaXMud2luLnNjcm9sbFh9cHg7IHdpZHRoOiR7ci53aWR0aH1weDsgaGVpZ2h0OiR7ci5oZWlnaHR9cHg7YDt0aGlzLmRpdi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJyxzdHlsZStwb3MpO31lbHNlIGlmKG9yKXt0aGlzLmRpdi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywnZGlzcGxheTogbm9uZTsnKTt9fX1leHBvcnQgZGVmYXVsdCBUYXJnZXRTZWxlY3RvcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2NvbnRlbnQvdGFyZ2V0U2VsZWN0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDM5MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///391\n");

/***/ }),

/***/ 394:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"a\"] = editRegion;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = removeRegion;\n// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nconst coords={startX:0,startY:0,endX:0,endY:0};const mouseOffset={x:0,y:0};const STATES={create:1,update:2,resize:3};let state=STATES.create;let canvasExists=false;function editRegion(rect,cb){if(canvasExists){return cb(false);}const container=document.createElement('div');container.id='selenium-container';const canvas=document.createElement('div');canvas.id='selenium-canvas';const region=createRegion();setStyle(canvas,region);setEvents(container);const buttonContainer=createButtons(cb);buttonContainer.style.zIndex='10002';if(rect){region.style.left=`${rect.x}px`;region.style.top=`${rect.y}px`;region.style.width=`${rect.width}px`;region.style.height=`${rect.height}px`;}container.appendChild(buttonContainer);container.appendChild(canvas);container.appendChild(region);document.body.appendChild(container);canvasExists=true;}function removeRegion(){if(canvasExists){document.body.removeChild(document.getElementById('selenium-container'));}canvasExists=false;}function setStyle(canvas,region){canvas.style.position='fixed';canvas.style.top=0;canvas.style.bottom=0;canvas.style.right=0;canvas.style.left=0;canvas.style.zIndex='10000';canvas.style.cursor='crosshair';region.style.position='absolute';region.style.zIndex='10001';region.style.backgroundColor='rgb(78, 171, 230)';region.style.opacity='0.4';region.style.border='1px solid #0e0e0e';}function setEvents(container){container.addEventListener('mousedown',mousedown);container.addEventListener('mouseup',mouseup);}function mousedown(e){const container=document.getElementById('selenium-container');const canvas=document.getElementById('selenium-canvas');const region=document.getElementById('selenium-region');e.stopPropagation();if(e.target.tagName==='BUTTON')return;if(e.target===canvas){updateRegion(e.pageX,e.pageY,e.pageX,e.pageY);state=STATES.create;region.style.cursor='crosshair';}else if(e.target===region){state=STATES.update;mouseOffset.x=e.pageX;mouseOffset.y=e.pageY;region.style.cursor='move';}else if(e.target.parentElement===region){state=STATES.resize;}container.addEventListener('mousemove',mousemove);}function mousemove(e){e.stopPropagation();if(e.target.tagName==='BUTTON')return;if(state===STATES.create||state===STATES.resize){updateRegion(undefined,undefined,e.pageX,e.pageY);}else if(state===STATES.update){moveRegion(e.pageX,e.pageY);}}function mouseup(e){const container=document.getElementById('selenium-container');const canvas=document.getElementById('selenium-canvas');const region=document.getElementById('selenium-region');e.stopPropagation();region.style.cursor='move';canvas.style.cursor='crosshair';container.removeEventListener('mousemove',mousemove);showButtons();}function calculateRectFromCoords(coords){return calculateRect({x:coords.startX,y:coords.startY},{x:coords.endX,y:coords.endY});}function calculateRect(p1,p2){return{left:Math.min(p1.x,p2.x),top:Math.min(p1.y,p2.y),width:Math.abs(p1.x-p2.x),height:Math.abs(p1.y-p2.y)};}function updateRegion(startX,startY,endX,endY){hideButtons();const region=document.getElementById('selenium-region');if(startX){coords.startX=startX;}if(startY){coords.startY=startY;}if(endX){coords.endX=endX;}if(endY){coords.endY=endY;}const rect=calculateRectFromCoords(coords);region.style.left=`${rect.left}px`;region.style.top=`${rect.top}px`;region.style.width=`${rect.width}px`;region.style.height=`${rect.height}px`;}function moveRegion(mouseX,mouseY){let dx=mouseOffset.x-mouseX;let dy=mouseOffset.y-mouseY;mouseOffset.x=mouseX;mouseOffset.y=mouseY;if(coords.startX-dx<5||coords.endX-dx<5)dx=0;if(coords.startY-dy<5||coords.endY-dy<5)dy=0;updateRegion(coords.startX-dx,coords.startY-dy,coords.endX-dx,coords.endY-dy);}function createRegion(){const region=document.createElement('div');region.id='selenium-region';const cornerSize=20;const tlc=createHotCorner(cornerSize);tlc.style.top='-5px';tlc.style.left='-5px';tlc.style.cursor='nw-resize';tlc.addEventListener('mousedown',()=>{const canvas=document.getElementById('selenium-canvas');const region=document.getElementById('selenium-region');canvas.style.cursor='nw-resize';region.style.cursor='nw-resize';updateRegion(Math.max(coords.startX,coords.endX),Math.max(coords.startY,coords.endY),Math.min(coords.startX,coords.endX),Math.min(coords.startY,coords.endY));});region.appendChild(tlc);const trc=createHotCorner(cornerSize);trc.style.top='-5px';trc.style.right='-5px';trc.style.cursor='ne-resize';trc.addEventListener('mousedown',()=>{const canvas=document.getElementById('selenium-canvas');const region=document.getElementById('selenium-region');canvas.style.cursor='ne-resize';region.style.cursor='ne-resize';updateRegion(Math.min(coords.startX,coords.endX),Math.max(coords.startY,coords.endY),Math.max(coords.startX,coords.endX),Math.min(coords.startY,coords.endY));});region.appendChild(trc);const blc=createHotCorner(cornerSize);blc.style.bottom='-5px';blc.style.left='-5px';blc.style.cursor='sw-resize';blc.addEventListener('mousedown',()=>{const canvas=document.getElementById('selenium-canvas');const region=document.getElementById('selenium-region');canvas.style.cursor='sw-resize';region.style.cursor='sw-resize';updateRegion(Math.max(coords.startX,coords.endX),Math.min(coords.startY,coords.endY),Math.min(coords.startX,coords.endX),Math.max(coords.startY,coords.endY));});region.appendChild(blc);const brc=createHotCorner(cornerSize);brc.style.bottom='-5px';brc.style.right='-5px';brc.style.cursor='se-resize';brc.addEventListener('mousedown',()=>{const canvas=document.getElementById('selenium-canvas');const region=document.getElementById('selenium-region');canvas.style.cursor='se-resize';region.style.cursor='se-resize';updateRegion(Math.min(coords.startX,coords.endX),Math.min(coords.startY,coords.endY),Math.max(coords.startX,coords.endX),Math.max(coords.startY,coords.endY));});region.appendChild(brc);return region;}function createHotCorner(size){const c=document.createElement('div');c.style.position='absolute';c.style.height=`${size}px`;c.style.width=`${size}px`;return c;}function showButtons(){const canvasRect=document.getElementById('selenium-canvas').getBoundingClientRect();const buttonContainer=document.getElementById('region-control-panel');let top=coords.startY;let bottom=coords.endY;let left=coords.startX;let right=coords.endX;let width=right-left;if(canvasRect.bottom-bottom<=100)bottom=top;if(width<0)left=coords.endX;right=coords.startX;width=Math.abs(width);if(width<225)width=225;buttonContainer.style.position='absolute';buttonContainer.style.top=bottom+'px';buttonContainer.style.left=left+'px';buttonContainer.style.right=right+'px';buttonContainer.style.width=width+'px';buttonContainer.style.backgroundColor='rgba(0, 0, 0, 0.55)';buttonContainer.style.visibility='visible';}function hideButtons(){const buttonContainer=document.getElementById('region-control-panel');buttonContainer.style.visibility='hidden';}function createButtons(cb){const container=document.createElement('div');container.id='region-control-panel';const buttons=document.createElement('div');const confirm=document.createElement('button');confirm.innerText='Confirm';confirm.addEventListener('click',()=>{hideButtons();removeRegion();const rect=calculateRectFromCoords(coords);cb(`x: ${rect.left}, y: ${rect.top}, width: ${rect.width}, height: ${rect.height}`);});const cancel=document.createElement('button');cancel.innerText='Cancel';cancel.addEventListener('click',()=>{hideButtons();removeRegion();cb(false);});container.style.visibility='hidden';buttons.style.display='flex';buttons.style.alignItems='center';buttons.style.justifyContent='center';styleButton(confirm);styleButton(cancel);buttons.appendChild(cancel);buttons.appendChild(confirm);container.appendChild(buttons);return container;}function styleButton(button){button.style.color='#656565';button.style.backgroundColor='#F5F5F5';button.style.padding='10px 20px';button.style.margin='5px 8px';button.style.borderRadius='4px';button.style.outline='0';button.style.textTransform='capitalize';}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzk0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9yZWdpb24uanM/ZmYyMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgU29mdHdhcmUgRnJlZWRvbSBDb25zZXJ2YW5jeSAoU0ZDKSB1bmRlciBvbmVcbi8vIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuLy8gZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbi8vIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIFNGQyBsaWNlbnNlcyB0aGlzIGZpbGVcbi8vIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbi8vIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuLy8gd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuLy8gc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbi8vIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4vLyBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbi8vIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbi8vIHVuZGVyIHRoZSBMaWNlbnNlLlxuY29uc3QgY29vcmRzPXtzdGFydFg6MCxzdGFydFk6MCxlbmRYOjAsZW5kWTowfTtjb25zdCBtb3VzZU9mZnNldD17eDowLHk6MH07Y29uc3QgU1RBVEVTPXtjcmVhdGU6MSx1cGRhdGU6MixyZXNpemU6M307bGV0IHN0YXRlPVNUQVRFUy5jcmVhdGU7bGV0IGNhbnZhc0V4aXN0cz1mYWxzZTtleHBvcnQgZnVuY3Rpb24gZWRpdFJlZ2lvbihyZWN0LGNiKXtpZihjYW52YXNFeGlzdHMpe3JldHVybiBjYihmYWxzZSk7fWNvbnN0IGNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtjb250YWluZXIuaWQ9J3NlbGVuaXVtLWNvbnRhaW5lcic7Y29uc3QgY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO2NhbnZhcy5pZD0nc2VsZW5pdW0tY2FudmFzJztjb25zdCByZWdpb249Y3JlYXRlUmVnaW9uKCk7c2V0U3R5bGUoY2FudmFzLHJlZ2lvbik7c2V0RXZlbnRzKGNvbnRhaW5lcik7Y29uc3QgYnV0dG9uQ29udGFpbmVyPWNyZWF0ZUJ1dHRvbnMoY2IpO2J1dHRvbkNvbnRhaW5lci5zdHlsZS56SW5kZXg9JzEwMDAyJztpZihyZWN0KXtyZWdpb24uc3R5bGUubGVmdD1gJHtyZWN0Lnh9cHhgO3JlZ2lvbi5zdHlsZS50b3A9YCR7cmVjdC55fXB4YDtyZWdpb24uc3R5bGUud2lkdGg9YCR7cmVjdC53aWR0aH1weGA7cmVnaW9uLnN0eWxlLmhlaWdodD1gJHtyZWN0LmhlaWdodH1weGA7fWNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25Db250YWluZXIpO2NvbnRhaW5lci5hcHBlbmRDaGlsZChjYW52YXMpO2NvbnRhaW5lci5hcHBlbmRDaGlsZChyZWdpb24pO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtjYW52YXNFeGlzdHM9dHJ1ZTt9ZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVJlZ2lvbigpe2lmKGNhbnZhc0V4aXN0cyl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZW5pdW0tY29udGFpbmVyJykpO31jYW52YXNFeGlzdHM9ZmFsc2U7fWZ1bmN0aW9uIHNldFN0eWxlKGNhbnZhcyxyZWdpb24pe2NhbnZhcy5zdHlsZS5wb3NpdGlvbj0nZml4ZWQnO2NhbnZhcy5zdHlsZS50b3A9MDtjYW52YXMuc3R5bGUuYm90dG9tPTA7Y2FudmFzLnN0eWxlLnJpZ2h0PTA7Y2FudmFzLnN0eWxlLmxlZnQ9MDtjYW52YXMuc3R5bGUuekluZGV4PScxMDAwMCc7Y2FudmFzLnN0eWxlLmN1cnNvcj0nY3Jvc3NoYWlyJztyZWdpb24uc3R5bGUucG9zaXRpb249J2Fic29sdXRlJztyZWdpb24uc3R5bGUuekluZGV4PScxMDAwMSc7cmVnaW9uLnN0eWxlLmJhY2tncm91bmRDb2xvcj0ncmdiKDc4LCAxNzEsIDIzMCknO3JlZ2lvbi5zdHlsZS5vcGFjaXR5PScwLjQnO3JlZ2lvbi5zdHlsZS5ib3JkZXI9JzFweCBzb2xpZCAjMGUwZTBlJzt9ZnVuY3Rpb24gc2V0RXZlbnRzKGNvbnRhaW5lcil7Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsbW91c2Vkb3duKTtjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsbW91c2V1cCk7fWZ1bmN0aW9uIG1vdXNlZG93bihlKXtjb25zdCBjb250YWluZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVuaXVtLWNvbnRhaW5lcicpO2NvbnN0IGNhbnZhcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZW5pdW0tY2FudmFzJyk7Y29uc3QgcmVnaW9uPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlbml1bS1yZWdpb24nKTtlLnN0b3BQcm9wYWdhdGlvbigpO2lmKGUudGFyZ2V0LnRhZ05hbWU9PT0nQlVUVE9OJylyZXR1cm47aWYoZS50YXJnZXQ9PT1jYW52YXMpe3VwZGF0ZVJlZ2lvbihlLnBhZ2VYLGUucGFnZVksZS5wYWdlWCxlLnBhZ2VZKTtzdGF0ZT1TVEFURVMuY3JlYXRlO3JlZ2lvbi5zdHlsZS5jdXJzb3I9J2Nyb3NzaGFpcic7fWVsc2UgaWYoZS50YXJnZXQ9PT1yZWdpb24pe3N0YXRlPVNUQVRFUy51cGRhdGU7bW91c2VPZmZzZXQueD1lLnBhZ2VYO21vdXNlT2Zmc2V0Lnk9ZS5wYWdlWTtyZWdpb24uc3R5bGUuY3Vyc29yPSdtb3ZlJzt9ZWxzZSBpZihlLnRhcmdldC5wYXJlbnRFbGVtZW50PT09cmVnaW9uKXtzdGF0ZT1TVEFURVMucmVzaXplO31jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyxtb3VzZW1vdmUpO31mdW5jdGlvbiBtb3VzZW1vdmUoZSl7ZS5zdG9wUHJvcGFnYXRpb24oKTtpZihlLnRhcmdldC50YWdOYW1lPT09J0JVVFRPTicpcmV0dXJuO2lmKHN0YXRlPT09U1RBVEVTLmNyZWF0ZXx8c3RhdGU9PT1TVEFURVMucmVzaXplKXt1cGRhdGVSZWdpb24odW5kZWZpbmVkLHVuZGVmaW5lZCxlLnBhZ2VYLGUucGFnZVkpO31lbHNlIGlmKHN0YXRlPT09U1RBVEVTLnVwZGF0ZSl7bW92ZVJlZ2lvbihlLnBhZ2VYLGUucGFnZVkpO319ZnVuY3Rpb24gbW91c2V1cChlKXtjb25zdCBjb250YWluZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVuaXVtLWNvbnRhaW5lcicpO2NvbnN0IGNhbnZhcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZW5pdW0tY2FudmFzJyk7Y29uc3QgcmVnaW9uPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlbml1bS1yZWdpb24nKTtlLnN0b3BQcm9wYWdhdGlvbigpO3JlZ2lvbi5zdHlsZS5jdXJzb3I9J21vdmUnO2NhbnZhcy5zdHlsZS5jdXJzb3I9J2Nyb3NzaGFpcic7Y29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsbW91c2Vtb3ZlKTtzaG93QnV0dG9ucygpO31mdW5jdGlvbiBjYWxjdWxhdGVSZWN0RnJvbUNvb3Jkcyhjb29yZHMpe3JldHVybiBjYWxjdWxhdGVSZWN0KHt4OmNvb3Jkcy5zdGFydFgseTpjb29yZHMuc3RhcnRZfSx7eDpjb29yZHMuZW5kWCx5OmNvb3Jkcy5lbmRZfSk7fWZ1bmN0aW9uIGNhbGN1bGF0ZVJlY3QocDEscDIpe3JldHVybntsZWZ0Ok1hdGgubWluKHAxLngscDIueCksdG9wOk1hdGgubWluKHAxLnkscDIueSksd2lkdGg6TWF0aC5hYnMocDEueC1wMi54KSxoZWlnaHQ6TWF0aC5hYnMocDEueS1wMi55KX07fWZ1bmN0aW9uIHVwZGF0ZVJlZ2lvbihzdGFydFgsc3RhcnRZLGVuZFgsZW5kWSl7aGlkZUJ1dHRvbnMoKTtjb25zdCByZWdpb249ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVuaXVtLXJlZ2lvbicpO2lmKHN0YXJ0WCl7Y29vcmRzLnN0YXJ0WD1zdGFydFg7fWlmKHN0YXJ0WSl7Y29vcmRzLnN0YXJ0WT1zdGFydFk7fWlmKGVuZFgpe2Nvb3Jkcy5lbmRYPWVuZFg7fWlmKGVuZFkpe2Nvb3Jkcy5lbmRZPWVuZFk7fWNvbnN0IHJlY3Q9Y2FsY3VsYXRlUmVjdEZyb21Db29yZHMoY29vcmRzKTtyZWdpb24uc3R5bGUubGVmdD1gJHtyZWN0LmxlZnR9cHhgO3JlZ2lvbi5zdHlsZS50b3A9YCR7cmVjdC50b3B9cHhgO3JlZ2lvbi5zdHlsZS53aWR0aD1gJHtyZWN0LndpZHRofXB4YDtyZWdpb24uc3R5bGUuaGVpZ2h0PWAke3JlY3QuaGVpZ2h0fXB4YDt9ZnVuY3Rpb24gbW92ZVJlZ2lvbihtb3VzZVgsbW91c2VZKXtsZXQgZHg9bW91c2VPZmZzZXQueC1tb3VzZVg7bGV0IGR5PW1vdXNlT2Zmc2V0LnktbW91c2VZO21vdXNlT2Zmc2V0Lng9bW91c2VYO21vdXNlT2Zmc2V0Lnk9bW91c2VZO2lmKGNvb3Jkcy5zdGFydFgtZHg8NXx8Y29vcmRzLmVuZFgtZHg8NSlkeD0wO2lmKGNvb3Jkcy5zdGFydFktZHk8NXx8Y29vcmRzLmVuZFktZHk8NSlkeT0wO3VwZGF0ZVJlZ2lvbihjb29yZHMuc3RhcnRYLWR4LGNvb3Jkcy5zdGFydFktZHksY29vcmRzLmVuZFgtZHgsY29vcmRzLmVuZFktZHkpO31mdW5jdGlvbiBjcmVhdGVSZWdpb24oKXtjb25zdCByZWdpb249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7cmVnaW9uLmlkPSdzZWxlbml1bS1yZWdpb24nO2NvbnN0IGNvcm5lclNpemU9MjA7Y29uc3QgdGxjPWNyZWF0ZUhvdENvcm5lcihjb3JuZXJTaXplKTt0bGMuc3R5bGUudG9wPSctNXB4Jzt0bGMuc3R5bGUubGVmdD0nLTVweCc7dGxjLnN0eWxlLmN1cnNvcj0nbnctcmVzaXplJzt0bGMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywoKT0+e2NvbnN0IGNhbnZhcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZW5pdW0tY2FudmFzJyk7Y29uc3QgcmVnaW9uPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlbml1bS1yZWdpb24nKTtjYW52YXMuc3R5bGUuY3Vyc29yPSdudy1yZXNpemUnO3JlZ2lvbi5zdHlsZS5jdXJzb3I9J253LXJlc2l6ZSc7dXBkYXRlUmVnaW9uKE1hdGgubWF4KGNvb3Jkcy5zdGFydFgsY29vcmRzLmVuZFgpLE1hdGgubWF4KGNvb3Jkcy5zdGFydFksY29vcmRzLmVuZFkpLE1hdGgubWluKGNvb3Jkcy5zdGFydFgsY29vcmRzLmVuZFgpLE1hdGgubWluKGNvb3Jkcy5zdGFydFksY29vcmRzLmVuZFkpKTt9KTtyZWdpb24uYXBwZW5kQ2hpbGQodGxjKTtjb25zdCB0cmM9Y3JlYXRlSG90Q29ybmVyKGNvcm5lclNpemUpO3RyYy5zdHlsZS50b3A9Jy01cHgnO3RyYy5zdHlsZS5yaWdodD0nLTVweCc7dHJjLnN0eWxlLmN1cnNvcj0nbmUtcmVzaXplJzt0cmMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywoKT0+e2NvbnN0IGNhbnZhcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZW5pdW0tY2FudmFzJyk7Y29uc3QgcmVnaW9uPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlbml1bS1yZWdpb24nKTtjYW52YXMuc3R5bGUuY3Vyc29yPSduZS1yZXNpemUnO3JlZ2lvbi5zdHlsZS5jdXJzb3I9J25lLXJlc2l6ZSc7dXBkYXRlUmVnaW9uKE1hdGgubWluKGNvb3Jkcy5zdGFydFgsY29vcmRzLmVuZFgpLE1hdGgubWF4KGNvb3Jkcy5zdGFydFksY29vcmRzLmVuZFkpLE1hdGgubWF4KGNvb3Jkcy5zdGFydFgsY29vcmRzLmVuZFgpLE1hdGgubWluKGNvb3Jkcy5zdGFydFksY29vcmRzLmVuZFkpKTt9KTtyZWdpb24uYXBwZW5kQ2hpbGQodHJjKTtjb25zdCBibGM9Y3JlYXRlSG90Q29ybmVyKGNvcm5lclNpemUpO2JsYy5zdHlsZS5ib3R0b209Jy01cHgnO2JsYy5zdHlsZS5sZWZ0PSctNXB4JztibGMuc3R5bGUuY3Vyc29yPSdzdy1yZXNpemUnO2JsYy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCgpPT57Y29uc3QgY2FudmFzPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlbml1bS1jYW52YXMnKTtjb25zdCByZWdpb249ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVuaXVtLXJlZ2lvbicpO2NhbnZhcy5zdHlsZS5jdXJzb3I9J3N3LXJlc2l6ZSc7cmVnaW9uLnN0eWxlLmN1cnNvcj0nc3ctcmVzaXplJzt1cGRhdGVSZWdpb24oTWF0aC5tYXgoY29vcmRzLnN0YXJ0WCxjb29yZHMuZW5kWCksTWF0aC5taW4oY29vcmRzLnN0YXJ0WSxjb29yZHMuZW5kWSksTWF0aC5taW4oY29vcmRzLnN0YXJ0WCxjb29yZHMuZW5kWCksTWF0aC5tYXgoY29vcmRzLnN0YXJ0WSxjb29yZHMuZW5kWSkpO30pO3JlZ2lvbi5hcHBlbmRDaGlsZChibGMpO2NvbnN0IGJyYz1jcmVhdGVIb3RDb3JuZXIoY29ybmVyU2l6ZSk7YnJjLnN0eWxlLmJvdHRvbT0nLTVweCc7YnJjLnN0eWxlLnJpZ2h0PSctNXB4JzticmMuc3R5bGUuY3Vyc29yPSdzZS1yZXNpemUnO2JyYy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCgpPT57Y29uc3QgY2FudmFzPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlbml1bS1jYW52YXMnKTtjb25zdCByZWdpb249ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVuaXVtLXJlZ2lvbicpO2NhbnZhcy5zdHlsZS5jdXJzb3I9J3NlLXJlc2l6ZSc7cmVnaW9uLnN0eWxlLmN1cnNvcj0nc2UtcmVzaXplJzt1cGRhdGVSZWdpb24oTWF0aC5taW4oY29vcmRzLnN0YXJ0WCxjb29yZHMuZW5kWCksTWF0aC5taW4oY29vcmRzLnN0YXJ0WSxjb29yZHMuZW5kWSksTWF0aC5tYXgoY29vcmRzLnN0YXJ0WCxjb29yZHMuZW5kWCksTWF0aC5tYXgoY29vcmRzLnN0YXJ0WSxjb29yZHMuZW5kWSkpO30pO3JlZ2lvbi5hcHBlbmRDaGlsZChicmMpO3JldHVybiByZWdpb247fWZ1bmN0aW9uIGNyZWF0ZUhvdENvcm5lcihzaXplKXtjb25zdCBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO2Muc3R5bGUucG9zaXRpb249J2Fic29sdXRlJztjLnN0eWxlLmhlaWdodD1gJHtzaXplfXB4YDtjLnN0eWxlLndpZHRoPWAke3NpemV9cHhgO3JldHVybiBjO31mdW5jdGlvbiBzaG93QnV0dG9ucygpe2NvbnN0IGNhbnZhc1JlY3Q9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVuaXVtLWNhbnZhcycpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2NvbnN0IGJ1dHRvbkNvbnRhaW5lcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaW9uLWNvbnRyb2wtcGFuZWwnKTtsZXQgdG9wPWNvb3Jkcy5zdGFydFk7bGV0IGJvdHRvbT1jb29yZHMuZW5kWTtsZXQgbGVmdD1jb29yZHMuc3RhcnRYO2xldCByaWdodD1jb29yZHMuZW5kWDtsZXQgd2lkdGg9cmlnaHQtbGVmdDtpZihjYW52YXNSZWN0LmJvdHRvbS1ib3R0b208PTEwMClib3R0b209dG9wO2lmKHdpZHRoPDApbGVmdD1jb29yZHMuZW5kWDtyaWdodD1jb29yZHMuc3RhcnRYO3dpZHRoPU1hdGguYWJzKHdpZHRoKTtpZih3aWR0aDwyMjUpd2lkdGg9MjI1O2J1dHRvbkNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbj0nYWJzb2x1dGUnO2J1dHRvbkNvbnRhaW5lci5zdHlsZS50b3A9Ym90dG9tKydweCc7YnV0dG9uQ29udGFpbmVyLnN0eWxlLmxlZnQ9bGVmdCsncHgnO2J1dHRvbkNvbnRhaW5lci5zdHlsZS5yaWdodD1yaWdodCsncHgnO2J1dHRvbkNvbnRhaW5lci5zdHlsZS53aWR0aD13aWR0aCsncHgnO2J1dHRvbkNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9J3JnYmEoMCwgMCwgMCwgMC41NSknO2J1dHRvbkNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PSd2aXNpYmxlJzt9ZnVuY3Rpb24gaGlkZUJ1dHRvbnMoKXtjb25zdCBidXR0b25Db250YWluZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZ2lvbi1jb250cm9sLXBhbmVsJyk7YnV0dG9uQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9J2hpZGRlbic7fWZ1bmN0aW9uIGNyZWF0ZUJ1dHRvbnMoY2Ipe2NvbnN0IGNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtjb250YWluZXIuaWQ9J3JlZ2lvbi1jb250cm9sLXBhbmVsJztjb25zdCBidXR0b25zPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO2NvbnN0IGNvbmZpcm09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7Y29uZmlybS5pbm5lclRleHQ9J0NvbmZpcm0nO2NvbmZpcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpPT57aGlkZUJ1dHRvbnMoKTtyZW1vdmVSZWdpb24oKTtjb25zdCByZWN0PWNhbGN1bGF0ZVJlY3RGcm9tQ29vcmRzKGNvb3Jkcyk7Y2IoYHg6ICR7cmVjdC5sZWZ0fSwgeTogJHtyZWN0LnRvcH0sIHdpZHRoOiAke3JlY3Qud2lkdGh9LCBoZWlnaHQ6ICR7cmVjdC5oZWlnaHR9YCk7fSk7Y29uc3QgY2FuY2VsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO2NhbmNlbC5pbm5lclRleHQ9J0NhbmNlbCc7Y2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKT0+e2hpZGVCdXR0b25zKCk7cmVtb3ZlUmVnaW9uKCk7Y2IoZmFsc2UpO30pO2NvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PSdoaWRkZW4nO2J1dHRvbnMuc3R5bGUuZGlzcGxheT0nZmxleCc7YnV0dG9ucy5zdHlsZS5hbGlnbkl0ZW1zPSdjZW50ZXInO2J1dHRvbnMuc3R5bGUuanVzdGlmeUNvbnRlbnQ9J2NlbnRlcic7c3R5bGVCdXR0b24oY29uZmlybSk7c3R5bGVCdXR0b24oY2FuY2VsKTtidXR0b25zLmFwcGVuZENoaWxkKGNhbmNlbCk7YnV0dG9ucy5hcHBlbmRDaGlsZChjb25maXJtKTtjb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9ucyk7cmV0dXJuIGNvbnRhaW5lcjt9ZnVuY3Rpb24gc3R5bGVCdXR0b24oYnV0dG9uKXtidXR0b24uc3R5bGUuY29sb3I9JyM2NTY1NjUnO2J1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9JyNGNUY1RjUnO2J1dHRvbi5zdHlsZS5wYWRkaW5nPScxMHB4IDIwcHgnO2J1dHRvbi5zdHlsZS5tYXJnaW49JzVweCA4cHgnO2J1dHRvbi5zdHlsZS5ib3JkZXJSYWRpdXM9JzRweCc7YnV0dG9uLnN0eWxlLm91dGxpbmU9JzAnO2J1dHRvbi5zdHlsZS50ZXh0VHJhbnNmb3JtPSdjYXBpdGFsaXplJzt9XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb250ZW50L3JlZ2lvbi5qc1xuLy8gbW9kdWxlIGlkID0gMzk0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///394\n");

/***/ }),

/***/ 395:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"a\"] = attach;\n/* unused harmony export detach */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill__);\n// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nlet handler,elementForInjectingScript;function attach(selenium){elementForInjectingScript=document.createElement('script');elementForInjectingScript.src=__WEBPACK_IMPORTED_MODULE_0_webextension_polyfill___default.a.runtime.getURL('/assets/prompt.js');(document.head||document.documentElement).appendChild(elementForInjectingScript);if(window===window.top){handler=e=>{return handleMessage(e,selenium);};window.addEventListener('message',handler);}}function detach(){window.postMessage({direction:'from-content-script',detach:true},'*');elementForInjectingScript.parentNode.removeChild(elementForInjectingScript);window.removeEventListener('message',handler);}function handleMessage(event,selenium){if(event.source.top==window&&event.data&&event.data.direction=='from-page-script'){if(event.data.response){switch(event.data.response){case'prompt':selenium.browserbot.promptResponse=true;if(event.data.value)selenium.browserbot.promptMessage=event.data.value;break;case'confirm':selenium.browserbot.confirmationResponse=true;if(event.data.value)selenium.browserbot.confirmationMessage=event.data.value;break;case'alert':selenium.browserbot.alertResponse=true;if(event.data.value)selenium.browserbot.alertMessage=event.data.value;break;}}}}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzk1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY29udGVudC9wcm9tcHQtaW5qZWN0b3IuanM/YTlkMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMaWNlbnNlZCB0byB0aGUgU29mdHdhcmUgRnJlZWRvbSBDb25zZXJ2YW5jeSAoU0ZDKSB1bmRlciBvbmVcbi8vIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuLy8gZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbi8vIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIFNGQyBsaWNlbnNlcyB0aGlzIGZpbGVcbi8vIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbi8vIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuLy8gd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuLy8gc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbi8vIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4vLyBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbi8vIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbi8vIHVuZGVyIHRoZSBMaWNlbnNlLlxuaW1wb3J0IGJyb3dzZXIgZnJvbSd3ZWJleHRlbnNpb24tcG9seWZpbGwnO2xldCBoYW5kbGVyLGVsZW1lbnRGb3JJbmplY3RpbmdTY3JpcHQ7ZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaChzZWxlbml1bSl7ZWxlbWVudEZvckluamVjdGluZ1NjcmlwdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtlbGVtZW50Rm9ySW5qZWN0aW5nU2NyaXB0LnNyYz1icm93c2VyLnJ1bnRpbWUuZ2V0VVJMKCcvYXNzZXRzL3Byb21wdC5qcycpOyhkb2N1bWVudC5oZWFkfHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKGVsZW1lbnRGb3JJbmplY3RpbmdTY3JpcHQpO2lmKHdpbmRvdz09PXdpbmRvdy50b3Ape2hhbmRsZXI9ZT0+e3JldHVybiBoYW5kbGVNZXNzYWdlKGUsc2VsZW5pdW0pO307d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLGhhbmRsZXIpO319ZXhwb3J0IGZ1bmN0aW9uIGRldGFjaCgpe3dpbmRvdy5wb3N0TWVzc2FnZSh7ZGlyZWN0aW9uOidmcm9tLWNvbnRlbnQtc2NyaXB0JyxkZXRhY2g6dHJ1ZX0sJyonKTtlbGVtZW50Rm9ySW5qZWN0aW5nU2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudEZvckluamVjdGluZ1NjcmlwdCk7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLGhhbmRsZXIpO31mdW5jdGlvbiBoYW5kbGVNZXNzYWdlKGV2ZW50LHNlbGVuaXVtKXtpZihldmVudC5zb3VyY2UudG9wPT13aW5kb3cmJmV2ZW50LmRhdGEmJmV2ZW50LmRhdGEuZGlyZWN0aW9uPT0nZnJvbS1wYWdlLXNjcmlwdCcpe2lmKGV2ZW50LmRhdGEucmVzcG9uc2Upe3N3aXRjaChldmVudC5kYXRhLnJlc3BvbnNlKXtjYXNlJ3Byb21wdCc6c2VsZW5pdW0uYnJvd3NlcmJvdC5wcm9tcHRSZXNwb25zZT10cnVlO2lmKGV2ZW50LmRhdGEudmFsdWUpc2VsZW5pdW0uYnJvd3NlcmJvdC5wcm9tcHRNZXNzYWdlPWV2ZW50LmRhdGEudmFsdWU7YnJlYWs7Y2FzZSdjb25maXJtJzpzZWxlbml1bS5icm93c2VyYm90LmNvbmZpcm1hdGlvblJlc3BvbnNlPXRydWU7aWYoZXZlbnQuZGF0YS52YWx1ZSlzZWxlbml1bS5icm93c2VyYm90LmNvbmZpcm1hdGlvbk1lc3NhZ2U9ZXZlbnQuZGF0YS52YWx1ZTticmVhaztjYXNlJ2FsZXJ0JzpzZWxlbml1bS5icm93c2VyYm90LmFsZXJ0UmVzcG9uc2U9dHJ1ZTtpZihldmVudC5kYXRhLnZhbHVlKXNlbGVuaXVtLmJyb3dzZXJib3QuYWxlcnRNZXNzYWdlPWV2ZW50LmRhdGEudmFsdWU7YnJlYWs7fX19fVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vY29udGVudC9wcm9tcHQtaW5qZWN0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDM5NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///395\n");

/***/ })

},[333]);
});